// Generated by CoffeeScript 1.7.1
(function() {
  var dnode, http, onSignal, phanta, shoe, spawn, startPhantomProcess, wrap,
    __slice = [].slice;

  dnode = require('dnode');

  http = require('http');

  shoe = require('shoe');

  spawn = require('win-spawn');

  phanta = [];

  startPhantomProcess = function(binary, port, hostname, args) {
    return spawn(binary, args.concat([__dirname + '/shim.js', port, hostname]));
  };

  onSignal = function() {
    var phantom, _i, _len;
    for (_i = 0, _len = phanta.length; _i < _len; _i++) {
      phantom = phanta[_i];
      phantom.exit();
    }
    return process.exit();
  };

  process.on('exit', function() {
    var phantom, _i, _len, _results;
    _results = [];
    for (_i = 0, _len = phanta.length; _i < _len; _i++) {
      phantom = phanta[_i];
      _results.push(phantom.exit());
    }
    return _results;
  });

  process.on('SIGINT', onSignal);

  process.on('SIGTERM', onSignal);

  wrap = function(ph) {
    ph.callback = function(fn) {
      return '__phantomCallback__' + fn.toString();
    };
    ph._createPage = ph.createPage;
    return ph.createPage = function(cb) {
      return ph._createPage(function(page) {
        page._evaluate = page.evaluate;
        page.evaluate = function() {
          var args, cb, fn;
          fn = arguments[0], cb = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
          return page._evaluate.apply(page, [fn.toString(), cb].concat(args));
        };
        page._onResourceRequested = page.onResourceRequested;
        page.onResourceRequested = function() {
          var args, cb, fn;
          fn = arguments[0], cb = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
          return page._onResourceRequested.apply(page, [fn.toString(), cb].concat(args));
        };
        return cb(page);
      });
    };
  };

  module.exports = {
    create: function() {
      var arg, args, cb, httpServer, key, options, phantom, ps, sock, value, _i, _len, _ref;
      args = [];
      options = {};
      for (_i = 0, _len = arguments.length; _i < _len; _i++) {
        arg = arguments[_i];
        switch (typeof arg) {
          case 'function':
            cb = arg;
            break;
          case 'string':
            args.push(arg);
            break;
          case 'object':
            options = arg;
        }
      }
      if (typeof options.parameters === 'object') {
        _ref = options.parameters;
        for (key in _ref) {
          value = _ref[key];
          args.push('--' + key + '=' + value);
        }
      }
      if (options.path == null) {
        options.path = '';
      }
      if (options.binary == null) {
        options.binary = options.path + 'phantomjs';
      }
      if (options.port == null) {
        options.port = 0;
      }
      if (options.hostname == null) {
        options.hostname = 'localhost';
      }
      if (options.dnodeOpts == null) {
        options.dnodeOpts = {};
      }
      ps = null;
      phantom = null;
      httpServer = http.createServer();
      httpServer.listen(options.port, options.hostname);
      httpServer.on('listening', function() {
        var hostname, port;
        port = httpServer.address().port;
        hostname = httpServer.address().address;
        ps = startPhantomProcess(options.binary, port, hostname, args);
        ps.stdout.on('data', options.onStdout || function(data) {
          return console.log("phantom stdout: " + data);
        });
        ps.stderr.on('data', options.onStderr || function(data) {
          return module.exports.stderrHandler(data.toString('utf8'));
        });
        ps.on('error', function(err) {
          httpServer.close();
          if ((err != null ? err.code : void 0) === 'ENOENT') {
            return console.error("phantomjs-node: You don't have 'phantomjs' installed");
          } else {
            throw err;
          }
        });
        return ps.on('exit', function(code, signal) {
          var p;
          httpServer.close();
          if (phantom) {
            if (typeof phantom.onExit === "function") {
              phantom.onExit();
            }
            phanta = (function() {
              var _j, _len1, _results;
              _results = [];
              for (_j = 0, _len1 = phanta.length; _j < _len1; _j++) {
                p = phanta[_j];
                if (p !== phantom) {
                  _results.push(p);
                }
              }
              return _results;
            })();
          }
          if (options.onExit) {
            return options.onExit(code, signal);
          } else {
            console.assert(signal == null, "signal killed phantomjs: " + signal);
            return console.assert(code === 0, "abnormal phantomjs exit code: " + code);
          }
        });
      });
      sock = shoe(function(stream) {
        var d;
        d = dnode({}, options.dnodeOpts);
        d.on('remote', function(phantom) {
          wrap(phantom);
          phantom.process = ps;
          phanta.push(phantom);
          return typeof cb === "function" ? cb(phantom) : void 0;
        });
        d.pipe(stream);
        return stream.pipe(d);
      });
      return sock.install(httpServer, '/dnode');
    },
    stderrHandler: function(message) {
      if (message.match(/(No such method.*socketSentData)|(CoreText performance note)/)) {
        return;
      }
      return console.warn("phantom stderr: " + message);
    }
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,IWZ1bmN0aW9uIGUodCxuLGkpe2Z1bmN0aW9uIHIobyxhKXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBsPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZsKXJldHVybiBsKG8sITApO2lmKHMpcmV0dXJuIHMobywhMCk7dmFyIGM9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbysiJyIpO3Rocm93IGMuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsY312YXIgdT1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwodS5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHIobj9uOmUpfSx1LHUuZXhwb3J0cyxlLHQsbixpKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBzPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO21vZHVsZS5leHBvcnRzPXIoaVswXSl9KHsxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWdsb2JhbC5EYXRlO2lmKCJmdW5jdGlvbiBEYXRlKCkgeyBbbmF0aXZlIGNvZGVdIH0iIT09aS50b1N0cmluZygpfHwiZnVuY3Rpb24gdG9TdHJpbmcoKSB7IFtuYXRpdmUgY29kZV0gfSIhPT1pLnRvU3RyaW5nLnRvU3RyaW5nKCkpcmV0dXJuIHZvaWQodC5leHBvcnRzPXtjcmVhdGU6ZnVuY3Rpb24oKXt9fSk7dmFyIHI9ZSgicGF0aCIpLHM9ZnVuY3Rpb24odCl7dmFyIG4saT1lKCIuL2V4dGVuc2lvbi91aS9zZXJ2aWNlIik7aWYodC5fbW9kZWwpbj10Ll9tb2RlbDtlbHNle3ZhciByPWUoIi4vZXh0ZW5zaW9uL3NlcnZlci9tb2RlbCIpO249bmV3IHIoe2ZpbGVJZEJ5UGF0aDpmdW5jdGlvbihlKXtyZXR1cm4gdC5pZEJ5UGF0aChlKX0scHJvamVjdDp0fSl9dC5fdWlTZXJ2aWNlPW5ldyBpKG4pLHQuX3VpU2VydmljZS5vbigibWVzc2FnZSIsZnVuY3Rpb24oZSl7cmV0dXJuIm5hdmlnYXRpb25SZXF1ZXN0ZWQiPT09ZS50eXBlJiZ0LmVtaXQoIm1lc3NhZ2UiLGUpfSl9O3QuZXhwb3J0cz17Y3JlYXRlOmZ1bmN0aW9uKHQsbil7aWYobil7aWYodC5leHBpcnlEYXRlKXRyeXt2YXIgbz10LmV4cGlyeURhdGUuc3BsaXQoIi0iKSxhPW5ldyBpKG9bMV0rIi8iK29bMF0rIi8iK29bMl0pO2Euc2V0RGF0ZShhLmdldERhdGUoKSsxKTt2YXIgbD1uZXcgaSgxNTEyNTI3ODUwNTY1KTtpZihsLnNldEhvdXJzKDAsMCwwLDApLGw+YSl7dmFyIGM9cHJvY2Vzcy5lbnYucXVva2thPyJRdW9ra2EuanMgJ1BybyciOiJ3YWxsYWJ5LmpzIix1PXByb2Nlc3MuZW52LnF1b2trYT8iaHR0cHM6Ly9xdW9ra2Fqcy5jb20vcHJvIjoiaHR0cHM6Ly93YWxsYWJ5anMuY29tL2xpY2Vuc2UvIjtyZXR1cm4gUS5yZWplY3Qoe21lc3NhZ2U6IlRoZSBpbnN0YWxsZWQgIitjKyIgdmVyc2lvbiBpcyBub3QgY292ZXJlZCBieSB5b3VyIGN1cnJlbnQgbGljZW5zZS5cblBsZWFzZSB2aXNpdCBvdXIgd2Vic2l0ZSB0byB1cGdyYWRlIHlvdXIgbGljZW5zZTogIit1KyIuIi5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpLG5vRGV0YWlsczohMH0pfX1jYXRjaChkKXt9cHJvY2Vzcy5lbnYucXVva2thfHxzKG4pO3ZhciBoPWUoIi4vZXh0ZW5zaW9uL3NlcnZlci9tdWx0aWNhc3RlciIpLHA9MmUzO2lmKHQubGljZW5zZSYmdC5saWNlbnNlIT09bi5fd2FsbGFieUVtYWlsKXt2YXIgZj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2guZW1pdCgibGljZW5zZS51c2UiLHQubGljZW5zZSl9LHApO2gub24oImxpY2Vuc2UudXNlIixmdW5jdGlvbihlLGkpe3QubGljZW5zZSYmZSYmdC5saWNlbnNlPT09ZSYmbi5fZW1pdCh7dHlwZToibGljZW5zZUNvbGxpc2lvbiIsYWRkcmVzczppfSl9KSxuLl9tdWx0aWNhc3Rlcj17c3RvcDpmdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoZiksaC5zdG9wKCl9fX1yZXR1cm4gdC5saWNlbnNlP1Eud2hlbighMCk6bi5fZmlsZVN0YXRQcm9taXNlKHIuZGlybmFtZShuLl9waGFudG9tanMpKVsiY2F0Y2giXShmdW5jdGlvbigpe3JldHVybiBRLndoZW4oe30pfSkudGhlbihmdW5jdGlvbihlKXtpZihlJiZlLm10aW1lKXt2YXIgdD1lLm10aW1lO2lmKHQuc2V0RGF0ZShlLm10aW1lLmdldERhdGUoKSszMCksbmV3IGk+dClyZXR1cm4gUS5yZWplY3Qoe21lc3NhZ2U6Im1vYy5zanliYWxsYXdAb2xsZWggdGEgbGlhbWUgYWl2IHN1IHRjYXRub2MgZXNhZWxwICxtYWV0IHJ1b3kgcm8gZmxlc3J1b3kgcm9mIGRvaXJlcCBsYWlydCByZWdub2wgYSBlZ25hcnJhIG90IGVraWwgZGx1b3cgdW95IGZJXG4uZXNuZWNpbCBhIGVzYWhjcnVwIG90IGVzYWhjcnVwL21vYy5zanliYWxsYXcvLzpwdHRoIHRhIGV0aXNiZXcgcnVvIHRpc2l2IGVzYWVscCAsdGNlam9ycCBlaHQgdHJvcHB1cyBkbmEgdGkgZ25pc3UgZXVuaXRub2Mgb3QgZWtpbCBkbHVvdyB1b3kgZG5hICx5dGl2aXRjdWRvcnAgcnVveSBkZXNhZXJjbmkgc2FoIHNqLnliYWxsYXcgZklcbi50dW8gdGkgZ25peXJ0IHJvZiBza25haHQgLHJldm8gc2kgZG9pcmVwIGxhaXJ0IHNqLnliYWxsYXcgcnVvWSIuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKSxub0RldGFpbHM6ITB9KX1yZXR1cm4gUS53aGVuKCEwKX0pfXJldHVybiBlKCIuL2V4dGVuc2lvbi9jb3JlIil9fX0seyIuL2V4dGVuc2lvbi9jb3JlIjoyLCIuL2V4dGVuc2lvbi9zZXJ2ZXIvbW9kZWwiOjEwLCIuL2V4dGVuc2lvbi9zZXJ2ZXIvbXVsdGljYXN0ZXIiOjExLCIuL2V4dGVuc2lvbi91aS9zZXJ2aWNlIjoxNixwYXRoOnZvaWQgMH1dLDI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LG4pLHQucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCkscj1nbG9iYWwuRGF0ZTtpZigiZnVuY3Rpb24gRGF0ZSgpIHsgW25hdGl2ZSBjb2RlXSB9IiE9PXIudG9TdHJpbmcoKXx8ImZ1bmN0aW9uIHRvU3RyaW5nKCkgeyBbbmF0aXZlIGNvZGVdIH0iIT09ci50b1N0cmluZy50b1N0cmluZygpKXJldHVybiB2b2lkKHQuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCkpO3ZhciBzLG89ZSgicGF0aCIpLGE9ZSgiY3J5cHRvIiksbD1lKCJjaGlsZF9wcm9jZXNzIikuZXhlY1N5bmMsYz1lKCJ0aW1lcnMiKS5zZXRUaW1lb3V0LHU9ZSgidGltZXJzIikuY2xlYXJUaW1lb3V0LGQ9ZSgiLi9zZXJ2ZXIvZmlsZVN5c3RlbSIpLGg9ZSgiLi9zZXJ2ZXIvbW9kZWwiKSxwPWUoIi4vc2hhcmVkL3V0aWxzIiksZj02ZTUsZz03ZTMseT01LHY9MTQsbT0iYWN0aXZhdGUtbGluayIsVD0iY29udGludWUtdHJpYWwtbGluayIsUj0iRnJlZWRvbSIsRj17QXRvbToiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBcXlkUUJacGU0dlBtV3ZIMnlyaUhcbjhmL0Jtb2txY2xEcUpOSlVDb1YrUlFhdzE2cnQvaTNrUlVVSHFZWFYxb3p4UHZRc056QXBQcmFwKzIxTXFWVFRcbmd6cFNKQjZIbmhZYWJBT01haHV2emFabHh0RVVWQW9kWndHWG43YmRETDZ0YjdXSWpvaGhHbXlmc0RLdisycGlcblZWbkJQK3FHUlh0dGF0TnlLazBtVE9mYlViODBtc3E2UzNNbmZoTThTdU9vODMreFkvdFo1aVBHd3pqMTFiU0ZcbnR2a2JNQWNYM1ljS2hvRlJteThLZ0R1T3hqUThtZTgyRHk2U2dzaGxzYWU4LzJTTlZ6MGlNY2dDSVRBU1hPdVhcbjBGMFFGQ3JlanhYVFR6Z2g3VEJlOWE0eDUxaVlLTWZNMXdxcVhoVi8zeWNzekhacndHRWY4RmNvNzNMV3Rmb21cbkh3SURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0iLFZTQ29kZToiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBd2YwUm42cmdGTVZOdWFlZzNLZzlcbmtqTE5VVDhaMmZuSXJqVWhER004RlM3bzVrNE5UMUZkem5xc29CcHJMZHJMUmRrTXpqSDhJUHJyRVU1cktpV2xcblZPMGlLVTdRN0FtTWZBVFN0ZXp2ZnlzMEFBbCtvM2Yva1FpU1p4RDJVNVAvSzM4a2xZcHdmOUw4TU10aEFlRUZcbnk0eHpBNWVCdVB6QmRSSHh2VXdVcWhDQjlvNzNaNE1heEhucmF6NWh4MGY2YWdFZExWVTZYc05rbzV3WG44Wk5cblA2QmJrT09tL0hnVThLa1d1SmJVNTh5Z1h4UGYvZm5aSHUyZ3R2cnovck5lbW9YWTFmRHlkaXpOeER5K1pQZ1Bcbml3ZVNkcW5MaGxGb0pFdXhuSXdvUGxZTTdKd0toM0ppaE96QXFRUTVVNUprTTVlL21GUS9sRnFDVnhNbG1CUVdcblZ3SURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0iLFN1YmxpbWU6Ii0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tXG5NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXUxRUVEWnpRKytsNnR6MmlvQ1BhXG5IeE9TY2p5MmtSRGRQb1h1UTg4elpHNlZldnhxbUl6YWRIUEZHalY1cDNabThPWTlSK1NmNjFrZHpSWnp2V1JnXG54b3JsYW5vT2x1dHZmQmZHMmxrdjJKNEgvQjc1WHBvQWVHdmR2SWxPTW9EeGZ3ajJ2TUlRNG9ITmFDSjJ5K08vXG5pb2hURk9DMDduWTd1ZjJzYTB1c09BWjd6ZytiWHl6NjMvZnVTZVZvdUZDS0dlWUt2cTFZQzk5MUYySGowVGhNXG54eGVsbGM2eDFBYUZ1eXlHNUhtZFlxYnVLTlMraUF0N3c4cFlUSm9YeGk5akUwMjE0R2Ywc2JzRm5BYkJGajJzXG5rT2FlZTRQU3BseVNaWEVtWVJlcFAxK3c2YURrdWJWdHNITXZGdCtBcjR3dTRkTHVBajdTOHl4VlZyS0VHOVJ6XG40d0lEQVFBQlxuLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tIixGcmVlZG9tOiItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUE0cERvdGVqdHpoaVQvbHBOZmQwSFxuMkR2MDhOVFNKOC9peHVRejNpSmlWUnhRa290NVNuNDV3dTRRaVFFb1k1TlEvdERmOFY5bURlZVBOVS9aZDhLWVxuZHlSRm9xNmJ3T2xIYzBIQWE1MHRlY1JDRUNFU0IrdDNUVmNxTE1vZ1gzMnZnUWtTbWx5MHNGeHRHRkJqTjhXeFxuVitRN1dROG5lZnQ3SkthWHRtKzJGdDdQNDFvbmQrU2ZCZVRvaDltbjlERmZ0K091STJ2ejdzME9TamQrUDJid1xuK0dFSXIzb3RsM0NBNVJySUg5V1JzQVZqYXd2K3o1THZha1FYdE82Sk5ObUpnRXJIV1pta0JJbHYyVkhEc29TZFxuTUxnYTJqVGlFSHJrWnlsS1BGb3ovaE9kaC9pVkg0L3IxQVd4QmhqOElnUWxSY0xKZ3ZTQnpKbzRPbEJobFloNlxueHdJREFRQUJcbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLSIsUXVva2thOiItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUFvaFIvTzhYNXB0Z1BiZWxzU3NhWlxuV0pIWjdGa3FvMzlDeDlVWVBzMnJZemJ3OTRhWnJJZVJkZGZnRDU1Z1NaWjNKa1JYUmRaN0tibStYVHJpNlYwL1xuMFpldCtGS2FlVzB4a290SHZNUDBmVHpHbmFqUTZDODM2TTh3UVI5ZjFuZHFkN1RzYTMwa0FlZ3ZQcWhLdUkrV1xuYVcxR1pyU2VlZXlxMy91WjR0aFBFR3ZGRFhqNlAyb2dFYUV4MzZXdXFEOURWMVV1WTd2Y20vZlBZWnBmR2dQdVxuOEo0SEF6SzVHME95clNlblRYLytKTzhwS2pPdEY2SkhLYVFtaTNDRjF0Q0ExZXc4c3ZaMFpMa0s5QUdvTSs4T1xuYTlreDFzQnA0WXZDakEwVlJ4ZE8vNjZPdEJSaEZuS1Y2SmJvUFRRNFNHMmJGQUtZUkpPN3RuUzdubmhpY2dIc1xuRXdJREFRQUJcbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLSJ9LFY9eyJRMGRDSUVWdWRHVnljSEpwYzJWeklDTnlZWEo2TkFwa2FXNWhhQzV3YkdGdVkyaGhjbVJBWTJkaUxtTnZiU3hYWVd4c1lXSjVMbXB6SUdOdmJYQmhibmtnYkdsalpXNXpaU0FvVmxNZ1EyOWtaU2tLTVRFdk1EVXZNakF4TndwT1QyWlVhRFpXTlV4R1luVkZTVTV6YlV4WVJUSjNPVk16TVRaalNIaGxWVnBHVFdKRGNETTNSaXQwUjNKc1RGRndibHBEYjFaRlFucERUVU5RZGpaRWFUUldNVEZMVUU1TVNHbDRaR2QzY2tOR2VEaFBVRkJPTmpRNGMycEpNWHBXVFVsMFRYQnJSSFJpTHl0TGR6UjZNbUpTU1VGMmNFbDJaeXQ0UjA1dlExSXpWME5PU1RsaFdXVTFWWEIzVVVGM2RHRjJhMmRpVTA5a2RIZEdhbTFKTDIxcFV6QlhObXBYWVVkMVRuUkNSM1ZrUlZOVmNtcE5NRlJsTTNSalJsQkRUVlIzTUZKWU5YbHBTWEpzWlZOa1FrcFZlRTlUV2t4VGNHWXdaMncxWVZrclRYTkxWVGs0ZEhwTmFsVjFjMnRHWkdzM1NYWnFWRTFsUTB0TWIxcDZkMmgzTVhSTE1XMTFjRkJPYlVOaVZVZDFhMU1yZDFSVlJsSldVRUZ2YkVOelZIcEhMMUpFUldoV2QyTkxaa3dyT0M5eVIwMTFVVUpyTkZaNFp6WkNjbnBwT0hvNVdVcE1SSFpzYTJoa2NrRk9ka0ZYWm5jOVBRPT0iOjEsUVcxaGVtOXVJRU52Y25CdmNtRjBaU0JNVEVNZ0kzaGhaVGwyQ21Gc1pYaGZjMk5vYVdOcmJHbHVaMEJ6YUdrdVkyOXRMRmRoYkd4aFlua3Vhbk1nWTI5dGNHRnVlU0JzYVdObGJuTmxJQ2hCZEc5dEtRb3lOeTh3TkM4eU1ERTNDa1ZqU0d0MksxaHJlVzVqZUZKRVdWZEZVRkZpYnpkWVZteHFVRVEzVkc0d2VqQndlbTFFWlNzM2IyNVBWWEJuWVRWQmMydExTVEF5Y2tSVVdTdEZLMlJXTkM5cEwyWmhXRzR3ZGxGcWRFSjNOMFZTYTNkTU0zZFhWVEZOZUhKNE5VMW9hSE51ZGxveVNqTk1ZM0JxYjJsMU1sUkthR3hpVUhsSk1YWldSeTlHUVU0M1dEVnRWMFZzZFhKdVVsRkhhbGRCY0ZkT1UwTkNMMlk0VUdabFpGVmliVU51YVM5elpXNU5PRGxSVG5JcldETTBaekJqYWpkYVExRXpXVmgyYnpkMFMwMXdNMUZyZDI1UGVVaG9lVEJ0TkN0MWFUaFlaRXBZUms4NFV6UnFXRk5QU0VrdmVpdHlOVE15VjBFdlNVRkxlVXR0TTFnMFZXbFRXbWxNVkhOTWRrWTFOVVppUjJreFNsWXhZV3hQZVVaclJIQldUbmg0U2pKTFVVUlBNbmxGTTI4clkybHNZbFk0TW10VGR5c3hkRVpzTHpadE4yeHViM2RoTTBOSVdtdE9kVmhZZWxkRkwwdzNPVUV3UjBoaU9FWnhaejA5OjEsIlNuVnpkR2x1SUV4bFpHOTFlQXBxZFhOMGFXNHViR1ZrYjNWNFFHcDFjM1JwYm5kbFlpNXdjbThzVjJGc2JHRmllUzVxY3lCd1pYSnpiMjVoYkNCc2FXTmxibk5sSUNoVGRXSnNhVzFsSUZSbGVIUXBDakEyTHpBMkx6SXdNVGNLYjJvNWRFRlJZVXR2UTBkYVRHeHRZV2R4WlU0elZFVkNWVzl3VVRGeGNHTlBVa2xqTUhkblZqVXJWRVF6TkU1aGFFZFFWV2hYYUZWU1lTOWFkSHBzTjBWYWIzVjBNelpqWlZKMFRVY3lVa3d3SzJsYU4wWmxZMk5TVm5neVZUUk5iVTl0U0dwT2JFRlhaa050S3pBNGREWlZkMmszUVM5T2QwOVRja2x1TWtSV1dUWnlWMDlqVFdsRlNsazRhV0paWlhwblFWZDFkRGNyVjBFdlRrWXhWMDExWkVjdmVsZG5kVmRQTlRsMVFXRlFlRWQwUm5SWlRqZEJUemRTV2tSRGJHRnliM0lyUzA5TlRtZHpXalF2WW1NMk5FTm1Uak40ZFdZeVJFOWtUakJJTjI4MlZVcExhMDFLYVVOd1pHTkZUWGxUTTFaMVNGSnNSVlprVlUxcU0ycGxabE5sUTAxR1JtRmliSEJYTUZselEyVkNRVFUzV2xOM1dYQklLMDVLTldrcmExbGtNM1pqYkN0emMxRlJlVlJITld4WlVpdGlNbkZXV0RWRVdsVlZUWFYwTUZkVVRYWXJNMGhLUW5wTmNGTnVUalozUFQwPSI6MSwiVUdGMWJDQkpjbWx6YUFwd1lYVnNMbWx5YVhOb1FHZHRZV2xzTG1OdmJTeFhZV3hzWVdKNUxtcHpJSEJsY25OdmJtRnNJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakF4THpBM0x6SXdNVGNLY1c1eVdHZHRZM1JVSzJRNFFVVTNNRWx2TVZWUmJ5czNTR3hvVGtWdGNVaFVWbk5wY21KWlZDdDZNamhMVGpWd2RUWjZhV1k1UWtkSE4wUlpNRk4yZW14QlQwTlFlWEphVG5vemIzaEpPVU51ZDFsVU1tWmhSR001ZUdwaVVteG1ZbXB3TURsVlRUQmlOMjl5TURWeldFWkhNa3N6U0ZWbVkzWk5Oa000YUcwNWRWbHlaV2xYTkV0TU1Xd3dSVE5HZFVob1pYaDFSM2x2Wm1GQ2RXNUdNakYxWTBWaWNWY3hTRXh1Y0hWRGJFNHJLelJvWWl0VlowaFdiWGhMZWpVM1R6QjJUbFZsVEdzcmFuRlVWU3RDUlUxWWVrNU5ZMWxMVlZGNmIwZHhNRlF3YzFvdldtNTFaMDE1VmpKU1VXeFFlRzFVYUcxblIzaEVTU3RSVVRKNmNYZHBSMjFSZVdGelNGUkxhVFZXUjJ0UVdEWldhbFZsTUdOVmNrVlFMMEp0TkM5V2RYZG9iVmRxUldWU1REWjBiMDQ1TkhwdlJXRmxVRU5KSzNsdVFuZEdUekZMZGtSM2IzWTJaa2xZTURKaGJ6SnRka3QzUFQwPSI6MSwiVkc5aWFXRnpJRUZ1WkdWeWMyVnVDblJ2WW1saGMwQXliV2x1WkM1a2F5eFhZV3hzWVdKNUxtcHpJSEJsY25OdmJtRnNJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakF5THpBNUx6SXdNVGNLWWpOMlRUaG5Sbk51YUhkeE9HVXJablV5ZUhWd1ZVVmlUa3hYYzFOV1VqSjBZbVZUUkhWTVRHcEpOME41UTI1UldFOTZkMlZvTDBSUEwyUk1OaXMyZGs5WVZ6ZGFVMUEzVFM5RFQzWXhlbmR0TDFkNlNFWXhWMHRLWlZOWmNsZHZWRmRZTkRsbVNFSldURTlNVG1KRmQwNUllVmgwTTBSM1dubDFhMlprUVVKVlUxbFZRMkYwYXpCMk9HRnhjRzUwTkRrMkwxUlZWRWRuV1haRmFrNUpTMjlhTWs1WE5IUnlTa0o1UXpjdksyZ3lTMHhFVTFOeFkyZG9ZV3BqUVN0YVkwVjZOelpPYjNKQlNtNHJOV05FUjJKTlVHOVpZMjgyY0ZscllYaDNjaXRRYTB0d1ZFSm9jblU0V0hSVVZIbDRlRlpaTURBeFNtSldibWxWTjNaUVltVlhXVmhqUlROblZuUnRjVkUwWmpOTGMyTldaVGhFY2pZd1l6WnBTVW8xSzNaclVGTTNMelJyUmxNMFMwNUNSVmxSWTFWeEwzRmlPVTVvVmtONVVWRlVhR0ZGWTBkcmJrMVBkRTFsVUdOM2RXRkxTVXhCUFQwPSI6MSwiVjJsdUlGUmxZMmh1YjJ4dloybGxjeUFvVlVzcElFeDBaQ0FqZG5kdWRXa0tjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pBM0x6RXdMekl3TVRjS1F6aDBaWHBQZUZsbGIxRklhMjFUT1U5NFNEWmlNM1IwYzNkalJ6WndXakp5YVRjelJETkRkQ3Q0YlZGeFNIb3pjVGhhVjJGeU9USlhLekpVVlhKcFdIbG9UMDVHVW5SalpWZHdlRWx5TkZoallYTTBTakZzYm5OU2FqbHpaSFpsTTNaclFXMHpLMGxVT1dWdlNFMTBXbWROVDBKRlRqZGxiM1pVVmtGb09UUkxLMjgxUW5kYU9FTkxZVEpRZW1WS1RVaHpkRVp5ZDJ0R2MwdFNNbEJvUzBRdk1EVndaRGRMTnpjNGREbHZRM2hQZERWRE4zRnNZVFZzVFdkNVNscHVVVU5wVDNGR2VqSk1TM0YyU1RncmNEVnlOemt3V2poTVJUUlBVRkZqVUROdFRrd3JOWGQyUzFkeVoyaHpUVFl3YVhWVU0zRkhiSFY1VWtGTGVTOXpia3c0ZFhReWJqTjNkbnB2TkhnclZGVnRZbkZKVjJ4alkwRkVTM2hzVERGRlRpdDFhVnBJWnpGcmJXbDFlbkpDVWxOVlZ6Wm5haTlGYVhKdGFUUk1jM1poU2xocFEycHRjVzh5UWk5NFNFUjFOSFkxY21aUlBUMD0iOjEsIlYybHVJRlJsWTJodWIyeHZaMmxsY3lBb1ZVc3BJRXgwWkNBamNXTm9PSFVLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqQTNMekV3THpJd01UY0tka3RqTVdjd09FeHZkWEJQVUVOSVIxbEhTa2RIYkdObVdXcHFSazg1TjFaRmVXdEtkazVYU25Gd2NUaDVkRk5PUWtKVldrRmtVMGxWT1hKRFpXRkZTbTg0WTJKb1RrcFpaelZWZG1KS1lUVjVXWGxrZDNRMmVWcENiMHBvUmt0WldqQlZiRkVyZFVOUmRrOUlTbGhHWkV0NlNHTm1UbmxyWW5rNFQyWlBjemhNVW1GUFNHTkdkVWcyTjBNNFMyWlNhbUZJYVc1cWR6RnpURkpVWjBKUmRUWTJaRU50VkhablNubDZVSFIzYWxCVE9UVlJPVk5XZHpoUlN6VjNhR0l3VXpKeVRIQXZRbXhOY21nMVdXZzJha1ZwUmtSeE4xWXpUWGdyUVdWelJXeGtXSHBLWWxkSVpqTnFaRXhLU25GRVZ5OVdNaTlTWnpjeVFuWnRiMWhtY0VScVRXWjNkbVF3VGxZeFNITklVemc0ZEhGTVozbENjSGxvYmxaWlNEbGxTMFZTVWtseWJuTllhMVptVDJkUWFUUnNWMlJUU21kUGRVVjVVV2xZZWt4blJHeEhNVkkzUVhWdlpHZFVaVW80Y3k5a1dWWlJQVDA9IjoxLCJVM1JsWm1GdUlGUm9iMjFoY3dwdGIyOXVRR3AxYzNSdGIyOXVMbVJsTEZkaGJHeGhZbmt1YW5NZ2NHVnljMjl1WVd3Z2JHbGpaVzV6WlNBb1JuSmxaV1J2YlNrS01USXZNVEV2TWpBeE53cDZNVkprVWpWRlpXZHBWekZZTHpZeVRrczJSMFZKWmxCcVdXZ3JVVUZoUlhkTVZVdHViMHd4UVZOVmEwWXhaM2hKTVdsMVlVZFlTWGxLWm1Sak5HbE9ObUZKYmpWT2FXaFdWbTlzZDFrd2FFeEVSM3B0WVdaSlEydFhSVkp0WTFFd2NHOTBSM1kzTjBZd1puRXhhVFpQUVVWNlNGTnpTM3BQZWpaMFZVOHJjbWxXY0ZaalVIQlViRUoyZFVKa1RITTBlV2N6Wm1zMmNsbExWbnBJYTJOSGVpOHdZbmxMZFVWWVNUTkVURVJvUTNGS1UyOHhWWFpOYVVkUFZsQktVV05aV0dwcmRrcFhVWGN6UVZWSWFrdDFOWEJVVFZOQlRtTklkRkpzVVZoeGFsRklTMWxhWjNKWk0waDRXRFJtY0ZWcVMwcFdTRFpqVFZocFNUUjVNVWxuT0U4M09UZFZkVUV5TkdnNVozTnVSbFYxVjFoYVZWaGxkRTVHV2xWTVluSk1kVmh4VFVoaGFIRXhZalJsV210cmFVSnRXV2xFWkdFMU5Fd3dLelJNVG5OYVNGWk9Ra2RSUVRGd2MyMDJiQzlKYTFkNk4zYzlQUT09IjoxLCJUSFZqWVNCVGRHVmxZZ3BqYjI1MFlXTjBRR3gxWTJFdGMzUmxaV0l1WTI5dExGZGhiR3hoWW5rdWFuTWdjR1Z5YzI5dVlXd2diR2xqWlc1elpTQW9SbkpsWldSdmJTa0tNekV2TVRJdk1qQXhOd3B5ZUZZck5WWnNObE5UUTJ0Uk4zQXZia3RvYjA5NGQzYzFkRU1yTW1vNWFHOXVORUphZUVoV1QyMTVRa0ZxTW0xWmVFODRSRkJRVFhOdmNWbDNObU5PVWpkbVVVSndWSFpqZWt4bmFtSXpjM2h1YUdwNU9FUjJUa3R0YTFGbGNXcFZkVmhxYVRCSFIxbFRTa2RaT1ZaWFJqbHFaMmwxVW1oTlowVk9MMWN3TXpWWmRGTTBRME15Umk4d2NVRlpNVmRXVmpoU01qWlFWRE5PY3k4dlVFZDJiVEUyZUhvclZqaEdja1JsZWs0NWF6UmphRkZMT0RSQlJqQkdkVm94TUVwdE5qUjFaRWhOVTNsSWVtZGtlV0ZMVjNkUFRHUmlZV3N3Vm5ZNVNqZ3JPRGt6YzFaRU1VdDZXalpZU21rMFpUWXdabFkzUjFKMmJWaFVkRnBtYWxGSE1UQXdkV1JJTkc5T09VbHdPSGRVUkhZNGJrZExlRGhLV0hWdVpHODJNbEY0Y0hJMlQwcG5XaXRZV0M4eFFsRm1UMVJvYzI5cVRXUm5SR3hYUTA0d2RrTlpMMDVxUlVaa1VHdGpVRnBRWkV0YVFVOTJRVUU5UFE9PSI6MSxURzkxYVhNZ1ZtRnVJR1JsSUVOaGJITmxlV1JsQ25aa1l5NXNiM1ZwYzBCbmJXRnBiQzVqYjIwc1YyRnNiR0ZpZVM1cWN5QndaWEp6YjI1aGJDQnNhV05sYm5ObElDaFdVeUJEYjJSbEtRb3hPQzh3TVM4eU1ERTRDa1I0WTB4WlRWRTBVQzgyYkdScGIycFRWVTlRWjBabGVYcHBiM0ZIWjA1aFoxYzJjM0pOTmpOeE9EWlhRekYwUVU1MldGVklhaXQzY1hweVFuZDZSa2RNWkdGVmRYaFRSVFZGUmtZeWFFaE9RMGROTTBaWmRsZE9jRGxUT1VSSWNDdHVORE13VUhkTk0yRjBXVlE1TVVOQk5YVkxZamRqYWt4Mk9VTmlUVVZOTURobk5ISkhOVVIxWW5vM1dIRXhlWFF4TWpsNFdVVjZhbXhaUW10U09VOUlNbnBQUlhKWGIwRnFVVzVQZVZoMGNXMVZSelZWTkdKTU1YcFNhRWhDVGtoeVJXTnRibWgwWlhoNWRIRkROVGR5VEhKR2VqSkZORk5MYTJWa2VUYzFjMnB6Ym1oSU1WaFpOR3hQT0hkeFFrVTVTa3A2Vm5WWFJtMWtjVWh5WW5KQ2JVWkdhVVZFTTFoT2NsWkVaVUZoYm1kMlVXZE9RMDUwV2tSQlQzZDBRVE5HVjFaT1RFUnFNamxyY21KMFFqSlFOMHR0UldsV1UxSTBXVGROVjJ4MWFrMDBXbmcyZVhWb2J5dHNPVWRsYUVKNlZISTBkejA5OjEsIlJHOXRhWE52Wm5RZ1VHbHZkSElnVG05M1lXc0tjQzV1YjNkaGF6SkFaMjFoYVd3dVkyOXRMRmRoYkd4aFlua3Vhbk1nY0dWeWMyOXVZV3dnYkdsalpXNXpaU0FvVmxNZ1EyOWtaU2tLTVRBdk1ESXZNakF4T0FwMFZ6bDJXbGxOWVVwQ1IzTnBNMEpJUjBkWVUzbHFPRFYyT1ZkTlZUTTFSbEprZVZsUlVVTnhaWEpuVUZkTGJrbEhWRmh0ZUdWaEszSlFURWhySzJselFVeDRaRU5tZFZneE56bFFZeTlxWjNSMloxSk5jV2NyU1hsbWJYbzFPV01yWTFBNWNHSnZOREIyT0ZZcmIwWkdOM1pCWkZoVmMwVTFURkJ4U2t4Q1NuRjBlV2hMSzBKSmVXZHZOVFowYTNoRmMyOW9NRGsyYTAxRGRuZE5SbVl3Yld4NFVGb3diazlzUTFndlFrSnNMMHB0ZEdSM04wcGpLMU5ZZVRjeVZUWkthR1ZwV0VsVk5HaENSVkZNZVVKcFJtdFFPR0pZWjNjeVlXTXJUbWgyU2xsWmJWaDBjMjFHTHpSUlRqRnphVUpDWjNwMWRHWjZWVWhhU25KV05GZExOR1JqVmpjNVp6VnpZaXRaVVhsRmRtaHROakZWWVdWMVFtWnBhRnBKVWtKNmNGbERhbFJDVTFJM2RFSmhWWGRHVnpkbmRIaG5ZblZUUWtRMWMwNVdWV0YwY0dVeGRYQnRURlJ4TWtWRU1VRktTR1pMTUZFOVBRPT0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpabmw2TUhjS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLWTJ0UlZ6azNSbk5qU3l0SFdVWkNTRnB0YVZoTVYyOVRkbEZoVTJrNFF6UTBMMWQzWVdFd1dFMXZWbVIwUlVRMWNuWXJOaTlrWXpSUFVUWlZhRlYxT0UxdllrMVVkemR0WkdwNVRHVkVNamQwY2paalJrMXlZakJ0YUhkeE0zZDRhelkwZFc5NGFrdE1WbXMxU0dSb2FGVmlWRkpDSzJsdmJtNDVPV0ZtTDJodFRVZFhVVmxuYTB4UldXZEhja3RCWmtsSmF6RTVTVmRZTVU1cVFpczVZVkZpTVdORFdGUjNSSG80UTB4T1VtUlVNRFpLUW5OdmIxQndlbEZ2TUdsQ2JrdFdTRlZUVjA5U1MwZ3pPRUZzTjB4SWFEY3hiVXcyVlcxa1ZHMUZhVkZIWW5RNFFqQllkUzgxU2xaMWRXdDJSSEUwWm5aTGVHNXZla3BoVjFBclRYcHlSMU0wZWt0dldFOXBha0prUm5VNVRURXpkeXRaVGk4MVZXOWlRMEV4U2xSelFtTXlkbWMyU0hGVU0xbDZRMU5HTlZrMmRqVjRXVGh1ZUdNeE9UVkxkRE50ZW5wcE1tOHljbVZPUWtSNVFuQkhUVEJSUFQwPSI6MSwiVjJsdWRHVmphRzV2Ykc5bmFXVnpJQ2hWU3lrZ1RHbHRhWFJsWkNBak1HWTBOM2NLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqRTJMekExTHpJd01UZ0tkMHh5VDFGdFRWQm1SV3BWZUhaSWN6WnhhMFZoYUdwVWRYZE1TazFEVWxsVWNVVktaSGRYY2psTU5VcERWRmMxYlhscGJYTTFVV1JXTms5V2JsUnNibEp3UzFWbFFrUkhXRGN3YzNwNFREWXZiVFZ2WldkbFNHWm1aVGxpUTNGM1FYWlpLM3BPYTBSeEwwUXpSMnRrZDJwWk5qbFRiV3h5UkhoMlozRm5VRTkyTVRndlRXeEhlRWhHU21kVmJtOVRWbmdyUWpKNWEzbDNXV0pUYnpKSE5ubGpXamRYY0c5TE9IbDBaRWx0YWxNcmFGZDRRME0yTTBOb1VHb3piM1UwZVhCNE1tSXdjMEZUTlUxdmFXcGFXRWhLYzNNeVJVOHZWR2hZV1U5RVlqaE1VVEZXYzJGNlREaExSRFozVldoT1NHVmhaa1JzZEdwaVVtVnViVU5pZGxBME9XdHViWEZMWms1VGRXeDRja0YwZVRBMWExTkdNamh2U21VMFFUVkRXR0puWjFsTE16TjRXbnAxTkd0NGFtdFBWM0pKTDBkeGJUaHliR0o2VHpWV1JqTkJVRVF2WTBRdmFXTlJjVE4yVDJvMFpWRlJQVDA9IjoxLCJWMmx1ZEdWamFHNXZiRzluYVdWeklDaFZTeWtnVEdsdGFYUmxaQ0FqWWpadFl6Z0tjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pFMkx6QTFMekl3TVRnS2JHZDRSU3R1UWtkeGFqVXJXWGQxYWxneVdVRmtjMHhOWjB4M2FrNXBPRmxtU0hkSlZuZHhVV05ZTWtWcGRraE5XbEZGUXpWMU9DODJiemRNT1ZjME4ybFBSM05aUzBOR1IwY3pXa3BqU0hkRU1EVjNOVWxWUWxKclFrZ3dWVEk1UmxneFYwMVBXV1ZrU1RoTVZtSTVkMlV6ZFVrNU9HOVFTVW81WkhkdVZHRjVlakJWSzJrNWNrZDZjRzVyVFhWblduaE9ZakIxVjJ0WVdGbEZWa3RsTDJGbGJpczViV3RhVFZCQ0wxRnhaR2RRTVROYWJtWm9PRXA0UlVkd2RqWllWRE5SWXpsemEwZzVTRkpQYVVaMldGQXhUbTE1TlRkbmNVcFVkWE13YVhGWmEycFdWbU5zZWxwaFJVMUpLME5SZUdSRWEwc3dia295V1hWWU5ERTFZemt6WkZwb0t6ZHFiRnBuWkhWQmEyNVBXVUp4YUZWeE1qUjZiVXRyUXprNVlWZGhOMDVhWVdwaGNVd3ZSazloTDBSck1taFlaR1pQVW5rNGNtbGFiMk5VSzNCSlYyVktaMGgwY1hKVVJGbHlRbTVzUlVwM1BUMD0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpNemRyY0hnS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLWkhocEsxSldla2RXTkZKTVYzRlRWVTVZU1daTFR5dHpNM0pVSzNZeVNqZzFZelJTTDJaRVRITjZjbXc1V1doRmFtTllLMk5NVDBSSFVXTnFVV0prZEZKTGNHUkxaVTF5U2taMmFVMDNWbVZqZG5NdksxRmFibXh1TUd0RmNrdFhVMjRyTURSR05HRnVaMlowY0dOaVJtMTFaakJMTHl0NFVYWmhVM0E0T0VSbFRUaFpNV3B1VGpKUmF6SnhkRVZRY0N0Uk9HZERVaTlhUTJ4RlZGWnpVRmxJUnpST015OUpVVEpWVm5SV1NYaDJkSFY2TjBsa2VWVjNURTE1V21WS1QwOXpTVWROTldwaU5YbHZkM0J4VlZKamNFWlhUbEF2V1hoWVpGZ3JUbU5UUXpNdldtMHdiV2hsVUhSSlJHZGxUSEl5V0d3dlUyRnJhUzlYUVRSWGNIZG9hWFF6ZHl0aWIzbDFhRkJ2WlVoRWFFWlBOM2t3VGpVM1ltUkRTU3RsVHpjMVR6UTBjRnBWUW10ME1HNDRXbkJoV1ZNNFVEZEdUVWRUV0hwck1FbE5hbUpvVmt0WmEzbzRlall2WlU1REsweHNSU3QzUFQwPSI6MSwiVjJsdWRHVmphRzV2Ykc5bmFXVnpJQ2hWU3lrZ1RHbHRhWFJsWkNBamRqSnZkemdLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqRTJMekExTHpJd01UZ0tVa2t4U3padGRqaDZRV3B0VGtSRWRYUlliWFZ4ZW1VNGJHdFRhRkpSZURSRlNUbElVVFZYUVRsWVduZGhWRGMxUW1kb2NIcFRhWHBCZEZwNFlWaDVaRU5SYkVaRVRHSXdjMmhGWldOQ1FuTk5ha3hYZEUxcFJ6UkhaMGxWZEdaTk1UVlNSRWQ1TVRsc1VsazNVV1pUU0hoSlZrbEdiVFkxVkdwdWEzVldOSFpRUkhkQk5sTlNlV2xMYVVaNUsxZHBLM1JOWW5jNVlTdEVVMmc0TmpsNlVqRk5jbkpRV2tacFJXTXhkRWwxUldwV1Z5OVZibmhITW1oaE5HWXJWVk0zZVZwNWVXcEtUelJZV25jeFZTdGhSVTlQYmt4clFsaHNhMjkwWTNGbE1FRXJNaTl2VDI5c1ZXWTJXVFJSYVVscWVXaHNXWFJVY1RJdlozQlZka1YzZFhsVmFsZHhNa1I1TlZNNVRuVmxLelZzTDNKTlVFaFFaMFJWVXpOV2JXWnlNSG92UWpGRlNHTlpTM0pzVlRJeFdtaFJUM2h3ZUVsblUycHpXV1J0VGtOWVluUlJja3RrVmpSWVZteEpkMlprVGxoR1kwSm5QVDA9IjoxLCJWMmx1ZEdWamFHNXZiRzluYVdWeklDaFZTeWtnVEdsdGFYUmxaQ0FqTWpWaU1uSUtjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pFMkx6QTFMekl3TVRnS2FFcE9PRzF5TkdFemFtbDRlbVZTYjFsdk16SndVRzAzTlhndkwyaDRRa3RsWjNkcGQxcFhNMUZFU2s1TlZXdFZNVzlyTm5sVVVFdzBaakowWkdob2MyWlFVM2hRSzJaWFZUbElhbTlvTjFSV1QzZFVjV1Z6T0ZsVVpGSkdNRFJ2YUZFNVNtVnFNbUZLZVUxSlkxUkdObUZ0YTB0UFdWWldZVVpETkRaWU9FcGFUVFZVUTFWdmJFTlhWaTlOVFdkallqZExPRVpYTkZwTFozWjBVRUZEWlZONmJWcHBibkZTZDBoaVRqQlZPRm94TUZNNU9YVkxMMWRMZFVsQmRuUmhVamR0VFdkS1kyeGFlRmgzTkdkVlJERjBiMW80YWsxVE9FaENXbloyYjFsWWFFdFRWVXhGZVU0dldFNWplREE0WTNCVlYyVXJjWE4wTVhGVlJGQXpaamR0TjFWTVYxbHNSblk1VTA4clVWaGxOV0ZJUTNwbFREWmxRM2MzV0ZFd1NFWkdWV05ZYkhkaVozVnJNMjB5VTFaelZESnNRMVp6ZVc1NVltbDBaMlZOTW1KUmJYaEtibkJHZEZoWFVFNTBSVTVKUW1kM1BUMD0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpibmwyYWpjS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLVTFkWVVXaHhka05vWWpkMmNtcFhkREY0VjI5eFRTOTNia0ZGWW5FeFQybDVUbXhPZDFGeWVXTmFMMVJKZFVZd1V5OTNWblpZYWxsU1dFSk5WRFo1V2poa0swbFdMMXB5UmxGQ1pGTmhTalJYWWtGSU5rNVpSalpZWm5ZMlpUQnFjelJ6TWxSNWVFWkZaemg1WmxSUE9YRm9SbUZ5TTFsclVrOVBURXhpTVdzemN6QlJOSEpXZEZKaEswZFFXSGN3VEVacllVMUtVRTEzUkhobVdYcFNiVE5DYjJKcWJDdG5iMlpPV21GSVNVSTFlWEF3VDI1YVJrVTVaMjFaZEhBNFpISmtZMjVzZDNsMFRYRjBRVzFoT1M5alFVMHZNU3RsUzNKRVJ6aHdTVVpWY1c1b2RIcG1SRTFZVlRodFRtOHZSVVpyU2pkRGFVeG5ObkJZYkVJMU4wd3hkVEJoU21ZelUwbHpkRTF4ZDBzNFRVOVFXRlZGWTFaT0wzVmxZMFZVSzNCRlYyOXBSM1IyT1ZWSk0yUmxPV0pyU0hoa2RVWklUR1o1ZWsxVU9GZDFaazFyUzFoYVZUUmtjaXRXZDAwMU5rRlBNVU5uUFQwPSI6MSwiVm1sdVkyVnVkQ0JHYjNWeWJtbGxjZ3AyYVc1alpVQnVkR1p2ZFhKdWFXVnlMbU52YlN4WFlXeHNZV0o1TG1weklIQmxjbk52Ym1Gc0lHeHBZMlZ1YzJVZ0tFWnlaV1ZrYjIwcENqRTNMekEzTHpJd01UZ0tiSEpMT1ZSak4xTXlXV05XWjA5RGNEUldXVWx4VUZsWGIzZGxMekUxTkdacVpsZFFTVE5rT0ZocFlUTnlhM1ZXV1V4SWFraEpXRGhJTm5BMGQwY3ZNV0ZFTVdoMFJIbDBNSFpHUWtGd1p6UkxSWFEzWWs5elIyRm9jRzVIYTB0dU9IWnNlalI1VFVwNFNETkpTMVJ5YkVsU2VHc3hiRmhYT0RCR1ptMHpVMDV1ZG5WSWIzUlJZME00YURSMlVGRTJaRnBFT0ZSNlVIUnNPRW94VURsMlNsVkZVMEpzUm05TWRuUlFNMVZPYUM5NVYyZFJRVU40ZEhrdlFXNWhlbEZOV0hGRlRFWllTRVZPZFZOck1HZERUbGRGT0c5SmRVVjRPVzQ1TDNJNVIydElNbFJ0YzFkQ2NsSkdjRFpwV2taUE4wbHNNRFJhZDBOTmNsZEpZME14TldseU5WUmtWV3htTXpWSkwyRndXVWh6YW1wNVZqTnlNSFZzVlVocE5WUlRUbGxPU2pSa1EwUjRiVkZMTm5wUGQxVmxSMjF1TDJrdmVHZzVaME5GZFdobWREQnJOMWx5YkhVMGNERnlZM2swV2tsd1p6Um5QVDA9IjoxLFRtbHJiR0Z6SUV4cGJHeHhkbWx6ZEFwdWFXdHNZWE11Ykdsc2JIRjJhWE4wUUdkdFlXbHNMbU52YlN4UmRXOXJhMkV1YW5NZ2NHVnljMjl1WVd3Z2JHbGpaVzV6WlFveU9DOHdPUzh5TURFNENsTkplR2R6WW1Oak1tdDNaV2MxVFVOa2VYaExiR00zTm01VlRVTlNlRVJUTVM5SU9UYzFRa28zUnpOaU5XaFdjVGx3ZUVGNGRtZDJNR3RRVFdwdmEwbHNVVFp4Y0N0MVFWQlVNR0ZyUmt4b2VrSjNiVGQzVm1KRVNVNVBTbGxtY2twMVprbzRVRU5UTVN0WmRVcFdTRGdyVUd0cVRrbGxVM2RDU0U0ME1tTnFXRWhsWmxaalZVTXJRaXRDVEZKb2JWcElNMEZDVjBSdWRGVmlkRUZvZEVFNVlVODFORnAwVW1OYVVEQjFMMjUzVnpkV2RWRnRRMHROUzNsTFF5OUVhRmh2VVU5R1dVcHFTWFZUTVdwQlZ6RkVLM0ZPZWk4eVdVUkNiMWhwTWpJeGMxaFZkRXRKZDNoYWFtRndOVWxzU1UxVE5FOVdiMFZ4ZVdVMFpFSTVhV05RTlV0bWMxWXJRakZpYUdWbldGTlZSV2RrTnpKMUszVkhOWGx5V0hCWlpEZHFVWEJLUld4dk1tTXZVWEpyZWxjMk5WaElZalpZV1d4bWVGbEdWVTFPUmtscFNqbG9MMFpHWmpKVVNYSnpVSEYxUW5FcmR6MDk6MX07Xy5lYWNoKFYsZnVuY3Rpb24oZSx0KXt0cnl7VltfLnJ0cmltKHAucGFyc2VLZXkodCkubGljZW5zZVNpZ25hdHVyZSwiPSIpXT0xfWNhdGNoKG4pe319KTt2YXIgYj1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcyxpPW47bi5fZGlmZk1hdGNoUGF0Y2g9ZS5kaWZmTWF0Y2hQYXRjaDt2YXIgcj1lLlByb2plY3Q7bi5fcHJvamVjdD1uZXcgcihlKSxlLnF1b2trYT8oZj02ZTUseT01LHY9Mik6ZGVsZXRlIHByb2Nlc3MuZW52LnF1b2trYSxuLl9xdW9ra2E9ZS5xdW9ra2Esbi5fcXVva2thRWRpdGlvbj1lLmVkaXRpb24sbi5fcHJvamVjdC5vbigibWVzc2FnZSIsZnVuY3Rpb24odCl7aWYoISFlLnF1b2trYT09ISFwcm9jZXNzLmVudi5xdW9ra2Epe3ZhciBuPWlbInByb2plY3Q6Iit0LnR5cGVdO24mJm4uY2FsbChpLHQpfX0pLG4uX2ZzPW5ldyBkKG4uX3Byb2plY3QuX2xvY2FsUm9vdCxlKSxuLl9tb2RlbD1uZXcgaCh7ZmlsZUlkQnlQYXRoOmZ1bmN0aW9uKGUpe3JldHVybiBpLl9mcy5pZEJ5UGF0aChlKX0scHJvamVjdDpuLl9wcm9qZWN0LGFsd2F5c1NlbmRBbGxMaW5lczoiVlNDb2RlIj09PWUuY2xpZW50fHxuLl9xdW9ra2EmJiJBdG9tIiE9PWUuY2xpZW50fSksbi5fbW9kZWwub24oIm1lc3NhZ2UiLGZ1bmN0aW9uKGUpe3ZhciB0PWlbIm1vZGVsOiIrZS50eXBlXTt0JiZ0LmNhbGwoaSxlKX0pLG4uX3Byb2plY3QuX21vZGVsPW4uX21vZGVsLG4uX3JlYWRGaWxlU3luYz1lLnJlYWRGaWxlU3luYyxuLl93cml0ZUZpbGVTeW5jPWUud3JpdGVGaWxlU3luYzt2YXIgcz1hLG89YS5jcmVhdGVWZXJpZnksbD1hLmNyZWF0ZUhhc2g7cmV0dXJuIGE9e2NyZWF0ZVZlcmlmeTpmdW5jdGlvbigpe3ZhciBlPW8uYXBwbHkocyxhcmd1bWVudHMpLHQ9ZS52ZXJpZnk7cmV0dXJuIGUudmVyaWZ5PWZ1bmN0aW9uKG4pe3RyeXt2YXIgcj1zLmNyZWF0ZUhhc2goIm1kNSIpLnVwZGF0ZShuKS5kaWdlc3QoImhleCIpOyI3OTQ3OWZlOTRmY2QyYmQ5ZjE0MWFkMTcxN2MzNTI4MiIhPT1yJiYiNjY1NzEwOWZiNDQyNjMzZjQxMmYxMjg3ODg4NzE5NjAiIT09ciYmImNjNDhmZGM5MWQ4ODI1Y2E5N2IzMWM1NWNhMDM0ZDQ2IiE9PXImJiI0N2FiZmRmYTdiY2Q0MTZlMGY5YzY5OTkxZWMxZjg5NiIhPT1yJiYiMDdlZDFmYzZhM2EzMmQ2NjA5OWZlMTg3MGM4M2EwY2UiIT09ciYmaS5fdHJpYWxNb2RlKCl9Y2F0Y2gobyl7fXJldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX0sZX0sY3JlYXRlSGFzaDpmdW5jdGlvbigpe3JldHVybiBsLmFwcGx5KHMsYXJndW1lbnRzKX19LCghZS5xdW9ra2F8fG4uX3F1b2trYUVkaXRpb24pJiZuLl92ZXJpZnlMaWNlbnNlKGUucXVva2thPyJRdW9ra2EiOmUuY2xpZW50LGUubGtwKSxuLl9jb25zb2xlT3V0cHV0PVtdLG59cmV0dXJuIGkobix0KSxuLnByb3RvdHlwZS5jb25maWd1cmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBlLl9ydW5JZlZlcmlmaWVkKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3Byb2plY3QuY29uZmlndXJlKCl9KX0sbi5wcm90b3R5cGUuZmlsZUNoYW5nZWRJbkVkaXRvcj1mdW5jdGlvbihlKXt0aGlzLl9mcy5maWxlQ2hhbmdlZEluRWRpdG9yKGUucGF0aCxlLmNvbnRlbnQsZS5jaGFuZ2VGcmFtZSl9LG4ucHJvdG90eXBlLmZpbGVPcGVuZWRJbkVkaXRvcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tb2RlbC5maWxlQnlQYXRoKGUucGF0aCk7dCYmKHQub3BlbmVkSW5FZGl0b3IoKSx0aGlzLl9lbWl0RG9jdW1lbnRMaW5lcyh0KSl9LG4ucHJvdG90eXBlLmZpbGVDbG9zZWRJbkFsbEVkaXRvcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbW9kZWwuZmlsZUJ5UGF0aChlLnBhdGgpO3QmJnQuY2xvc2VkSW5BbGxFZGl0b3JzKCl9LG4ucHJvdG90eXBlLnJ1blRlc3RzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3Byb2plY3Quc2V0dGluZ3MoKSxuPWUucmVxdWVzdCYmZS5yZXF1ZXN0LmV4dGVybmFsRmlsZUNoYW5nZSxpPWUucmVxdWVzdCYmZS5yZXF1ZXN0Lmluc3RhbGxQYWNrYWdlO2lmKGkmJnQmJnQucXVva2thJiZ0LnF1b2trYS5pbnN0YWxsUGFja2FnZSYmaS5uYW1lPT09cC52YWxpZFBhY2thZ2VOYW1lKGkubmFtZSkmJnQucXVva2thLmluc3RhbGxQYWNrYWdlLmNvbW1hbmQpdHJ5e2wocC5mb3JtYXQodC5xdW9ra2EuaW5zdGFsbFBhY2thZ2UuY29tbWFuZCx7cGFja2FnZU5hbWU6aS5uYW1lfSkse3N0ZGlvOiJwaXBlIixjd2Q6aS5sb2NhbD9wcm9jZXNzLmN3ZCgpOnQucXVva2thLmluc3RhbGxQYWNrYWdlLmRpcn0pfWNhdGNoKHIpe3JldHVybiB2b2lkIHRoaXMuX2VtaXRTdGF0c1VwZGF0ZShyLm1lc3NhZ2UpfXZhciBzPXRoaXMuX21vZGVsLnRlc3RzQnlSZXF1ZXN0KGUucmVxdWVzdCk7dGhpcy5fcHJvamVjdC5ydW5UZXN0cyh7dGVzdHM6cy5sZW5ndGgmJnN8fHZvaWQgMCxleHRlcm5hbEZpbGVDaGFuZ2U6bn0pfSxuLnByb3RvdHlwZS5pbnN0cnVtZW50ZWRGaWxlPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoe3R5cGU6Imluc3RydW1lbnRlZEZpbGUiLGlkOmUuaWQsZGF0YTp0aGlzLl9wcm9qZWN0LmdldEluc3RydW1lbnRlZEphdmFTY3JpcHRGaWxlQ29udGVudEJ5UGF0aChlLnJlcXVlc3QucGF0aCl9KX0sbi5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcy5zdG9wKCksdGhpcy5fcHJvamVjdC5zdG9wKCl9LG4ucHJvdG90eXBlLnVuY292ZXJlZFJlZ2lvbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXF1ZXN0LG49e3R5cGU6InVuY292ZXJlZFJlZ2lvbnMiLGRhdGE6e30saWQ6ZS5pZH0saT10aGlzLl9tb2RlbC51bmNvdmVyZWRSZWdpb25zQnlSZXF1ZXN0KHQpO3JldHVybiBpPyhuLmRhdGEucmFuZ2VzPWksdm9pZCB0aGlzLl9lbWl0KG4pKTp2b2lkIHRoaXMuX2VtaXROb3RpZmljYXRpb24oImluZm8iLCJBY3Rpb24gaXMgbm90IGF2YWlsYWJsZSBmb3IgZmlsZXMgb3V0c2lkZSB3YWxsYWJ5LmpzIHNjb3BlIil9LG4ucHJvdG90eXBlLmxpbmVSZXBvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXF1ZXN0LG49e3R5cGU6ImxpbmVSZXBvcnQiLGRhdGE6e30saWQ6ZS5pZH0saT10aGlzLl9tb2RlbC5saW5lUmVwb3J0QnlSZXF1ZXN0KHQpO3JldHVybiBpPyhuLmRhdGEucmVwb3J0PWksdm9pZCB0aGlzLl9lbWl0KG4pKTp2b2lkIHRoaXMuX2VtaXROb3RpZmljYXRpb24oImluZm8iLCJBY3Rpb24gaXMgbm90IGF2YWlsYWJsZSBmb3IgZmlsZXMgb3V0c2lkZSB3YWxsYWJ5LmpzIHNjb3BlIil9LG4ucHJvdG90eXBlLmxvY2F0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXt0eXBlOiJsb2NhdGlvbiIsZGF0YTp7fSxpZDplLmlkfSxpPXRoaXMuX21vZGVsLmxvY2F0aW9uQnlSZXF1ZXN0KHQpO2k/aS5maWxlPyhuLmRhdGEuZmlsZT1pLmZpbGUsbi5kYXRhLmxvYz1pLmxvYyx0aGlzLl9lbWl0KG4pKTp0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJpbmZvIiwiQ2FuIG5vdCBsb2NhdGUgYSBmYWlsaW5nIHRlc3QiKTp0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJpbmZvIiwiQ2FuIG5vdCBmaW5kIGFueSBmYWlsaW5nIHRlc3RzIil9LG4ucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXt0eXBlOiJlcnJvciIsZGF0YTp7fSxpZDplLmlkfSxpPXRoaXMuX21vZGVsLmVycm9yQnlSZXF1ZXN0KHQpO2k/bi5kYXRhLmVycm9yPWk6ImZhaWxpbmdUZXN0Ij09PXQudHlwZSYmdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiaW5mbyIsIkNhbiBub3QgZmluZCBhbnkgdGVzdCBlcnJvcnMiKSx0aGlzLl9lbWl0KG4pfSxuLnByb3RvdHlwZS5jb250aW51ZVRyaWFsPWZ1bmN0aW9uKCl7dGhpcy5fY29udGludWVUcmlhbFNlc3Npb24mJnRoaXMuX2NvbnRpbnVlVHJpYWxTZXNzaW9uKCl9LG4ucHJvdG90eXBlWyJwcm9qZWN0OnByb2plY3RDb25maWd1cmVkIl09ZnVuY3Rpb24odCl7dmFyIG49dGhpcztzPWUoImRlYnVnIikoIndhbGxhYnk6ZXh0ZW5kZWQtY29yZSIpLHRoaXMuX2ZzLnNldHVwKHQuZmlsZXMsdGhpcy5fcHJvamVjdCYmdGhpcy5fcHJvamVjdC5zZXR0aW5ncygpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuLl9zdGFydCh7ZmlsZXM6bi5fZmlsZXNGb3JQcm9qZWN0KGUpfSl9KVsiY2F0Y2giXShmdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gc2V0IHVwIHByb2plY3QgZmlsZSBzeXN0ZW06ICIrbi5fZXJyb3JNZXNzYWdlKGUpKSxuLl9lbWl0VGVzdFJ1bkVycm9yKG4uX3Rlc3RSdW5FcnJvck1lc3NhZ2UoZSkpfSksdGhpcy5fZnMub24oImFkZGVkIixfLmJpbmQodGhpcy5fdXBkYXRlUHJvamVjdEZpbGUsdGhpcywhMSkpLHRoaXMuX2ZzLm9uKCJsb2FkZWQiLF8uYmluZCh0aGlzLl91cGRhdGVQcm9qZWN0RmlsZSx0aGlzLCExKSksdGhpcy5fZnMub24oImNoYW5nZWQiLF8uYmluZCh0aGlzLl91cGRhdGVQcm9qZWN0RmlsZSx0aGlzLCExKSksdGhpcy5fZnMub24oImRlbGV0ZWQiLF8uYmluZCh0aGlzLl91cGRhdGVQcm9qZWN0RmlsZSx0aGlzLCEwKSksdGhpcy5fZnMub24oImVycm9yIixmdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKCJGaWxlIHN5c3RlbSBlcnJvcjogIituLl9lcnJvck1lc3NhZ2UoZSkpLG4uX2VtaXRUZXN0UnVuRXJyb3Iobi5fdGVzdFJ1bkVycm9yTWVzc2FnZShlKSl9KSx0aGlzLl9mcy5vbigibm90Q2hhbmdlZCIsZnVuY3Rpb24oZSx0LGkpe3RyeXtpZihpJiZpLnN0YXJ0PT09aS5lbmQpcmV0dXJuO3MoIkZpbGUgd2FzIG5vdCBjaGFuZ2VkLCBidXQgZmlsZSBtYXJrZXJzIG1heSBuZWVkIHRvIGJlIHN5bmNlZCIpO3ZhciByPW4uX21vZGVsLmZpbGVCeUlkKGUuaWQpO2lmKCFyKXJldHVybjtuLl9lbWl0RG9jdW1lbnRMaW5lcyhyKX1maW5hbGx5e24uX2VtaXRTdGF0c1VwZGF0ZSgpfX0pfSxuLnByb3RvdHlwZS5fZW1pdERvY3VtZW50TGluZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmNyZWF0ZShudWxsKTt0W2UucGF0aCgpXT1lLmFsbExpbmVzKCksdGhpcy5fZW1pdERvY3VtZW50VXBkYXRlcyh0KX0sbi5wcm90b3R5cGVbInByb2plY3Q6dGVzdFJ1bkVycm9yIl09ZnVuY3Rpb24oZSl7aWYocHJvY2Vzcy5lbnYucXVva2thJiZlLm1lc3NhZ2Upe2UubWVzc2FnZT1lLm1lc3NhZ2UucmVwbGFjZSgiUG9zdHByb2Nlc3NvciBydW4gZmFpbHVyZTogIiwiIik7dmFyIHQ9ZS5tZXNzYWdlLmluZGV4T2YoIiwgU3ludGF4RXJyb3I6Iik7aWYodD4wKXtlLm1lc3NhZ2U9ZS5tZXNzYWdlLnN1YnN0cih0KzIpO2Zvcih2YXIgbj1lLm1lc3NhZ2Uuc3BsaXQoIlxuIiksaT0wO2k8bi5sZW5ndGgmJiFfLnN0YXJ0c1dpdGgoXy50cmltTGVmdChuW2ldKSwiYXQgIik7aSsrKTtlLm1lc3NhZ2U9bi5zbGljZSgwLGkpLmpvaW4oIlxuIil9fXRoaXMuX2VtaXRTdGF0c1VwZGF0ZShlLm1lc3NhZ2UpfSxuLnByb3RvdHlwZVsicHJvamVjdDp0ZXN0UnVuUmVRdWV1ZWQiXT1mdW5jdGlvbihlKXtpZighZS50ZXN0RXJyb3JSZXBvcnRlZCl7aWYocHJvY2Vzcy5lbnYucXVva2thJiYhZS5yZXJ1blNjaGVkdWxlZClyZXR1cm47dGhpcy5fZW1pdFN0YXRzVXBkYXRlKHRoaXMuX21vZGVsLmZ1bGxUZXN0UmVzdWx0c1JlcG9ydCgpKX19LG4ucHJvdG90eXBlWyJwcm9qZWN0OmJ1c3kiXT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyQ29uc29sZU91dHB1dFNlbmRRdWV1ZSgpLHRoaXMuX2VtaXQoe3R5cGU6ImJ1c3kifSl9LG4ucHJvdG90eXBlWyJwcm9qZWN0OmxpdmUiXT1mdW5jdGlvbihlKXt0aGlzLl9lbWl0KGUpfSxuLnByb3RvdHlwZVsicHJvamVjdDpjb25maWdDaGFuZ2VkIl09ZnVuY3Rpb24oZSl7dGhpcy5fcXVva2thPXtwcm86dGhpcy5fYWRqdXN0UXVva2thRmVhdHVyZXMoZS5wcm8sZS5zZXR0aW5ncyl9LHRoaXMuX2VtaXQoXy5vbWl0KGUsIl9pbnRlcm5hbCIsInNldHRpbmdzIikpfSxuLnByb3RvdHlwZVsicHJvamVjdDptb2R1bGVMb2FkZWQiXT1mdW5jdGlvbihlKXt2YXIgdD1lLnNlc3Npb247aWYoZGVsZXRlIGUuc2Vzc2lvbix0aGlzLl9xdW9ra2EmJiF0aGlzLl9xdW9ra2EucHJvJiZ0JiZlLnBhdGgmJiF+ZS5wYXRoLmluZGV4T2YoIm5vZGVfbW9kdWxlcyIpJiZ+ZS5wYXRoLmluZGV4T2Yoby5zZXApKXt2YXIgbj0iT25seSAnUHJvJyBlZGl0aW9uIG9mIFF1b2trYS5qcyBzdXBwb3J0cyBwcm9qZWN0IGZpbGVzIGltcG9ydC4iO3QucmVqZWN0KG5ldyBFcnJvcihuKSksdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigid2FybmluZyIsbix7c3VnZ2VzdFByb0VkaXRpb246ITB9KX19LG4ucHJvdG90eXBlWyJwcm9qZWN0Om5hdmlnYXRpb25SZXF1ZXN0ZWQiXT1mdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOmUudHlwZSxmaWxlOmUucGF0aCxsb2M6ZS5saW5lKyhlLmNvbHVtbj8iOiIrZS5jb2x1bW46IiIpfSl9LG4ucHJvdG90eXBlWyJwcm9qZWN0OmZpbGVzUmVxdWlyZWQiXT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2ZzLmxvYWRGaWxlcyhlLmZpbGVzKVsiY2F0Y2giXShmdW5jdGlvbihlKXtyZXR1cm4gdC5fZW1pdFRlc3RSdW5FcnJvcih0Ll9lcnJvck1lc3NhZ2UoZSkpfSl9LG4ucHJvdG90eXBlWyJwcm9qZWN0OmxpY2Vuc2VDb2xsaXNpb24iXT1mdW5jdGlvbihlKXt2YXIgdD1wcm9jZXNzLmVudi5xdW9ra2E/IlF1b2trYS5qcyAnUHJvJyI6IldhbGxhYnkuanMiLG49cHJvY2Vzcy5lbnYucXVva2thPyJodHRwczovL3F1b2trYWpzLmNvbS9wcm8iOiJodHRwczovL3dhbGxhYnlqcy5jb20vcHVyY2hhc2UiLGk9dCsiIGlzIHN0b3BwZWQgYmVjYXVzZSB5b3VyIGxpY2Vuc2UgaXMgYmVpbmcgdXNlZCBlbHNld2hlcmUgb24gdGhlIG5ldHdvcmsgYnkgPGI+IisoZS5hZGRyZXNzfHwidW5rbm93biBhZGRyZXNzIikrJzwvYj4uIE9ubHkgb25lIGFjdGl2ZSBjb21wdXRlciBhdCB0aGUgc2FtZSB0aW1lIG1heSB1c2UgdGhlIGxpY2Vuc2UuPGJyLz5JZiB5b3Ugd291bGQgbGlrZSB0byBwdXJjaGFzZSBhbiBhZGRpdGlvbmFsIGxpY2Vuc2UsIHBsZWFzZSB2aXNpdCA8YSBocmVmPSInK24rJyI+b3VyIHdlYnNpdGU8L2E+LiBJZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK20rJyI+YWN0aXZhdGUgaXQ8L2E+Lic7dGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiZXJyb3IiLGkpLHRoaXMuX2VtaXRTdG9wcGVkKCl9LG4ucHJvdG90eXBlWyJtb2RlbDpzdGF0c01heWJlQ2hhbmdlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX2NsZWFyQ29uc29sZU91dHB1dFNlbmRRdWV1ZSgpLHByb2Nlc3MuZW52LnF1b2trYSYmdGhpcy5fcHJvamVjdC5zZXR0aW5ncygpLmVycm9yfHx0aGlzLl9lbWl0U3RhdHNVcGRhdGUoZS50ZXN0UmVzdWx0c0NoYW5nZWR8fHByb2Nlc3MuZW52LnF1b2trYT90aGlzLl9tb2RlbC5mdWxsVGVzdFJlc3VsdHNSZXBvcnQoZS50aW1lKTp2b2lkIDApfSxuLnByb3RvdHlwZVsibW9kZWw6ZG9jdW1lbnRzVXBkYXRlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXREb2N1bWVudFVwZGF0ZXMoZS5kb2N1bWVudHMpfSxuLnByb3RvdHlwZVsibW9kZWw6ZmlsZUFkZGVkIl09ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdEZpbGVzVG9UcmFjayhbZS5maWxlLnBhdGhdKX0sbi5wcm90b3R5cGVbIm1vZGVsOmNvbnNvbGVPdXRwdXQiXT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NvbnNvbGVPdXRwdXQucHVzaChlLm1lc3NhZ2UpLHQuX2NvbnNvbGVPdXRwdXRUaW1lb3V0fHx0Ll9zY2hlZHVsZUNvbnNvbGVPdXRwdXRTZW5kKCl9LG4ucHJvdG90eXBlLl9zY2hlZHVsZUNvbnNvbGVPdXRwdXRTZW5kPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jb25zb2xlT3V0cHV0VGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoZS5fY29uc29sZU91dHB1dC5sZW5ndGgpe3ZhciB0PWUuX2NvbnNvbGVPdXRwdXQuc3BsaWNlKDAsMjApO2UuX2NvbnNvbGVPdXRwdXQubGVuZ3RoP2UuX3NjaGVkdWxlQ29uc29sZU91dHB1dFNlbmQoKTplLl9jbGVhckNvbnNvbGVPdXRwdXRTZW5kUXVldWUoKSxlLl9lbWl0KHt0eXBlOiJjb25zb2xlT3V0cHV0IixtZXNzYWdlczp0fSl9fSwxMDApfSxuLnByb3RvdHlwZS5fYWRqdXN0UXVva2thRmVhdHVyZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5oaW50cz10LmhpbnRzfHx7fSx0LmhpbnRzLmNvbW1lbnRBdXRvTG9nPWU/Ij8iOiExLGV8fGRlbGV0ZSB0LnF1b2trYS5pbnN0YWxsUGFja2FnZSxlfSxuLnByb3RvdHlwZS5fY2xlYXJDb25zb2xlT3V0cHV0U2VuZFF1ZXVlPWZ1bmN0aW9uKCl7dGhpcy5fY29uc29sZU91dHB1dC5sZW5ndGg9MCxkZWxldGUgdGhpcy5fY29uc29sZU91dHB1dFRpbWVvdXR9LG4ucHJvdG90eXBlLl91cGRhdGVQcm9qZWN0RmlsZT1mdW5jdGlvbihlLHQsbixpLHIpe3ZhciBvPXRoaXMuX21vZGVsLmZpbGVCeUlkKHQuaWQpO2lmKCFlJiZvJiZvLmlzT3BlbmVkSW5FZGl0b3IoKSYmby5oYXNWYWxpZERvY3VtZW50KCkpe3ZhciBhPSEwO2lmKF8uaXNQYXRjaCh0LmNvbnRlbnQpJiZfLmlzU3RyaW5nKG4pJiZpKXt2YXIgbD10aGlzLl9kaWZmTWF0Y2hQYXRjaC5wYXRjaF9mcm9tVGV4dCh0LmNvbnRlbnQpO2lmKDE9PT1sLmxlbmd0aCl7dmFyIGM9bFswXTtpZihjJiZjLmRpZmZzJiZjLmRpZmZzLmxlbmd0aCYmYy5zdGFydDE9PT1jLnN0YXJ0Mil7YT0hMTt2YXIgdT1jLnN0YXJ0MSxkPWMuZGlmZnNbMF07MD09PWRbMF0mJih1Kz1kWzFdLmxlbmd0aCk7dmFyIGg9MDtpZihfLmVhY2goYy5kaWZmcyxmdW5jdGlvbihlKXswIT09ZVswXSYmKGgrPWVbMF0qKF8udGV4dExpbmVzKGVbMV0pLmxlbmd0aC0xKSl9KSxoKXt2YXIgcD1fLnRleHRMaW5lcyhuLHUpLmxlbmd0aCxmPV8udGV4dExpbmVzKG4sYy5zdGFydDEpLmxlbmd0aCxnPU1hdGguYWJzKGgpLHk9TWF0aC5tYXgoTWF0aC5taW4oaS5zdGFydCxmKS1nLDEpLHY9TWF0aC5tYXgoaS5lbmQsZik7by5zaGlmdERvY3VtZW50TGluZXMocCxoLHtzdGFydDp5LGVuZDp2fSl9ZWxzZSBpLnN0YXJ0IT09aS5lbmQmJm8uaW52YWxpZGF0ZURvY3VtZW50TGluZXMoMCwwLGkpfX19YSYmKHMoIk5ldyBkb2N1bWVudCBvciBjb21wbGV4IGRvY3VtZW50IGNoYW5nZSIpLG8uaW52YWxpZGF0ZURvY3VtZW50KCkpfXRoaXMuX3Byb2plY3QuZmlsZSh7ZmlsZTp0aGlzLl9maWxlRm9yUHJvamVjdCh0KSwiZGVsZXRlIjplLGluRWRpdG9yOnJ9KX0sbi5wcm90b3R5cGUuX2ZpbGVzRm9yUHJvamVjdD1mdW5jdGlvbihlKXtyZXR1cm4gXy5tYXAoZSx0aGlzLl9maWxlRm9yUHJvamVjdCl9LG4ucHJvdG90eXBlLl9maWxlRm9yUHJvamVjdD1mdW5jdGlvbihlKXtyZXR1cm57cGF0aDplLnBhdGgsaWQ6ZS5pZCx0czplLnRzLG9yZGVyOmUub3JkZXIsaW5jbHVkZTplLmxvYWQsdHJpZ2dlcnNUZXN0czplLnRyaWdnZXIsY292ZXJhYmxlOmUuaW5zdHJ1bWVudCx0ZXN0OmUudGVzdCx0eXBlOmUudHlwZSxiaW5hcnk6ZS5iaW5hcnksY29udGVudDplLmNvbnRlbnR9fSxuLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2VtaXRGaWxlc1RvVHJhY2soXy5tYXAoZS5maWxlcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXRofSkpLGUubGljZW5zZXx8KGUubGljZW5zZT10aGlzLl92ZXJpZmljYXRpb25SZXN1bHQmJnRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC5oYXNofHx0aGlzLl9wcm9qZWN0Ll93YWxsYWJ5RW1haWwpLGUuZXhwaXJ5RGF0ZXx8KGUuZXhwaXJ5RGF0ZT10aGlzLl92ZXJpZmljYXRpb25SZXN1bHQmJnRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC5leHBpcmF0aW9uRGF0ZSYmdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmV4cGlyYXRpb25EYXRlLnNwbGl0KCIvIikuam9pbigiLSIpfHx2b2lkIDApLHRoaXMuX3Byb2plY3Quc3RhcnQoZSl9LG4ucHJvdG90eXBlLl92ZXJpZnlMaWNlbnNlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0PXRoaXMuX2xpY2Vuc2VWZXJpZmljYXRpb25SZXN1bHQoZSx0KX0sbi5wcm90b3R5cGUuX3J1bklmVmVyaWZpZWQ9ZnVuY3Rpb24oZSl7aWYocHJvY2Vzcy5lbnYucXVva2thJiYhdGhpcy5fcXVva2thRWRpdGlvbilyZXR1cm4gZSgpO3ZhciB0PXByb2Nlc3MuZW52LnF1b2trYT8iUXVva2thLmpzICdQcm8nIjoid2FsbGFieS5qcyIsbj1wcm9jZXNzLmVudi5xdW9ra2E/Imh0dHBzOi8vcXVva2thanMuY29tL3BybyI6Imh0dHBzOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSI7dGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0PXRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdHx8e3ZhbGlkOiExfTt2YXIgaTtpZih0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQudmFsaWQpcmV0dXJuIHRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC5leHBpcmVkPyhpPSJZb3VyICIrdCsiIGxpY2Vuc2UgPGI+ZnJlZSB1cGdyYWRlcyBwZXJpb2QgaGFzIGV4cGlyZWQ8L2I+LiBJZiB5b3Ugd291bGQgbGlrZSB0byB3b3JrIHdpdGggdGhlIGxhdGVzdCB2ZXJzaW9uIG9mICIrdCsnIGFuZCBmdXR1cmUgdmVyc2lvbnMgcmVsZWFzZWQgd2l0aGluIHRoZSBuZXh0IDEyIG1vbnRocywgcGxlYXNlIHZpc2l0IDxhIGhyZWY9IicrbisnIj5vdXIgd2Vic2l0ZTwvYT4gdG8gdXBncmFkZSB5b3VyIGxpY2Vuc2UuPGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbmV3IGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyttKyciPmFjdGl2YXRlIGl0PC9hPi4nLHRoaXMuX2VtaXRFeHBpcmVkTGljZW5zZSgpKTp0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuZXhwaXJpbmdTb29uJiYoaT0iWW91ciAiK3QrIiBsaWNlbnNlIisocHJvY2Vzcy5lbnYucXVva2thPyIiOiIgZnJlZSB1cGdyYWRlcyBwZXJpb2QiKSsiIDxiPiBleHBpcmVzIG9uICIrdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmV4cGlyYXRpb25EYXRlKyI8L2I+LiBJZiB5b3Ugd291bGQgbGlrZSB0byB3b3JrIHdpdGggdGhlIGxhdGVzdCB2ZXJzaW9uIG9mICIrdCsnIGFuZCBmdXR1cmUgdmVyc2lvbnMgcmVsZWFzZWQgd2l0aGluIHRoZSBuZXh0IDEyIG1vbnRocywgcGxlYXNlIHZpc2l0IDxhIGhyZWY9IicrbisnIj5vdXIgd2Vic2l0ZTwvYT4gdG8gdXBncmFkZSB5b3VyIGxpY2Vuc2UuPGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbmV3IGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyttKyciPmFjdGl2YXRlIGl0PC9hPi4nKSxpJiZ0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJ3YXJuaW5nIixpKSxlKCk7aWYodGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmV4cGlyZWRUcmlhbClpPSJZb3VyICIrdCsnIHRyaWFsIHBlcmlvZCBpcyBvdmVyLCB0aGFua3MgZm9yIHRyeWluZyBpdCBvdXQuIFBsZWFzZSB2aXNpdCA8YSBocmVmPSInK24rJyI+b3VyIHdlYnNpdGU8L2E+IHRvIHB1cmNoYXNlIGEgbGljZW5zZSBvciB0byBhcnJhbmdlIGEgbG9uZ2VyIHRyaWFsIHBlcmlvZCBmb3IgeW91cnNlbGYgb3IgeW91ciB0ZWFtLjxici8+SWYgeW91IGhhdmUgYWxyZWFkeSBwdXJjaGFzZWQgdGhlIGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyttKyciPmFjdGl2YXRlIGl0PC9hPi4nLHRoaXMuX2VtaXROb3RpZmljYXRpb24oImVycm9yIixpKSx0aGlzLl9lbWl0U3RvcHBlZCgpO2Vsc2V7aWYoIXRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC5pbnZhbGlkVmVyc2lvbilyZXR1cm4gaT0iTm8gdmFsaWQgIit0KycgbGljZW5zZSBmb3VuZCwgc3RhcnRpbmcgaW4gdHJpYWwgbW9kZS48YnIvPklmIHlvdSB3b3VsZCBsaWtlIHRvIHB1cmNoYXNlIGEgbGljZW5zZSwgcGxlYXNlIHZpc2l0IDxhIGhyZWY9IicrbisnIj5vdXIgd2Vic2l0ZTwvYT4uPGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK20rJyI+YWN0aXZhdGUgaXQ8L2E+LicsdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigid2FybmluZyIsaSksdGhpcy5fdHJpYWxNb2RlKCksZSgpO2k9IkN1cnJlbnRseSBpbnN0YWxsZWQgdmVyc2lvbiBvZiAiK3QrJyBpcyA8Yj5ub3QgY292ZXJlZCBieSB5b3VyIGxpY2Vuc2U8L2I+LiBQbGVhc2UgdmlzaXQgPGEgaHJlZj0iJytuKyciPm91ciB3ZWJzaXRlPC9hPiB0byB1cGdyYWRlIHlvdXIgbGljZW5zZS48YnIvPklmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBsaWNlbnNlLCBwbGVhc2UgPGEgaHJlZj0iIyIgY2xhc3M9IicrbSsnIj5hY3RpdmF0ZSBpdDwvYT4uJyx0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJlcnJvciIsaSksdGhpcy5fZW1pdFN0b3BwZWQoKX19LG4ucHJvdG90eXBlLl90cmlhbE1vZGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXByb2Nlc3MuZW52LnF1b2trYT8iUXVva2thLmpzICdQcm8nIjoid2FsbGFieS5qcyIsaT1wcm9jZXNzLmVudi5xdW9ra2E/Imh0dHBzOi8vcXVva2thanMuY29tL3BybyI6Imh0dHBzOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSI7ZT1lfHwwLGMoZnVuY3Rpb24oKXtlPj15Pyh0Ll9lbWl0Tm90aWZpY2F0aW9uKCJ3YXJuaW5nIiwiVG8ga2VlcCB0cmlhbGluZyAiK24rJywgcGxlYXNlIDxiPnJlc3RhcnQgeW91ciBlZGl0b3I8L2I+IG9yIHZpc2l0IDxhIGhyZWY9IicraSsnIj5vdXIgd2Vic2l0ZTwvYT4gdG8gcHVyY2hhc2UgYSBsaWNlbnNlLjxici8+SWYgeW91IGhhdmUgYWxyZWFkeSBwdXJjaGFzZWQgdGhlIGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyttKyciPmFjdGl2YXRlIGl0PC9hPi4nKSx0LnN0b3AoKSx0Ll9lbWl0U3RvcHBlZCghMCkpOih0Ll9jb250aW51ZVRyaWFsU2Vzc2lvbj1mdW5jdGlvbigpe3UodC5fc3RvcHBlclRpbWVvdXQpLHQuX3RyaWFsTW9kZShlKzEpfSx0Ll9zdG9wcGVyVGltZW91dD1jKGZ1bmN0aW9uKCl7dC5zdG9wKCksdC5fZW1pdFN0b3BwZWQoKX0sZyksdC5fZW1pdE5vdGlmaWNhdGlvbigid2FybmluZyIsIlRvIGNvbnRpbnVlICIrbisnIHRyaWFsIHNlc3Npb24sIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJytUKyciPmNsaWNrICJDb250aW51ZSI8L2E+Ljxici8+VmlzaXQgPGEgaHJlZj0iJytpKyciPm91ciB3ZWJzaXRlPC9hPiB0byBwdXJjaGFzZSBhIGxpY2Vuc2UuPGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK20rJyI+YWN0aXZhdGUgaXQ8L2E+LicpKX0sZil9LG4ucHJvdG90eXBlLl9saWNlbnNlVmVyaWZpY2F0aW9uUmVzdWx0PWZ1bmN0aW9uKGUsdCl7dmFyIG4saT10aGlzLHM9e3ZhbGlkOiExLGV4cGlyZWRUcmlhbDohMH07dHJ5e249aS5fcmVhZEZpbGVTeW5jKHQpfWNhdGNoKG8pe3RyeXtpLl93cml0ZUZpbGVTeW5jKHQsK25ldyByKX1jYXRjaChsKXt9fXRyeXtpZihfLmlzU3RyaW5nKG4pKWlmKG4ubGVuZ3RoPjEwMCl7dmFyIGM9cC5wYXJzZUtleShuKSx1PWMubGljZW5zZVNpZ25hdHVyZTtpZihWW18ucnRyaW0odSwiPSIpXSlzLmV4cGlyZWRUcmlhbD0hMTtlbHNle3MuZXhwaXJlZFRyaWFsPSExLHMua2V5PW47dmFyIGQ9Yy5saWNlbnNlZU5hbWUsaD1jLmxpY2Vuc2VlRW1haWwsZj1jLmxpY2Vuc2VUYWdzLGc9Yy5saWNlbnNlZFByb2R1Y3QseT1jLmV4cGlyYXRpb25EYXRlU3RyaW5nO3MubmFtZT1kLHMuZXhwaXJhdGlvbkRhdGU9eTt2YXIgbT1hLmNyZWF0ZVZlcmlmeSgiUlNBLVNIQTUxMiIpO2lmKG0udXBkYXRlKG5ldyBCdWZmZXIoZCtmK3kpKSxzLnZhbGlkPW0udmVyaWZ5KEZbfmcuaW5kZXhPZihSKT9SOmVdLG5ldyBCdWZmZXIodSwiYmFzZTY0IikpLHMudmFsaWQpe3ZhciBUPXkuc3BsaXQoIi8iKSxiPW5ldyByKFRbMV0rIi8iK1RbMF0rIi8iK1RbMl0pLGs9bmV3IHIoMTUxMjUyNzg1MDU2NSk7aWYoay5zZXRIb3VycygwLDAsMCwwKSxrPmIpcy5pbnZhbGlkVmVyc2lvbj0hMCxzLnZhbGlkPSExO2Vsc2V7dmFyIE49aD09PWkuX3Byb2plY3QuX3dhbGxhYnlFbWFpbDt0cnl7dmFyIFU9dm9pZCAwO3MuaGFzaD1OP2kuX3Byb2plY3QuX3dhbGxhYnlFbWFpbDooVT1hLmNyZWF0ZUhhc2goInNoYTUxMiIpLFUudXBkYXRlKG5ldyBCdWZmZXIobiwiYmFzZTY0IikpLFUuZGlnZXN0KCJiYXNlNjQiKSl9Y2F0Y2goWil7cy5oYXNoPWkuX3Byb2plY3QuX3dhbGxhYnlFbWFpbH12YXIgRT1uZXcgcjtpZihFLnNldEhvdXJzKDAsMCwwLDApLEU+YilzLmV4cGlyZWQ9ITAscy52YWxpZD0hTixzLmV4cGlyZWRUcmlhbD1OO2Vsc2V7dmFyIHg9bmV3IHI7eC5zZXREYXRlKHguZ2V0RGF0ZSgpK3YpLApzLmV4cGlyaW5nU29vbj14PmJ9fX19fWVsc2V7dmFyIE09cGFyc2VJbnQobiwxMCk7cy5leHBpcmVkVHJpYWw9Xy5pc05hTihNKXx8TSsocHJvY2Vzcy5lbnYucXVva2thPzEzMTRlNjoyNjI4ZTYpPCtuZXcgcn1lbHNlIHMuZXhwaXJlZFRyaWFsPSExfWNhdGNoKFope3MudmFsaWQ9ITF9cmV0dXJuIHN9LG4ucHJvdG90eXBlLl9lbWl0RmlsZXNUb1RyYWNrPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoe3R5cGU6ImZpbGVzVG9UcmFjayIsZmlsZXM6ZX0pfSxuLnByb3RvdHlwZS5fZW1pdFRlc3RSdW5FcnJvcj1mdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOiJzdGF0cyIsZGF0YTplfSl9LG4ucHJvdG90eXBlLl9lbWl0RG9jdW1lbnRVcGRhdGVzPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoe3R5cGU6ImRvY3VtZW50VXBkYXRlcyIsdXBkYXRlczplfSl9LG4ucHJvdG90eXBlLl9lbWl0U3RhdHNVcGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdCh7dHlwZToic3RhdHMiLGRhdGE6ZX0pfSxuLnByb3RvdHlwZS5fZW1pdFByb2plY3RDb25maWd1cmVkPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZW1pdChfLmV4dGVuZCh0LHtmaWxlczplfSkpfSxuLnByb3RvdHlwZS5fZW1pdE5vdGlmaWNhdGlvbj1mdW5jdGlvbihlLHQsbil7dGhpcy5fZW1pdCh7dHlwZToibm90aWZpY2F0aW9uIixub3RpZmljYXRpb246Xy5leHRlbmQoe3RleHQ6dCx0eXBlOmV9LG58fHt9KX0pfSxuLnByb3RvdHlwZS5fZW1pdFN0b3BwZWQ9ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdCh7dHlwZToic3RvcHBlZCIsZGVhY3RpdmF0ZTplfSl9LG4ucHJvdG90eXBlLl9lbWl0RXhwaXJlZExpY2Vuc2U9ZnVuY3Rpb24oKXt0aGlzLl9lbWl0KHt0eXBlOiJleHBpcmVkTGljZW5zZSJ9KX0sbi5wcm90b3R5cGUuX2VtaXQ9ZnVuY3Rpb24oZSl7dGhpcy5lbWl0KCJtZXNzYWdlIixlKX0sbi5wcm90b3R5cGUuX2Vycm9yTWVzc2FnZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcHJvamVjdCYmdGhpcy5fcHJvamVjdC5fY2xlYW5TdGFjayhlKSxlJiYoZS5zdGFja3x8ZS5tZXNzYWdlKX0sbi5wcm90b3R5cGUuX3Rlc3RSdW5FcnJvck1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubWVzc2FnZX0sbn0oRXZlbnRFbWl0dGVyKTt0LmV4cG9ydHM9Yn0seyIuL3NlcnZlci9maWxlU3lzdGVtIjo5LCIuL3NlcnZlci9tb2RlbCI6MTAsIi4vc2hhcmVkL3V0aWxzIjoxNSxjaGlsZF9wcm9jZXNzOnZvaWQgMCxjcnlwdG86dm9pZCAwLGRlYnVnOnZvaWQgMCxwYXRoOnZvaWQgMCx0aW1lcnM6dm9pZCAwfV0sMzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fdGVzdElkPWUuc3BlYyx0aGlzLl9maWxlSWQ9ZS5maWxlLHRoaXMuX3JhbmdlPWUucmFuZ2UsdGhpcy5fdGV4dD1lLnRleHQsdGhpcy5fdHlwZT1lLnR5cGUsdGhpcy5fY29udGV4dD1lLmNvbnRleHQsdGhpcy5fYWN0dWFsPWUuYWN0dWFsLHRoaXMuX2V4cGVjdGVkPWUuZXhwZWN0ZWR9cmV0dXJuIGUucHJvdG90eXBlLnRlc3RJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXN0SWR9LGUucHJvdG90eXBlLmZpbGVJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlSWR9LGUucHJvdG90eXBlLnJhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhbmdlfSxlLnByb3RvdHlwZS5zZXRSYW5nZT1mdW5jdGlvbihlKXt0aGlzLl9yYW5nZT1lfSxlLnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR9LGUucHJvdG90eXBlLnR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX0sZS5wcm90b3R5cGUuc2V0RmlsZT1mdW5jdGlvbihlKXt0aGlzLl9maWxlPWV9LGUucHJvdG90eXBlLmZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZX0sZS5wcm90b3R5cGUubGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZT9fLmlzQXJyYXkodGhpcy5fcmFuZ2UpP3RoaXMuX3JhbmdlWzBdOnRoaXMuX3JhbmdlLnN0YXJ0TGluZSgpOnZvaWQgMH0sZS5wcm90b3R5cGUuY29udGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250ZXh0fSxlLnByb3RvdHlwZS5hY3R1YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0dWFsfSxlLnByb3RvdHlwZS5leHBlY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHBlY3RlZH0sZX0oKTt0LmV4cG9ydHM9aX0se31dLDQ6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2l0ZW1zPWUuaXRlbXMsdGhpcy5faGl0cz1lLmhpdHN9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxuKXt2YXIgaT10aGlzO3RoaXMuX2tleT1lLnJhbmdlS2V5KHRoaXMuX2l0ZW1zKSx0aGlzLl9maWxlPXQsdGhpcy5fc3RhcnRMaW5lPXRoaXMuX2l0ZW1zWzBdLHRoaXMuX3N0YXJ0Q29sdW1uPXRoaXMuX2l0ZW1zWzFdLHRoaXMuX2VuZExpbmU9dGhpcy5faXRlbXNbMl0sdGhpcy5fZW5kQ29sdW1uPXRoaXMuX2l0ZW1zWzNdLHRoaXMuX251bU9mQ292ZXJpbmdUZXN0cz0wLHRoaXMuX2lzQ292ZXJlZD0hMSx0aGlzLl9oaXRzJiYodGhpcy5fY292ZXJpbmdUZXN0TWFwPU9iamVjdC5jcmVhdGUobnVsbCksXy5lYWNoKHRoaXMuX2hpdHMsZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9bltlXTtpZighdClyZXR1cm47dmFyIHI9dC5rZXkoKTtpLl9jb3ZlcmluZ1Rlc3RNYXBbcl09dCxpLl9hZGRGYWlsZWRPbk1lVGVzdElmRmFpbGluZyh0KX1lbHNlIGkuX2lzQ292ZXJlZEJ5Tm90VGVzdHM9ITB9KSxpLl9udW1PZkNvdmVyaW5nVGVzdHM9Xy5zaXplKGkuX2NvdmVyaW5nVGVzdE1hcCksaS5fc2V0SXNDb3ZlcmVkKCkpLGRlbGV0ZSB0aGlzLl9pdGVtcyxkZWxldGUgdGhpcy5faGl0c30sZS5wcm90b3R5cGUubGluZVNoaWZ0PWZ1bmN0aW9uKHQpe3RoaXMuX3N0YXJ0TGluZSs9dCx0aGlzLl9lbmRMaW5lKz10LHRoaXMuX2tleT1lLnJhbmdlS2V5KFt0aGlzLl9zdGFydExpbmUsdGhpcy5fc3RhcnRDb2x1bW4sdGhpcy5fZW5kTGluZSx0aGlzLl9lbmRDb2x1bW5dKX0sZS5wcm90b3R5cGUuc3RhcnRMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXJ0TGluZX0sZS5wcm90b3R5cGUuc3RhcnRDb2x1bW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRDb2x1bW59LGUucHJvdG90eXBlLmVuZExpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5kTGluZX0sZS5wcm90b3R5cGUuZW5kQ29sdW1uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZENvbHVtbn0sZS5wcm90b3R5cGUuZmFpbHM9ZnVuY3Rpb24oZSl7dGhpcy5fZ2xvYmFsRXJyb3JzfHwodGhpcy5fZ2xvYmFsRXJyb3JzPVtdKSx+dGhpcy5fZ2xvYmFsRXJyb3JzLmluZGV4T2YoZSl8fHRoaXMuX2dsb2JhbEVycm9ycy5wdXNoKGUpfSxlLnByb3RvdHlwZS5zZXRDb25zb2xlTG9nPWZ1bmN0aW9uKGUpe3RoaXMuX2NvbnNvbGVMb2c9ZX0sZS5wcm90b3R5cGUuY29uc29sZUxvZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25zb2xlTG9nfSxlLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5fSxlLnByb3RvdHlwZS5pc0Rpc3Bvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9LGUucHJvdG90eXBlLmlzRXJyb3JTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFpbGVkQnlNZVRlc3RzJiYhXy5pc0VtcHR5KHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cyl8fHRoaXMuX2dsb2JhbEVycm9ycyYmIV8uaXNFbXB0eSh0aGlzLl9nbG9iYWxFcnJvcnMpfSxlLnByb3RvdHlwZS5pc09uRXJyb3JQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZhaWxlZE9uTWVUZXN0cyYmIV8uaXNFbXB0eSh0aGlzLl9mYWlsZWRPbk1lVGVzdHMpfSxlLnByb3RvdHlwZS5lcnJvcnM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5pc0Vycm9yU291cmNlKCk/KHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cyYmKGU9ZS5jb25jYXQoXy5mbGF0dGVuKF8udmFsdWVzKHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cykpKSksdGhpcy5fZ2xvYmFsRXJyb3JzJiYoZT1lLmNvbmNhdCh0aGlzLl9nbG9iYWxFcnJvcnMpKSxlKTplfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX2ZpbGUsZGVsZXRlIHRoaXMuX2NvdmVyaW5nVGVzdE1hcCxkZWxldGUgdGhpcy5fZmFpbGVkT25NZVRlc3RzLGRlbGV0ZSB0aGlzLl9mYWlsZWRCeU1lVGVzdHMsZGVsZXRlIHRoaXMuX2dsb2JhbEVycm9ycyx0aGlzLl9pc0Rpc3Bvc2VkPSEwLGRlbGV0ZSB0aGlzLl9udW1PZkNvdmVyaW5nVGVzdHN9LGUucHJvdG90eXBlLnNvdXJjZUZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZX0sZS5wcm90b3R5cGUuZmFpbHNUZXN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fZmFpbGVkQnlNZVRlc3RzfHwodGhpcy5fZmFpbGVkQnlNZVRlc3RzPU9iamVjdC5jcmVhdGUobnVsbCkpLHRoaXMuX2ZhaWxlZEJ5TWVUZXN0c1tlLmtleSgpXT10fSxlLnByb3RvdHlwZS5ub3RDb3ZlcmVkQnk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXkoKSxuPXRoaXMuaXNDb3ZlcmVkKCk7dGhpcy5fY292ZXJpbmdUZXN0TWFwJiZ0aGlzLl9jb3ZlcmluZ1Rlc3RNYXBbdF0mJihkZWxldGUgdGhpcy5fY292ZXJpbmdUZXN0TWFwW3RdLHRoaXMuX251bU9mQ292ZXJpbmdUZXN0cy0tLHRoaXMuX3NldElzQ292ZXJlZCgpKSx0aGlzLl9mYWlsZWRCeU1lVGVzdHMmJmRlbGV0ZSB0aGlzLl9mYWlsZWRCeU1lVGVzdHNbdF0sdGhpcy5fZmFpbGVkT25NZVRlc3RzJiZkZWxldGUgdGhpcy5fZmFpbGVkT25NZVRlc3RzW3RdLG51bGwhPXRoaXMuX2ZpbGUmJnRoaXMuX2ZpbGUucmFuZ2VDb3ZlcmFnZUNoYW5nZWQodGhpcyxuKX0sZS5wcm90b3R5cGUuY292ZXJpbmdUZXN0cz1mdW5jdGlvbigpe3JldHVybiBfLnZhbHVlcyh0aGlzLl9jb3ZlcmluZ1Rlc3RNYXApfSxlLnByb3RvdHlwZS5pc0NvdmVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNDb3ZlcmVkfSxlLnByb3RvdHlwZS5fc2V0SXNDb3ZlcmVkPWZ1bmN0aW9uKCl7dGhpcy5faXNDb3ZlcmVkPXRoaXMuX251bU9mQ292ZXJpbmdUZXN0cz4wfHx0aGlzLl9pc0NvdmVyZWRCeU5vdFRlc3RzfSxlLnByb3RvdHlwZS5hdHRhY2hlZFRvU291cmNlRmlsZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fY292ZXJpbmdUZXN0TWFwJiZfLmVhY2godGhpcy5fY292ZXJpbmdUZXN0TWFwLGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvdmVycyhlKX0pfSxlLnByb3RvdHlwZS51cGRhdGVGcm9tPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzO3JldHVybiB0JiZuJiZfLmlzRW1wdHkoZS5fY292ZXJpbmdUZXN0TWFwKT92b2lkKGUuX2NvbnNvbGVMb2cmJih0aGlzLl9jb25zb2xlTG9nPWUuX2NvbnNvbGVMb2cpKToodGhpcy5faXNDb3ZlcmVkQnlOb3RUZXN0cz1lLl9pc0NvdmVyZWRCeU5vdFRlc3RzLHRoaXMuX2NvbnNvbGVMb2c9ZS5fY29uc29sZUxvZyx0aGlzLl9mYWlsZWRCeU1lVGVzdHMmJih0aGlzLl9mYWlsZWRCeU1lVGVzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSksdGhpcy5fZ2xvYmFsRXJyb3JzJiYodGhpcy5fZ2xvYmFsRXJyb3JzPVtdKSxlLl9jb3ZlcmluZ1Rlc3RNYXA/KHQmJiFuPyh0aGlzLl9jb3ZlcmluZ1Rlc3RNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9mYWlsZWRPbk1lVGVzdHMmJih0aGlzLl9mYWlsZWRPbk1lVGVzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSksXy5lYWNoKGUuX2NvdmVyaW5nVGVzdE1hcCxmdW5jdGlvbihlKXt2YXIgdD1lLmtleSgpO2kuX2NvdmVyaW5nVGVzdE1hcFt0XT1lLGUuY292ZXJzKGkpLGkuX2FkZEZhaWxlZE9uTWVUZXN0SWZGYWlsaW5nKGUpfSkpOmkuX2ZhaWxlZE9uTWVUZXN0cz9fLmVhY2goZS5fY292ZXJpbmdUZXN0TWFwLGZ1bmN0aW9uKGUpe3JldHVybiBpLl91cGRhdGVUZXN0V2l0aFBvc3NpYmxlRmFpbGVkT25UaGVSYW5nZShlLGUua2V5KCkpfSk6Xy5lYWNoKGUuX2NvdmVyaW5nVGVzdE1hcCxmdW5jdGlvbihlKXtyZXR1cm4gaS5fdXBkYXRlVGVzdChlLGUua2V5KCkpfSksaS5fbnVtT2ZDb3ZlcmluZ1Rlc3RzPV8uc2l6ZShpLl9jb3ZlcmluZ1Rlc3RNYXApKToodGhpcy5fY292ZXJpbmdUZXN0TWFwPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fbnVtT2ZDb3ZlcmluZ1Rlc3RzPTAsdGhpcy5fZmFpbGVkT25NZVRlc3RzJiYodGhpcy5fZmFpbGVkT25NZVRlc3RzPU9iamVjdC5jcmVhdGUobnVsbCkpKSx2b2lkIHRoaXMuX3NldElzQ292ZXJlZCgpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZVRlc3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jb3ZlcmluZ1Rlc3RNYXBbdF09ZSxlLmNvdmVycyh0aGlzKSx0aGlzLl9hZGRGYWlsZWRPbk1lVGVzdElmRmFpbGluZyhlKX0sZS5wcm90b3R5cGUuX3VwZGF0ZVRlc3RXaXRoUG9zc2libGVGYWlsZWRPblRoZVJhbmdlPWZ1bmN0aW9uKGUsdCl7ZGVsZXRlIHRoaXMuX2ZhaWxlZE9uTWVUZXN0c1t0XSx0aGlzLl91cGRhdGVUZXN0KGUsdCl9LGUucHJvdG90eXBlLmlzSW5zaWRlT2Y9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3N0YXJ0TGluZT49ZS5fc3RhcnRMaW5lJiZlLl9lbmRMaW5lPj10aGlzLl9lbmRMaW5lJiYodGhpcy5fc3RhcnRMaW5lPmUuX3N0YXJ0TGluZXx8dGhpcy5fc3RhcnRDb2x1bW4+PWUuX3N0YXJ0Q29sdW1uKSYmKGUuX2VuZExpbmU+dGhpcy5fZW5kTGluZXx8ZS5fZW5kQ29sdW1uPj10aGlzLl9lbmRDb2x1bW4pfSxlLnByb3RvdHlwZS5fYWRkRmFpbGVkT25NZVRlc3RJZkZhaWxpbmc9ZnVuY3Rpb24oZSl7ZS5pc0ZhaWxpbmcoKSYmKHRoaXMuX2ZhaWxlZE9uTWVUZXN0c3x8KHRoaXMuX2ZhaWxlZE9uTWVUZXN0cz1PYmplY3QuY3JlYXRlKG51bGwpKSx0aGlzLl9mYWlsZWRPbk1lVGVzdHNbZS5rZXkoKV09ZSl9LGUucmFuZ2VLZXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuam9pbigiLiIpfSxlfSgpO3QuZXhwb3J0cz1pfSx7fV0sNTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1lKCIuL2RvY3VtZW50TGluZSIpLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5fbGluZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9yZWN5Y2xlZExpbmVzPVtdLHRoaXMuX2xpbmVTaGlmdE9ySW52YWxpZGF0aW9uU2luY2VMYXN0VXBkYXRlPSExfXJldHVybiBlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMscz10aGlzLl9saW5lU2hpZnRPckludmFsaWRhdGlvblNpbmNlTGFzdFVwZGF0ZTtkZWxldGUgdGhpcy5fbGluZVNoaWZ0T3JJbnZhbGlkYXRpb25TaW5jZUxhc3RVcGRhdGUsbj8odGhpcy5fbGluZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9yZWN5Y2xlZExpbmVzPVtdKTp0JiZfLmVhY2godGhpcy5fbGluZXMsZnVuY3Rpb24oZSl7ZS5yZW1vdmVSYW5nZXMoKX0pO3ZhciBvPVtdLGE9W107Xy5lYWNoKGUsZnVuY3Rpb24oZSl7aWYoIWUuaXNEaXNwb3NlZCgpKXt2YXIgbj1lLnN0YXJ0TGluZSgpLHM9ci5fbGluZXNbbl07c3x8KHM9bmV3IGkobiksci5fbGluZXNbbl09cyxhLnB1c2gocykpLHMuYWRkUmFuZ2UoZSx0KSxvLnB1c2gocyl9fSk7dmFyIGw9T2JqZWN0LmNyZWF0ZShudWxsKTtvPXQmJiFuP18udmFsdWVzKHRoaXMuX2xpbmVzKS5jb25jYXQoYSk6byxfLmVhY2gobyxmdW5jdGlvbihlKXtlLmhhc1JhbmdlcygpP2UudXBkYXRlTGluZURhdGEoKSYmKGxbZS5rZXkoKV09ZSk6KGUuZGlzcG9zZSgpLGRlbGV0ZSByLl9saW5lc1tlLm51bWJlcigpXSxyLl9yZWN5Y2xlZExpbmVzLnB1c2goZSkpfSk7dmFyIGM9dGhpcy5fcmVjeWNsZWRMaW5lcy5zbGljZSgpO3JldHVybiB0aGlzLl9yZWN5Y2xlZExpbmVzPVtdLHtsaW5lczpuP18ubWFwKHRoaXMuX2xpbmVzLGZ1bmN0aW9uKGUpe3JldHVybiByLl9jb21wYWN0TGluZShlKX0pOl8ubWFwKHM/dGhpcy5fbGluZXM6bCxmdW5jdGlvbihlKXt2YXIgdD1yLl9jb21wYWN0TGluZShlKTtyZXR1cm4gdC5jaGFuZ2VkPXM/ISFsW2Uua2V5KCldfHx2b2lkIDA6MSx0fSkuY29uY2F0KF8ubWFwKGMsZnVuY3Rpb24oZSl7cmV0dXJue2lkOmUua2V5KCksZGVsOjF9fSkpLGFsbExpbmVzOm58fHN9fSxlLnByb3RvdHlwZS5saW5lPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9saW5lc1tlXX0sZS5wcm90b3R5cGUuYWxsTGluZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybntsaW5lczpfLm1hcCh0aGlzLl9saW5lcyxmdW5jdGlvbih0KXtyZXR1cm4gZS5fY29tcGFjdExpbmUodCl9KSxhbGxMaW5lczohMH19LGUucHJvdG90eXBlLl9jb21wYWN0TGluZT1mdW5jdGlvbihlKXtyZXR1cm57aWQ6ZS5rZXkoKSxudW06ZS5udW1iZXIoKSxzdGF0ZTplLnN0YXRlKCksbG9nOmUuY29uc29sZUxvZ1RleHQoKSxsb25nTG9nOnByb2Nlc3MuZW52LnF1b2trYT9lLmxvbmdDb25zb2xlTG9nVGV4dCgpOnZvaWQgMCxlcnI6ZS5lcnJvclNvdXJjZVRleHQoKX19LGUucHJvdG90eXBlLmludmFsaWRhdGVMaW5lcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2xpbmVTaGlmdE9ySW52YWxpZGF0aW9uU2luY2VMYXN0VXBkYXRlPSEwLF8uZWFjaChfLnJhbmdlKGUuc3RhcnQsZS5lbmQpLGZ1bmN0aW9uKG4pe3ZhciBpPXQuX2xpbmVzW25dO2kmJnQuX3JlY3ljbGVMaW5lSWZJbkNoYW5nZUZyYW1lKGksZSl9KX0sZS5wcm90b3R5cGUuc2hpZnRMaW5lcz1mdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpczt0aGlzLl9saW5lU2hpZnRPckludmFsaWRhdGlvblNpbmNlTGFzdFVwZGF0ZT0hMDt2YXIgcj1fLnZhbHVlcyh0aGlzLl9saW5lcyk7dGhpcy5fbGluZXM9T2JqZWN0LmNyZWF0ZShudWxsKSxfLmVhY2gocixmdW5jdGlvbihyKXt2YXIgcz1yLm51bWJlcigpO2lmKCFpLl9yZWN5Y2xlTGluZUlmSW5DaGFuZ2VGcmFtZShyLG4pKXtzPmUmJihzKz10LHIubnVtYmVyKHMpKTt2YXIgbz1pLl9saW5lc1tzXTtvPyhvLmRpc3Bvc2UoKSxyLmRpc3Bvc2UoKSxpLl9yZWN5Y2xlZExpbmVzLnB1c2gobyksaS5fcmVjeWNsZWRMaW5lcy5wdXNoKHIpLGRlbGV0ZSBpLl9saW5lc1tzXSk6aS5fbGluZXNbc109cn19KX0sZS5wcm90b3R5cGUuX3JlY3ljbGVMaW5lSWZJbkNoYW5nZUZyYW1lPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5udW1iZXIoKTtyZXR1cm4gbj49dC5zdGFydCYmbjw9dC5lbmQ/KGUuZGlzcG9zZSgpLHRoaXMuX3JlY3ljbGVkTGluZXMucHVzaChlKSwhMCk6dm9pZCAwfSxlfSgpO3QuZXhwb3J0cz1yfSx7Ii4vZG9jdW1lbnRMaW5lIjo2fV0sNjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1lKCIuLi9zaGFyZWQvZW51bXMiKS5saW5lU3RhdGUscj0xMjgscz0yNjIxNDQsbz0xMjgsYT0wLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2xpbmVOdW1iZXI9ZSx0aGlzLl9yYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9pZD0rK2F9cmV0dXJuIGUucHJvdG90eXBlLmhhc1Jhbmdlcz1mdW5jdGlvbigpe3JldHVybiFfLmlzRW1wdHkodGhpcy5fcmFuZ2VzKX0sZS5wcm90b3R5cGUucmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jhbmdlc30sZS5wcm90b3R5cGUudXBkYXRlTGluZURhdGE9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ITAsbj0hMCxhPSExLGw9ITEsYz10aGlzLl9saW5lU3RhdGUsdT10aGlzLl9jb25zb2xlTG9nVGV4dCxkPXRoaXMuX2Vycm9yU291cmNlVGV4dDtyZXR1cm4gZGVsZXRlIHRoaXMuX2NvbnNvbGVMb2dUZXh0LGRlbGV0ZSB0aGlzLl9sb25nQ29uc29sZUxvZ1RleHQsZGVsZXRlIHRoaXMuX2Vycm9yU291cmNlVGV4dCxfLmVhY2godGhpcy5fcmFuZ2VzLGZ1bmN0aW9uKGkpe3ZhciBzPWkuY29uc29sZUxvZygpO2lmKHMmJnMubGVuZ3RoKXtfLmlzU3RyaW5nKGUuX2NvbnNvbGVMb2dUZXh0KXx8KGUuX2NvbnNvbGVMb2dUZXh0PSIiKTt2YXIgYz1zLmxlbmd0aD5yLHU9KGM/cy5zbGljZShzLmxlbmd0aC1yKTpzKS5qb2luKCIsICIpO2lmKHUubGVuZ3RoPnImJih1PSgwPT09dS5pbmRleE9mKCJ0aGVuICIpPyJ0aGVuICI6IiIpKyIuLi4gIit1LnN1YnN0cih1Lmxlbmd0aC1yKzQpKSxlLl9jb25zb2xlTG9nVGV4dCs9KGUuX2NvbnNvbGVMb2dUZXh0PyIgfCAiOiIiKSt1LHByb2Nlc3MuZW52LnF1b2trYSl7Xy5pc1N0cmluZyhlLl9sb25nQ29uc29sZUxvZ1RleHQpfHwoZS5fbG9uZ0NvbnNvbGVMb2dUZXh0PSIiKTt2YXIgZD1zLmxlbmd0aD4xZTMsaD0oZD8iICAuLi5cbiI6IiIpKyIgIisoZD9zLnNsaWNlKHMubGVuZ3RoLTFlMyk6cykuam9pbigiIFxuICIpO2UuX2xvbmdDb25zb2xlTG9nVGV4dCs9KGUuX2xvbmdDb25zb2xlTG9nVGV4dD8iXG4tLS1cbiI6IiIpK2h9fWlmKGkuaXNFcnJvclNvdXJjZSgpKXthPSEwO3ZhciBwPWkuZXJyb3JzKCk7aWYocC5sZW5ndGgpe3ZhciBmPXBbcC5sZW5ndGgtMV0ubWVzc2FnZSgpO2UuX2Vycm9yU291cmNlVGV4dD1lLl90cnVuY2F0ZU1lc3NhZ2UoZnx8IiIsbyl9fWkuaXNPbkVycm9yUGF0aCgpJiYobD0hMCksaS5pc0NvdmVyZWQoKT9uPSExOnQ9ITF9KSxlLl9jb25zb2xlTG9nVGV4dCYmKHByb2Nlc3MuZW52LnF1b2trYSYmKGUuX2xvbmdDb25zb2xlTG9nVGV4dD1lLl90cnVuY2F0ZU1lc3NhZ2UoZS5fbG9uZ0NvbnNvbGVMb2dUZXh0LHMsITApKSxlLl9jb25zb2xlTG9nVGV4dD1lLl90cnVuY2F0ZU1lc3NhZ2UoZS5fY29uc29sZUxvZ1RleHQscikpLHRoaXMuX2xpbmVTdGF0ZT1hP2kuZXJyb3JTb3VyY2U6bD9pLmVycm9yUGF0aDpuP2kubm90Q292ZXJlZDp0P2kuZnVsbHlDb3ZlcmVkOmkucGFydGlhbGx5Q292ZXJlZCx0aGlzLl9saW5lU3RhdGUhPT1jfHx0aGlzLl9jb25zb2xlTG9nVGV4dCE9PXV8fHRoaXMuX2Vycm9yU291cmNlVGV4dCE9PWR9LGUucHJvdG90eXBlLmNvbnNvbGVMb2dUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnNvbGVMb2dUZXh0fSxlLnByb3RvdHlwZS5sb25nQ29uc29sZUxvZ1RleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9uZ0NvbnNvbGVMb2dUZXh0fSxlLnByb3RvdHlwZS5lcnJvclNvdXJjZVRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXJyb3JTb3VyY2VUZXh0fSxlLnByb3RvdHlwZS5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lU3RhdGV9LGUucHJvdG90eXBlLmFkZFJhbmdlPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5rZXkoKTt0fHxkZWxldGUgdGhpcy5fcmFuZ2VzW25dLHRoaXMuX3Jhbmdlc1tuXT1lfSxlLnByb3RvdHlwZS5yZW1vdmVSYW5nZXM9ZnVuY3Rpb24oKXt0aGlzLl9yYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKX0sZS5wcm90b3R5cGUubnVtYmVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10aGlzLl9saW5lTnVtYmVyO2lmKF8uaXNVbmRlZmluZWQoZSkpcmV0dXJuIG47aWYoZSE9PW4pe3RoaXMuX2xpbmVOdW1iZXI9ZTt2YXIgaT1lLW4scj1fLnZhbHVlcyh0aGlzLl9yYW5nZXMpO3RoaXMucmVtb3ZlUmFuZ2VzKCksXy5lYWNoKHIsZnVuY3Rpb24oZSl7ZS5saW5lU2hpZnQoaSksdC5fcmFuZ2VzW2Uua2V5KCldPWV9KX19LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZVJhbmdlcygpLGRlbGV0ZSB0aGlzLl9jb25zb2xlTG9nVGV4dCxkZWxldGUgdGhpcy5fZXJyb3JTb3VyY2VUZXh0LGRlbGV0ZSB0aGlzLl9saW5lU3RhdGUsdGhpcy5faXNEaXNwb3NlZD0hMH0sZS5wcm90b3R5cGUuaXNEaXNwb3NlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0Rpc3Bvc2VkfSxlLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWR9LGUucHJvdG90eXBlLl90cnVuY2F0ZU1lc3NhZ2U9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWUubGVuZ3RoPnQ/Ii4uLiI6IiI7cmV0dXJuIGU9ZS5zdWJzdHIoMCx0KSwobj9lOnRoaXMuX2NsZWFuU3RyaW5nKGUpKStpfSxlLnByb3RvdHlwZS5fY2xlYW5TdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUucmVwbGFjZSgvXHJcblxzKi9nLCIgIikucmVwbGFjZSgvXG5ccyovZywiICIpfSxlfSgpO3QuZXhwb3J0cz1sfSx7Ii4uL3NoYXJlZC9lbnVtcyI6MTR9XSw3OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoIi4vc3RhY2tFbnRyeSIpLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2FjdHVhbD1lLmFjdHVhbCx0aGlzLl9leHBlY3RlZD1lLmV4cGVjdGVkLHRoaXMuX21lc3NhZ2U9ZS5tZXNzYWdlLHRoaXMuX3N0YWNrPWUuc3RhY2ssdGhpcy5fY29udGV4dD1lLmNvbnRleHR8fHt9fXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX3N0YWNrO3RoaXMuX3N0YWNrPVtdLF8uZWFjaCh0LGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuX3N0YWNrLnB1c2gobmV3IGkodFswXSx0WzFdLGUuX2NvbnRleHRbbl0pKX0pLGRlbGV0ZSB0aGlzLl9jb250ZXh0fSxlLnByb3RvdHlwZS5zdGFjaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFja30sZS5wcm90b3R5cGUubWVzc2FnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlfSxlLnByb3RvdHlwZS5hY3R1YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0dWFsfSxlLnByb3RvdHlwZS5leHBlY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHBlY3RlZH0sZS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuX21lc3NhZ2V8fCIiKStfLnJlZHVjZSh0aGlzLl9zdGFjayxmdW5jdGlvbihlLHQpe3JldHVybiBlKz10LmtleSgpfSwiIil9LGV9KCk7dC5leHBvcnRzPXJ9LHsiLi9zdGFja0VudHJ5IjoxMn1dLDg6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZSgiLi9lcnJvckVudHJ5Iikscj0oZSgiLi9zdGFja0VudHJ5IiksZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2lkPWUuaWQsdGhpcy5fZmlsZUlkPWUuZmlsZUlkLHRoaXMuX2xvZz1lLmxvZyx0aGlzLl9uYW1lPWUubmFtZSx0aGlzLl90ZXN0cz1lLnRlc3RzLHRoaXMuX3N0YXJ0PWUuc3RhcnQsdGhpcy5fdGltZT1lLnRpbWUsdGhpcy5fc2xvdz1lLnNsb3d9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxuLHIscyl7dmFyIG89dGhpcztpZih0aGlzLl9wYXJlbnQ9dCx0aGlzLl9pZCYmKHRoaXMuX2J1aWxkRnVsbE5hbWVBbmRQYXRoKCksdGhpcy5fc2V0S2V5KCkscih0aGlzKSx0aGlzLl9jb3ZlcmVkUmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fY292ZXJlZEZpbGVzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fdHM9bix0aGlzLl9sb2cmJnRoaXMuX2xvZy5sZW5ndGgpKXt0aGlzLl9pc0ZhaWxpbmc9ITA7dmFyIGE9dGhpcy5fbG9nO3RoaXMuX2xvZz1bXSx0aGlzLl9lcnJvclN0YWNrTWFwPU9iamVjdC5jcmVhdGUobnVsbCksXy5lYWNoKGEsZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkoZSk7dC5pbml0KCksXy5lYWNoKHQuc3RhY2soKSxmdW5jdGlvbihlKXt2YXIgbj1lLmtleSgpLGk9by5fZXJyb3JTdGFja01hcFtuXTtpP35fLmluZGV4T2YoaSx0KXx8aS5wdXNoKHQpOihpPVtdLGkucHVzaCh0KSxvLl9lcnJvclN0YWNrTWFwW25dPWkpLGkuc3RhY2tFbnRyeT1lLHMoZSl9KSxvLl9sb2cucHVzaCh0KX0pfXRoaXMuX3Rlc3RzJiYoXy5lYWNoKHRoaXMuX3Rlc3RzLGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZSh0KS5pbml0KG8sbixyLHMpfSksZGVsZXRlIHRoaXMuX3Rlc3RzKX0sZS5wcm90b3R5cGUuaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWR9LGUucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9rZXl8fCh0aGlzLl9zZXRLZXkoKSx0aGlzLl9rZXkpfSxlLnByb3RvdHlwZS5fc2V0S2V5PWZ1bmN0aW9uKCl7dGhpcy5fa2V5PXRoaXMuX2ZpbGVJZCsiXyIrdGhpcy5fZnVsbE5hbWV9LGUucHJvdG90eXBlLmZpbGVJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlSWR9LGUucHJvdG90eXBlLmZpbGVQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Rlc3RGaWxlJiZ0aGlzLl90ZXN0RmlsZS5wYXRoKCl9LGUucHJvdG90eXBlLnRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGltZX0sZS5wcm90b3R5cGUuZXJyb3JzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvZ30sZS5wcm90b3R5cGUuYWRkQ29uc29sZU1lc3NhZ2U9ZnVuY3Rpb24oZSl7dGhpcy5fY29uc29sZU1lc3NhZ2VzfHwodGhpcy5fY29uc29sZU1lc3NhZ2VzPVtdKSx0aGlzLl9jb25zb2xlTWVzc2FnZXMucHVzaChlKX0sZS5wcm90b3R5cGUuY29uc29sZU1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnNvbGVNZXNzYWdlc30sZS5wcm90b3R5cGUuaXNGYWlsaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRmFpbGluZ30sZS5wcm90b3R5cGUuc2xvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zbG93fSxlLnByb3RvdHlwZS5zZXRUZXN0RmlsZT1mdW5jdGlvbihlKXt0aGlzLl90ZXN0RmlsZT1lfSxlLnByb3RvdHlwZS5vYnNvbGV0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBkZWxldGUgdGhpcy5fc3RhcnRSYW5nZSxkZWxldGUgdGhpcy5fdGVzdEZpbGUsdGhpcy5fY292ZXJlZFJhbmdlcyYmKF8uZWFjaCh0aGlzLl9jb3ZlcmVkUmFuZ2VzLGZ1bmN0aW9uKG4pe2lmKG4ubm90Q292ZXJlZEJ5KGUpLCFuLmlzRGlzcG9zZWQoKSl7dmFyIGk9bi5zb3VyY2VGaWxlKCk7dFtpLmtleSgpXT1pfX0pLGRlbGV0ZSB0aGlzLl9jb3ZlcmVkUmFuZ2VzKSxkZWxldGUgdGhpcy5fZXJyb3JTdGFja01hcCxkZWxldGUgdGhpcy5fY29uc29sZU1lc3NhZ2VzLGRlbGV0ZSB0aGlzLl9jb3ZlcmVkRmlsZXMsdH0sZS5wcm90b3R5cGUuY292ZXJzPWZ1bmN0aW9uKGUpe3RoaXMuX2NvdmVyZWRSYW5nZXNbZS5rZXkoKV09ZTt2YXIgdD1lLnNvdXJjZUZpbGUoKTt0JiYhdC5pc1Rlc3RGaWxlKCkmJih0aGlzLl9jb3ZlcmVkRmlsZXNbdC5rZXkoKV09dCl9LGUucHJvdG90eXBlLmNvdmVyZWRGaWxlcz1mdW5jdGlvbigpe3JldHVybiBfLm1hcCh0aGlzLl9jb3ZlcmVkRmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGV9KX0sZS5wcm90b3R5cGUuc3RhcnRSYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFydFJhbmdlfSxlLnByb3RvdHlwZS5jb21wbGV0ZUluaXRpYWxpemF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fZXJyb3JTdGFja01hcCYmXy5lYWNoKHRoaXMuX2Vycm9yU3RhY2tNYXAsZnVuY3Rpb24obil7dmFyIGk9bi5zdGFja0VudHJ5O2lmKGkpe3ZhciByPWVbaS5maWxlSWQoKV07aWYocil7dmFyIHM9ci5jbG9zZXN0UmFuZ2UoaS5saW5lKCkpO3MmJihpLnNldFJhbmdlKHMpLHMuZmFpbHNUZXN0KHQsbikpfX19KSx0aGlzLl9jb25zb2xlTWVzc2FnZXMmJl8uZWFjaCh0aGlzLl9jb25zb2xlTWVzc2FnZXMsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maWxlKCk7dCYmZS5zZXRSYW5nZSh0LmNsb3Nlc3RSYW5nZShlLmxpbmUoKSkpfSksdGhpcy5fY292ZXJlZFJhbmdlcyYmKF8uaXNVbmRlZmluZWQodGhpcy5fc3RhcnQpfHwodGhpcy5fc3RhcnRSYW5nZT10aGlzLl90ZXN0RmlsZS5jbG9zZXN0UmFuZ2UodGhpcy5fc3RhcnQpLGRlbGV0ZSB0aGlzLl9zdGFydCksdGhpcy5fc3RhcnRSYW5nZXx8Xy5lYWNoKHRoaXMuX2NvdmVyZWRSYW5nZXMsZnVuY3Rpb24oZSl7dmFyIG49ZS5zb3VyY2VGaWxlKCk7bj09dC5fdGVzdEZpbGUmJih0Ll9zdGFydFJhbmdlP2UuZW5kTGluZSgpPHQuX3N0YXJ0UmFuZ2UuZW5kTGluZSgpJiYodC5fc3RhcnRSYW5nZT1lKTp0Ll9zdGFydFJhbmdlPWUpfSkpfSxlLnByb3RvdHlwZS5wYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhdGh9LGUucHJvdG90eXBlLnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RzfSxlLnByb3RvdHlwZS5fYnVpbGRGdWxsTmFtZUFuZFBhdGg9ZnVuY3Rpb24oKXt2YXIgZT1bXTtlLnB1c2godGhpcy5fbmFtZSk7Zm9yKHZhciB0PXRoaXMuX3BhcmVudDtudWxsIT10Oyl7dmFyIG49dC5fbmFtZTtlLnB1c2gobiksdD10Ll9wYXJlbnR9ZS5yZXZlcnNlKCksdGhpcy5fZnVsbE5hbWU9ZS5qb2luKCLimIYiKSx0aGlzLl9wYXRoPWV9LGV9KCkpO3QuZXhwb3J0cz1yfSx7Ii4vZXJyb3JFbnRyeSI6NywiLi9zdGFja0VudHJ5IjoxMn1dLDk6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX07cmV0dXJuIGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1lKHQsbiksdC5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKSxzPWUoInBhdGgiKSxvPWUoImNob2tpZGFyIikuRlNXYXRjaGVyLGE9ZSgibWluaW1hdGNoIiksbD1lKCIuLi9zaGFyZWQvdXRpbHMiKSxjPTFlMyx1PTUwMCxkPTUwLGg9e2FwazoxLGJtcDoxLGNnbToxLGczOjEsZ2lmOjEsaWVmOjEsaXJ4OjEsanBlZzoxLGpwZzoxLGpwZToxLGt0eDoxLHBuZzoxLGJ0aWY6MSxzZ2k6MSxzdmc6MSxzdmd6OjEsdGlmZjoxLHRpZjoxLHBzZDoxLHV2aToxLHV2dmk6MSx1dmc6MSx1dnZnOjEsZGp2dToxLGRqdjoxLHN1YjoxLGR3ZzoxLGR4ZjoxLGZiczoxLGZweDoxLGZzdDoxLG1tcjoxLHJsYzoxLG1kaToxLHdkcDoxLG5weDoxLHdibXA6MSx4aWY6MSx3ZWJwOjEsIjNkcyI6MSxyYXM6MSxjbXg6MSxmaDoxLGZoYzoxLGZoNDoxLGZoNToxLGZoNzoxLGljbzoxLHNpZDoxLHBjeDoxLHBpYzoxLHBjdDoxLHBubToxLHBibToxLHBnbToxLHBwbToxLHJnYjoxLHRnYToxLHhibToxLHhwbToxLHh3ZDoxLGJpbjoxLHhsczoxLHhsc3g6MSx6aXA6MSxtcDQ6MSxtbzoxLG5vZGU6MSxkdW1wOjEsZGxsOjEsbWFwOjEsbGliOjEsZXhwOjEsb2JqOjEscGRiOjEsZ3ppcDoxLGd6OjEsZGI6MSxkb2N4OjF9LHA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihuLGkpe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gci5fZGlmZk1hdGNoUGF0Y2g9aS5kaWZmTWF0Y2hQYXRjaCxyLl9iYXNlRGlyPW4sci5faXNSZWFkeT0hMSxyLl9pc1N0b3BwZWQ9ITEsci5fZmlsZXNCeVBhdGg9T2JqZWN0LmNyZWF0ZShudWxsKSxyLl9maWxlc0J5SWQ9T2JqZWN0LmNyZWF0ZShudWxsKSxyLl9maWxlSWQ9MCxyLl9scnVDYWNoZT1lKCJscnUtY2FjaGUiKSh7bWF4OjEwNDg1NzYqZCxsZW5ndGg6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGVuZ3RofX0pLHIuX3JlYWRGaWxlUHJvbWlzZT1pLnJlYWRGaWxlUHJvbWlzZSxyLl9yZWFscGF0aFN5bmM9aS5yZWFscGF0aFN5bmMscn1yZXR1cm4gcihuLHQpLG4ucHJvdG90eXBlLnNldHVwPWZ1bmN0aW9uKHQsbil7dmFyIHI9dGhpcyxhPXRoaXM7aWYoaT1lKCJkZWJ1ZyIpKCJ3YWxsYWJ5OmZzIikscHJvY2Vzcy5lbnYucXVva2thKXt2YXIgbD10WzBdLGQ9e307cmV0dXJuIGEuX2lzUmVhZHk9ITAsZFtsLnBhdHRlcm5dPWEuX2ZpbGVBZGRlZChsLnBhdHRlcm4se21ldGFkYXRhOmwsbXRpbWU6e2dldFRpbWU6ZnVuY3Rpb24oKXtyZXR1cm4rbmV3IERhdGV9fX0pLFEud2hlbihkKX12YXIgaD1bXSxwPVtdLGY9e30sZz17fSx5PTA7Xy5lYWNoKHQsZnVuY3Rpb24oZSl7ZS5pZ25vcmU/cC5wdXNoKGUpOihoLnB1c2goZSksZS5vcmRlcj0rK3kpfSk7dmFyIHY9biYmbi5nbG9iO24mJm4uZmlsZVNjYW5UaW1lb3V0JiYoYz11PW4uZmlsZVNjYW5UaW1lb3V0KTt2YXIgbT10aGlzLl9pc0luY2x1ZGVkKGEuX2Jhc2VEaXIsaCxwLGYsdiksVD17aWdub3JlSW5pdGlhbDohMSxpZ25vcmVQZXJtaXNzaW9uRXJyb3JzOiEwLHVzZVBvbGxpbmc6ImRhcndpbiI9PT1wcm9jZXNzLnBsYXRmb3JtfHwibGludXgiPT09cHJvY2Vzcy5wbGF0Zm9ybSxpZ25vcmVkOmZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuITE7aWYodC5pc1N5bWJvbGljTGluaygpKXRyeXtnW2VdPXtwYXRoOmUscmVhbFBhdGg6YS5fcmVhbHBhdGhTeW5jKGUpfX1jYXRjaChuKXt9dmFyIGk9dC5pc0ZpbGUoKTtpZighaSl7dmFyIG89ci5faXNFbnRpdHlFeGNsdWRlZChzLmpvaW4ocy5yZWxhdGl2ZShhLl9iYXNlRGlyLGUpLCIvIikscCx2KTtyZXR1cm4gby5maWxlJiZvLnRlc3R9dmFyIGw9IW0oZSx0KTtpZihsKXt2YXIgYz1fLmZpbmQoZyxmdW5jdGlvbih0KXtyZXR1cm4gXy5zdGFydHNXaXRoKGUsdC5yZWFsUGF0aCl9KTtjJiYobD0hbShlLnJlcGxhY2UoYy5yZWFsUGF0aCxjLnBhdGgpLHQpKX1yZXR1cm4gbH0sY3dkOmEuX2Jhc2VEaXJ9O2lmKGEuX2hhc0dsb2JDaGFycyhhLl9iYXNlRGlyKSl0aHJvdyBuZXcgRXJyb3IoIllvdXIgcHJvamVjdCBmaWxlIHBhdGggY29udGFpbnMgZ2xvYiBjaGFyYWN0ZXJzLCBsaWtlIGB7YCwgYH1gLCBgW2AsIGBdYCwgYChgLCBgKWAsIGAqYCwgYHxgIGFuZCBpdCBtYXkgY2F1c2UgdGhlIHByb2plY3QgZmlsZSBzY2FubmluZyB0byBmYWlsLCBwbGVhc2UgcmVtb3ZlIGdsb2IgY2hhcmFjdGVycyBmcm9tIHRoZSBwcm9qZWN0IHBhdGguIik7dGhpcy5fd2F0Y2hlcj1uZXcgbyhUKTt2YXIgUj1fLnJlZHVjZShoLGZ1bmN0aW9uKGUsdCl7dmFyIG49YS5fZ2V0QmFzZURpcih0LnBhdHRlcm4pO3JldHVybiBlW25dPW4sZX0se30pO18uZWFjaChSLGZ1bmN0aW9uKGUpe2lmKCFfLmZpbmQoUixmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWUmJmUuc3Vic3RyKDAsdC5sZW5ndGgrMSk9PT10KyIvIn0pKXt2YXIgdD12b2lkIDAsbj1zLm5vcm1hbGl6ZShzLmpvaW4oYS5fYmFzZURpcixlKSk7dHJ5e3Q9cy5ub3JtYWxpemUoYS5fcmVhbHBhdGhTeW5jKG4pKX1jYXRjaChyKXt9dCYmdCE9PW4/KGkoIlBvc3NpYmxlIHN5bWxpbms6ICVzIC0+ICVzIix0LG4pLGZbdF09e3JlYWxQYXRoOnQsbGlua2VkUGF0aDpufSxhLl93YXRjaGVyLmFkZCh0KSk6YS5fd2F0Y2hlci5hZGQoZSl9fSk7dmFyIEY7cmV0dXJuIFEucHJvbWlzZShmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe2EuX2lzUmVhZHl8fChhLl9pc1JlYWR5PSEwLHQmJmkoIkZpbGUgc3lzdGVtIHNjYW4gaGFzIGZpbmlzaGVkIGJ5IHRpbWVvdXQiKSxlKGEuX2ZpbGVzQnlQYXRoKSl9O3RyeXthLl93YXRjaGVyLm9uKCJhbGwiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KEYpLEY9c2V0VGltZW91dChfLmJpbmQobixudWxsLCEwKSxjKX0pLm9uKCJhZGQiLF8uYmluZChhLl93aXRoTm9ybWFsaXplZFBhdGgsYSxhLl9maWxlQWRkZWQpKS5vbigiY2hhbmdlIixfLmJpbmQoYS5fd2l0aE5vcm1hbGl6ZWRQYXRoLGEsYS5fZmlsZUNoYW5nZWQpKS5vbigidW5saW5rIixfLmJpbmQoYS5fd2l0aE5vcm1hbGl6ZWRQYXRoLGEsYS5fZmlsZURlbGV0ZWQpKS5vbigicmVhZHkiLF8uZGVib3VuY2Uobix1KSkub24oImVycm9yIixfLmJpbmQoYS5lbWl0LGEsImVycm9yIikpfWNhdGNoKHIpe3Qocil9fSl9LG4ucHJvdG90eXBlLl9oYXNHbG9iQ2hhcnM9ZnVuY3Rpb24oZSl7cmV0dXJufmUuaW5kZXhPZigiKCIpfHx+ZS5pbmRleE9mKCIpIil8fH5lLmluZGV4T2YoInwiKXx8fmUuaW5kZXhPZigieyIpfHx+ZS5pbmRleE9mKCJ9Iil8fH5lLmluZGV4T2YoIioiKXx8fmUuaW5kZXhPZigiWyIpfHx+ZS5pbmRleE9mKCJdIil9LG4ucHJvdG90eXBlLmxvYWRGaWxlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBRLmFsbChfLm1hcChlLGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9sb2FkRmlsZShlKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LmVtaXQoImxvYWRlZCIsZSl9KX0pKX0sbi5wcm90b3R5cGUuZmlsZUNoYW5nZWRJbkVkaXRvcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5fZmlsZXNCeVBhdGhbZV07aWYociYmIXIuYmluYXJ5KXtpKCJGaWxlIGNoYW5nZWQgaW4gZWRpdG9yOiAlcyIsci5wYXRoKTt2YXIgcz10aGlzLl9scnVDYWNoZS5nZXQoci5wYXRoKTt0aGlzLl9scnVDYWNoZS5zZXQoci5wYXRoLHQpLHIuY2hhbmdlVHMrKyx0aGlzLl9lbWl0RmlsZUNoYW5nZShfLmV4dGVuZCh7fSxyLHtjb250ZW50OnR9KSxzLG4sITApfX0sbi5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2lzU3RvcHBlZD0hMCx0aGlzLl93YXRjaGVyJiYodGhpcy5fd2F0Y2hlci5jbG9zZSgpLGRlbGV0ZSB0aGlzLl9scnVDYWNoZSl9LG4ucHJvdG90eXBlLmlkQnlQYXRoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2ZpbGVzQnlQYXRoW2VdO2lmKHQpcmV0dXJuIHQuaWR9LG4ucHJvdG90eXBlLl9sb2FkRmlsZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9maWxlc0J5SWRbZV07aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJObyBmaWxlIHdpdGggaWQgIitlKyIgZm91bmQiKTtyZXR1cm4gdGhpcy5fbG9hZEZpbGVXaXRoQ2FjaGUodCl9LG4ucHJvdG90eXBlLl9sb2FkRmlsZVdpdGhDYWNoZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZS5jaGFuZ2VUcyxpPXRoaXMuX2xydUNhY2hlLmdldChlLnBhdGgpO3JldHVybihfLmlzVW5kZWZpbmVkKGkpP3RoaXMuX3JlYWRGaWxlUHJvbWlzZShzLmpvaW4odC5fYmFzZURpcixlLnBhdGgpKTpRLndoZW4oaSkpLnRoZW4oZnVuY3Rpb24oaSl7cmV0dXJuIGk9aT9lLmJpbmFyeT9pLnRvU3RyaW5nKCJiYXNlNjQiKTppLnRvU3RyaW5nKCk6IiIsdC5faXNTdG9wcGVkfHxuIT09ZS5jaGFuZ2VUc3x8dC5fbHJ1Q2FjaGUuc2V0KGUucGF0aCxpKSxRLndoZW4oXy5leHRlbmQoe30sZSx7Y29udGVudDppfSkpfSlbImNhdGNoIl0oZnVuY3Rpb24oZSl7cmV0dXJuIHQuZW1pdCgiZXJyb3IiLGUpfSl9LG4ucHJvdG90eXBlLl9maWxlQWRkZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2lmKGkoIkZpbGUgYWRkZWQ6ICVzIixlKSx0JiZ0Lm1ldGFkYXRhKXt2YXIgcj10Lm1ldGFkYXRhLG89cy5leHRuYW1lKGUpLnN1YnN0cigxKTtyZXR1cm4gci5jaGFuZ2VUcz0xLHIuaWQ9Kyt0aGlzLl9maWxlSWQsci50cz10Lm10aW1lLmdldFRpbWUoKSxyLnR5cGU9byYmby50b0xvd2VyQ2FzZSgpLHIuYmluYXJ5PXIuYmluYXJ5fHxoW3IudHlwZV0sci5wYXRoPWUsdGhpcy5fZmlsZXNCeVBhdGhbZV09cix0aGlzLl9maWxlc0J5SWRbci5pZF09cix0aGlzLl9pc1JlYWR5JiYodGhpcy5fbHJ1Q2FjaGUuZGVsKGUpLHRoaXMuX2xvYWRGaWxlV2l0aENhY2hlKHIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG4uZW1pdCgiYWRkZWQiLGUpfSkpLHJ9aSgiTm8gbWV0YWRhdGEgZm9yIGFkZGVkIGZpbGUgZm91bmQ6ICVzIixlKX0sbi5wcm90b3R5cGUuX2ZpbGVDaGFuZ2VkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aSgiRmlsZSBjaGFuZ2VkOiAlcyIsZSk7dmFyIG49dGhpcy5fZmlsZXNCeVBhdGhbZV07aWYobil7aWYodGhpcy5faXNSZWFkeSl7dmFyIHI9dGhpcy5fbHJ1Q2FjaGUuZ2V0KGUpO3RoaXMuX2xydUNhY2hlLmRlbChlKTt2YXIgcz0rK24uY2hhbmdlVHM7dGhpcy5fbG9hZEZpbGVXaXRoQ2FjaGUobikudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFuZ2VUcz09PXMmJnQuX2VtaXRGaWxlQ2hhbmdlKGUscil9KX19ZWxzZSBpKCJObyBtZXRhZGF0YSBmb3IgY2hhbmdlZCBmaWxlIGZvdW5kOiAlcyIsZSl9LG4ucHJvdG90eXBlLl9lbWl0RmlsZUNoYW5nZT1mdW5jdGlvbihlLHQsbixyKXt2YXIgcz1lLmNvbnRlbnQ7aWYoXy5pc1N0cmluZyh0KSl7dmFyIG89dGhpcy5fZGlmZk1hdGNoUGF0Y2gucGF0Y2hfbWFrZSh0LHMpO2lmKCFvLmxlbmd0aClyZXR1cm4gaSgiTm8gY2hhbmdlcyBkZXRlY3RlZCBmb3IgJXMiLGUucGF0aCksdm9pZCB0aGlzLmVtaXQoIm5vdENoYW5nZWQiLGUscyxuKTtlLmNvbnRlbnQ9dGhpcy5fZGlmZk1hdGNoUGF0Y2gucGF0Y2hfdG9UZXh0KG8pfXRoaXMuZW1pdCgiY2hhbmdlZCIsZSxzLG4scil9LG4ucHJvdG90eXBlLl9maWxlRGVsZXRlZD1mdW5jdGlvbihlKXtpKCJGaWxlIGRlbGV0ZWQ6ICVzIixlKSx0aGlzLl9scnVDYWNoZS5kZWwoZSk7dmFyIHQ9dGhpcy5fZmlsZXNCeVBhdGhbZV07dD8oZGVsZXRlIHRoaXMuX2ZpbGVzQnlQYXRoW2VdLGRlbGV0ZSB0aGlzLl9maWxlc0J5SWRbdC5pZF0sdGhpcy5faXNSZWFkeSYmdGhpcy5lbWl0KCJkZWxldGVkIix0KSk6aSgiTm8gbWV0YWRhdGEgZm9yIGRlbGV0ZWQgZmlsZSBmb3VuZDogJXMiLGUpfSxuLnByb3RvdHlwZS5fd2l0aE5vcm1hbGl6ZWRQYXRoPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbiYmbi5saW5rZWRQYXRoJiYodD1uLmxpbmtlZFBhdGgpLGUuY2FsbCh0aGlzLGwubm9ybWFsaXplUGF0aCh0KSxuKX0sbi5wcm90b3R5cGUuX2lzSW5jbHVkZWQ9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgbD10aGlzO3JldHVybiBmdW5jdGlvbihjLHUpe2lmKDA9PT1jLmluZGV4T2YoZSkpYz1zLnJlbGF0aXZlKGUsYyk7ZWxzZXtpKCJTeW1saW5rIHJlc29sdXRpb24gZm9yOiAlcyIsYyk7dmFyIGQ9cltjXTtpZihkKWM9cy5yZWxhdGl2ZShlLGQubGlua2VkUGF0aCk7ZWxzZXt2YXIgaD1fLmZpbmQocixmdW5jdGlvbihlLHQpe3JldHVybiAwPT09Yy5pbmRleE9mKHQpfSk7aWYoIWgpcmV0dXJuITE7Yz1zLnJlbGF0aXZlKGUsYy5yZXBsYWNlKGgucmVhbFBhdGgsaC5saW5rZWRQYXRoKSl9dSYmKHUubGlua2VkUGF0aD1jKX12YXIgcD1sLl9pc0VudGl0eUV4Y2x1ZGVkKGMsbixvKTtpZihwLmZpbGUmJnAudGVzdClyZXR1cm4hMTt2YXIgZj1vPyIuLyIrYzpjLGc9Xy5jbG9uZShfLmZpbmQodCxmdW5jdGlvbihlKXtyZXR1cm4oIXAuZmlsZSYmIWUudGVzdHx8IXAudGVzdCYmZS50ZXN0KSYmYShmLChvPyIuLyI6IiIpK2UucGF0dGVybil9KSk7cmV0dXJuIHUmJih1Lm1ldGFkYXRhPWcpLCEhZ319LG4ucHJvdG90eXBlLl9pc0VudGl0eUV4Y2x1ZGVkPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGkscixzPW4/Ii4vIitlOmUsbz0wLGw9dC5sZW5ndGg7bD5vO28rKyl7dmFyIGM9dFtvXSx1PWMudGVzdDtpZigoIWl8fHUpJiZhKHMsKG4/Ii4vIjoiIikrYy5wYXR0ZXJuKSl7aWYodSl7cj1jO2JyZWFrfWk9Y319cmV0dXJue2ZpbGU6aSx0ZXN0OnJ9fSxuLnByb3RvdHlwZS5fZ2V0QmFzZURpcj1mdW5jdGlvbihlKXt2YXIgdD1sLm5vcm1hbGl6ZVBhdGgoZS5yZXBsYWNlKC9bXC9cXF1bXlwvXFxdKlwqLiokLywiIikucmVwbGFjZSgvW1wvXFxdW15cL1xcXSpbXCFcK11cKC4qJC8sIiIpLnJlcGxhY2UoL1tcL1xcXVteXC9cXF0qXClcPy4qJC8sIiIpfHxzLnNlcCk7cmV0dXJuIHRoaXMuX2hhc0dsb2JDaGFycyh0KSYmKHQ9Ii4vIiksdH0sbn0oRXZlbnRFbWl0dGVyKTt0LmV4cG9ydHM9cH0seyIuLi9zaGFyZWQvdXRpbHMiOjE1LGNob2tpZGFyOnZvaWQgMCxkZWJ1Zzp2b2lkIDAsImxydS1jYWNoZSI6dm9pZCAwLG1pbmltYXRjaDp2b2lkIDAscGF0aDp2b2lkIDB9XSwxMDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX07cmV0dXJuIGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1lKHQsbiksdC5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKSxyPShlKCJwYXRoIiksZSgibWluaW1hdGNoIikpLHM9ZSgiLi4vc2hhcmVkL3V0aWxzIiksbz1lKCIuL3RyYWNrZWRTb3VyY2VGaWxlIiksYT1lKCIuL2NvdmVyYWJsZVJhbmdlIiksbD1lKCIuL2V4ZWN1dGVkVGVzdCIpLGM9ZSgiLi9jb25zb2xlTWVzc2FnZSIpLHU9ZSgiLi9lcnJvckVudHJ5IiksZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcyxpPW47bi5fZmlsZUlkQnlQYXRoPXQuZmlsZUlkQnlQYXRoLG4uX2Fsd2F5c1NlbmRBbGxMaW5lcz10LmFsd2F5c1NlbmRBbGxMaW5lcyxuLl9maWxlcz1PYmplY3QuY3JlYXRlKG51bGwpLG4uX251bWJlck9mQWxsUmFuZ2VzPTAsbi5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzPTAsbi5fY292ZXJhZ2U9e3ZhbHVlOjAsbG93OiEwfSxuLl90ZXN0cz1PYmplY3QuY3JlYXRlKG51bGwpLG4uX2ZhaWxpbmdUZXN0cz1PYmplY3QuY3JlYXRlKG51bGwpLG4uX2dsb2JhbEVycm9ycz1PYmplY3QuY3JlYXRlKG51bGwpLG4uX3Rlc3RSdW5HbG9iYWxMb2dzPVtdLG4uX2NoYW5nZWQ9ITAsbi5fcHJvamVjdD10LnByb2plY3Q7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQ9aVsicHJvamVjdDoiK2UudHlwZV07dCYmdC5jYWxsKGksZSl9O3JldHVybiBuLl9wcm9qZWN0Ll9tb2RlbHx8cHJvY2Vzcy5lbnYucXVva2thP24uX3Byb2plY3Qub24oIm1lc3NhZ2UiLHIpOm4uX3Byb2plY3Qub24oIm1lc3NhZ2UiLGZ1bmN0aW9uKGUpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHIoZSl9LDMwKX0pLG59cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5jb25maWdGaWxlUGF0aD1mdW5jdGlvbigpe3JldHVybiBzLm5vcm1hbGl6ZVBhdGgodGhpcy5fcHJvamVjdC5jb25maWdGaWxlUGF0aCgpKX0sdC5wcm90b3R5cGUucHJvamVjdE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvamVjdC5wcm9qZWN0TmFtZSgpfSx0LnByb3RvdHlwZS5wcm9qZWN0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2plY3Quc2V0dGluZ3MoKX0sdC5wcm90b3R5cGUubG93Q292ZXJhZ2VUaHJlc2hvbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvamVjdC5zZXR0aW5ncygpLmxvd0NvdmVyYWdlVGhyZXNob2xkfSx0LnByb3RvdHlwZS5jb3JlVmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9qZWN0LmNvcmVWZXJzaW9uKCl9LHQucHJvdG90eXBlLmZpbGVCeVBhdGg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZmlsZUlkQnlQYXRoKGUpO2lmKHQpcmV0dXJuIHRoaXMuX2ZpbGVzW3RdfSx0LnByb3RvdHlwZS5maWxlQnlJZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZmlsZXNbZV19LHQucHJvdG90eXBlLmZpbGVDb250ZW50QnlQYXRoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZmlsZUJ5UGF0aChlKTtyZXR1cm4gdCYmdGhpcy5fcHJvamVjdC5yZWFkU291cmNlRmlsZSh0LmtleSgpKX0sdC5wcm90b3R5cGUudGVzdHNCeVJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoZS5maWxlKXt2YXIgbj10aGlzLmZpbGVCeVBhdGgoZS5maWxlKTtuJiYoZS5saW5lfHwhbi5pc1Rlc3RGaWxlKCk/Xy5lYWNoKGUubGluZT9uLmxpbmVUZXN0cyhlLmxpbmUpOm4uY292ZXJpbmdUZXN0cygpLGZ1bmN0aW9uKGUpe3QucHVzaChbZS5maWxlSWQoKV0uY29uY2F0KGUucGF0aCgpKSl9KTp0LnB1c2goW24ua2V5KCldKSl9cmV0dXJuIHR9LHQucHJvdG90eXBlLnVuY292ZXJlZFJlZ2lvbnNCeVJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5maWxlQnlQYXRoKGUuZmlsZSk7aWYodClyZXR1cm4gXy5jaGFpbihlLmxpbmU/dC5saW5lUmFuZ2VzKGUubGluZSk6dC5yYW5nZXMoKSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFlLmlzQ292ZXJlZCgpfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybltlLnN0YXJ0TGluZSgpLGUuc3RhcnRDb2x1bW4oKSxlLmVuZExpbmUoKSxlLmVuZENvbHVtbigpXX0pLnZhbHVlKCl9LHQucHJvdG90eXBlLmxpbmVSZXBvcnRCeVJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5maWxlQnlQYXRoKGUuZmlsZSk7aWYodClyZXR1cm4gdGhpcy5fbGluZVJlcG9ydCh0LGUubGluZSl9LHQucHJvdG90eXBlLmxvY2F0aW9uQnlSZXF1ZXN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2xhdGVzdEZhaWxpbmdUZXN0QnlGaWxlQW5kTGluZShlKTtpZih0KXtpZigiZmFpbGluZ1Rlc3QiPT09ZS50eXBlKXt2YXIgbj10LnN0YXJ0UmFuZ2UoKTtyZXR1cm4gbj97ZmlsZTp0LmZpbGVQYXRoKCksbG9jOltuLnN0YXJ0TGluZSgpLG4uc3RhcnRDb2x1bW4oKV19Ont9fWlmKCJlcnJvclNvdXJjZSI9PT1lLnR5cGUpe3ZhciBpPV8uZmluZCh0LmVycm9ycygpLGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnN0YWNrJiZlLnN0YWNrKCkubGVuZ3RofSk7aWYoIWkpe3ZhciBuPXQuc3RhcnRSYW5nZSgpO3JldHVybiBuP3tmaWxlOnQuZmlsZVBhdGgoKSxsb2M6W24uc3RhcnRMaW5lKCksbi5zdGFydENvbHVtbigpXX06e319dmFyIHI9aS5zdGFjaygpWzBdLHM9ci5yYW5nZSgpLG89e307cmV0dXJuIG8uZmlsZT1yLmZpbGVQYXRoKCkscyYmKG8ubG9jPVtzLnN0YXJ0TGluZSgpLHMuc3RhcnRDb2x1bW4oKV0pLG99fX0sdC5wcm90b3R5cGUuX2xhdGVzdEZhaWxpbmdUZXN0QnlGaWxlQW5kTGluZT1mdW5jdGlvbihlKXt2YXIgdD1lLmZpbGUmJnRoaXMuZmlsZUJ5UGF0aChlLmZpbGUpLG49dCYmZS5saW5lJiZ0LmxpbmVDb3ZlcmluZ1Rlc3RzT3JkZXJlZEJ5RmFpbGluZ1RoZW5EYXRlKGUubGluZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0Vycm9yU291cmNlKCl8fGUuaXNPbkVycm9yUGF0aCgpfSlbMF07cmV0dXJuIG4mJm4uaXNGYWlsaW5nKCl8fChuPXRoaXMubGF0ZXN0RmFpbGluZ1Rlc3QoKSksbn0sdC5wcm90b3R5cGUuZXJyb3JCeVJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbGF0ZXN0RmFpbGluZ1Rlc3RCeUZpbGVBbmRMaW5lKGUpO2lmKHQpe3ZhciBuPXQuZXJyb3JzKCk7aWYoIW4ubGVuZ3RoKXJldHVybjt2YXIgaT10LmZpbGVJZCgpO2lmKCJlcnJvclNvdXJjZSI9PT1lLnR5cGUpcmV0dXJuIHRoaXMuX21hcEVycm9ycyhfLmZpbHRlcihuLGZ1bmN0aW9uKHQpe3JldHVybiBfLmZpbmQodC5zdGFjaygpLGZ1bmN0aW9uKHQpe3JldHVybiB0LmZpbGVJZCgpPT09aSYmdC5saW5lKCk9PT1lLmxpbmV9KX0pKVswXTtpZigiZmFpbGluZ1Rlc3QiPT09ZS50eXBlKXJldHVybiB0aGlzLl9tYXBFcnJvcnMobilbMF19fSx0LnByb3RvdHlwZS5sYXRlc3RGYWlsaW5nVGVzdD1mdW5jdGlvbigpe3JldHVybiBfLmxhc3QoXy52YWx1ZXModGhpcy5fZmFpbGluZ1Rlc3RzKSl9LHQucHJvdG90eXBlLmZ1bGxUZXN0UmVzdWx0c1JlcG9ydD1mdW5jdGlvbihlKXtpZih0aGlzLl9ydW5FcnJvcilyZXR1cm4gdGhpcy5fcnVuRXJyb3I7dmFyIHQ9e2Vycm9yczp0aGlzLl9tYXBFcnJvcnModGhpcy5fZ2xvYmFsRXJyb3JzKSx0aW1lOmV9O2lmKHByb2Nlc3MuZW52LnF1b2trYSl7dC5tZXNzYWdlcz10aGlzLl9tYXBNZXNzYWdlcyh0aGlzLl90ZXN0UnVuR2xvYmFsTG9ncyk7dmFyIG49dGhpcy5fcHJvamVjdC5zZXR0aW5ncygpO24mJm4ucXVva2thJiZuLnF1b2trYS5pbnN0YWxsUGFja2FnZSYmXy5lYWNoKHQuZXJyb3JzLGZ1bmN0aW9uKGUpe2lmKGUmJmUubWVzc2FnZSl7dmFyIHQ9ZS5tZXNzYWdlLm1hdGNoKC9DYW5ub3QgZmluZCBtb2R1bGUgJyhbXidccyZ8O10rKScvKTt0JiZ0WzFdJiYoZS5taXNzaW5nUGFja2FnZT1zLnZhbGlkUGFja2FnZU5hbWUodFsxXSkpfX0pfWVsc2UgdC50b3RhbE51bWJlcj1fLnNpemUodGhpcy5fdGVzdHMpLHQuZmFpbGluZ051bWJlcj1fLnNpemUodGhpcy5fZmFpbGluZ1Rlc3RzKSx0LnRlc3RzPXRoaXMuX21hcFRlc3RzKHRoaXMuX2ZhaWxpbmdUZXN0cykucmV2ZXJzZSgpLnZhbHVlKCk7cmV0dXJuIHR9LHQucHJvdG90eXBlLmFsbFRlc3RGaWxlcz1mdW5jdGlvbigpe3JldHVybiBfLmZpbHRlcih0aGlzLl9maWxlcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5pc1Rlc3RGaWxlKCl9KX0sdC5wcm90b3R5cGUuc3VtbWFyeT1mdW5jdGlvbigpe3ZhciBlPV8uc2l6ZSh0aGlzLl90ZXN0cyksdD1fLnNpemUodGhpcy5fZmFpbGluZ1Rlc3RzKTtyZXR1cm57dG90YWw6ZSxwYXNzZWQ6ZS10LGZhaWxlZDp0LGNvdmVyYWdlOnRoaXMuX2NvdmVyYWdlfX0sdC5wcm90b3R5cGUuYWxsRmlsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gXy5tYXAodGhpcy5fZmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJue3BhdGg6ZS5wYXRoKCksaWQ6ZS5rZXkoKX19KX0sdC5wcm90b3R5cGUuZ2xvYmFsRXJyb3JzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbEVycm9yc30sdC5wcm90b3R5cGVbInByb2plY3Q6c3RhcnRpbmciXT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO18uZWFjaChlLmZpbGVzLGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9hZGRGaWxlKG5ldyBvKGUpKX0pLHRoaXMuX2VtaXQoImFsbEZpbGVzIix7ZmlsZXM6ZS5maWxlc30pfSx0LnByb3RvdHlwZVsicHJvamVjdDpmaWxlIl09ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maWxlLG49ZVsiZGVsZXRlIl0saT10aGlzLmZpbGVCeUlkKHQuaWQpO2lmKGkmJiFuJiZ0aGlzLl9lbWl0KCJmaWxlQ2hhbmdlZCIse2ZpbGU6dH0pLGl8fG58fChpPW5ldyBvKHQpLHRoaXMuX2FkZEZpbGUoaSksdGhpcy5fZW1pdCgiZmlsZUFkZGVkIix7ZmlsZTp0fSkpLGkmJm4pe3RoaXMuX2RlbGV0ZUZpbGUodC5pZCk7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKSxzPWkub3duVGVzdHMoKTt0aGlzLl90ZXN0c1JlbW92ZWQocyksXy5lYWNoKHMsZnVuY3Rpb24oZSl7cmV0dXJuIF8uZXh0ZW5kKHIsZS5vYnNvbGV0ZSgpKX0pLGRlbGV0ZSByW3QuaWRdLGkuaXNUZXN0RmlsZSgpJiZ0aGlzLl9lbWl0KCJ0ZXN0RmlsZURlbGV0ZWQiLHtmaWxlOnR9KSx0aGlzLl9lbWl0KCJmaWxlRGVsZXRlZCIse2ZpbGU6dH0pLHRoaXMuX3VwZGF0ZUFmZmVjdGVkRmlsZXMociksdGhpcy5fYWdncmVnYXRlRmlsZUNvdmVyYWdlKGksITApLHRoaXMuX3VwZGF0ZVRvdGFsQ292ZXJhZ2UoKSxpLmRpc3Bvc2UoKX19LHQucHJvdG90eXBlWyJwcm9qZWN0OmNvbnNvbGVPdXRwdXQiXT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgYyhlLmRhdGEpLG49dC5maWxlSWQoKTtpZihuKXt2YXIgaT10aGlzLmZpbGVCeUlkKG4pLHI9dC5yYW5nZSgpO2kmJnImJnQuc2V0RmlsZShpKX10aGlzLl9lbWl0KCJjb25zb2xlT3V0cHV0Iix7bWVzc2FnZTp0aGlzLl9tYXBNZXNzYWdlKHQpfSl9LHQucHJvdG90eXBlWyJwcm9qZWN0OnRlc3RSdW5FcnJvciJdPWZ1bmN0aW9uKGUpe3RoaXMuX3JlcG9ydEZhaWxlZFJ1bihlLm1lc3NhZ2UpfSx0LnByb3RvdHlwZVsicHJvamVjdDp0ZXN0UmVzdWx0cyJdPWZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcyxpPU9iamVjdC5jcmVhdGUobnVsbCkscj1PYmplY3QuY3JlYXRlKG51bGwpO3RoaXMuX3JlcG9ydE5vcm1hbFJ1bigpLHRoaXMuX3Rlc3RSdW5HbG9iYWxMb2dzPVtdLF8uZWFjaChlLnRlc3RzLGZ1bmN0aW9uKHIpe3ZhciBzPW5ldyBsKHIpO3MuaW5pdChudWxsLGUudHMsZnVuY3Rpb24oZSl7aVtlLmlkKCldPWUsdCE9PSExJiYodD90LmlzRmFpbGluZygpfHwodD1lLmlzRmFpbGluZygpP2U6ITEpOnQ9ZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBlLnNldEZpbGUobi5maWxlQnlJZChlLmZpbGVJZCgpKSl9KX0pLF8uZWFjaChlLmxvZyxmdW5jdGlvbihlKXt2YXIgdD1uZXcgYyhlKSxyPXQudGVzdElkKCk7aWYoMCE9PXIpe3ZhciBzPWlbcl07cyYmcy5hZGRDb25zb2xlTWVzc2FnZSh0KX12YXIgbz10LmZpbGVJZCgpO2lmKG8pe3ZhciBhPW4uZmlsZUJ5SWQobyksbD10LnJhbmdlKCk7YSYmbCYmKGEuc2V0UmFuZ2VDb25zb2xlTG9nKHQudGV4dCgpLGwpLHQuc2V0RmlsZShhKSl9MD09PXImJnByb2Nlc3MuZW52LnF1b2trYSYmbi5fdGVzdFJ1bkdsb2JhbExvZ3MucHVzaCh0KX0pO3ZhciBzPU9iamVjdC5jcmVhdGUobnVsbCksbz1PYmplY3QuY3JlYXRlKG51bGwpLGE9Xy5tYXAoZS5maWxlcyxmdW5jdGlvbihlKXtyZXR1cm57Y292ZXJhZ2U6ZSxmaWxlOm4uZmlsZUJ5SWQoZS5pZCl9fSksZD1fLmZpbHRlcihhLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZmlsZS5pc1Rlc3RGaWxlKCksbj1lLmNvdmVyYWdlLmNoYW5nZWQmJiFlLmNvdmVyYWdlLnNpbmdsZVRlc3RDaGFuZ2VkLGk9dCYmbjtyZXR1cm4gaT9zW2UuZmlsZS5rZXkoKV09ZS5maWxlOnQmJihvW2UuZmlsZS5rZXkoKV09ZS5maWxlKSxpfSk7Xy5lYWNoKGQsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maWxlO24uX3Rlc3RzUmVtb3ZlZCh0Lm93blRlc3RzKCkpLF8uZWFjaCh0LnJlbW92ZUFsbFRlc3RzKCksZnVuY3Rpb24oZSl7cltlLmtleSgpXT1lfSl9KSxfLmVhY2goaSxmdW5jdGlvbihlKXt2YXIgdD1uLmZpbGVCeUlkKGUuZmlsZUlkKCkpO18uZWFjaCh0LmFkZFRlc3QoZSksZnVuY3Rpb24oZSl7cltlLmtleSgpXT1lfSksbi5fdGVzdEFkZGVkKGUpfSksXy5lYWNoKGEsZnVuY3Rpb24oZSl7bi5fdXBkYXRlRmlsZVJhbmdlcyhlLGkpLHJbZS5maWxlLmtleSgpXT1lLmZpbGV9KSxfLmVhY2goaSxmdW5jdGlvbihlKXtyZXR1cm4gZS5jb21wbGV0ZUluaXRpYWxpemF0aW9uKG4uX2ZpbGVzQnlJZCgpKX0pO3ZhciBoPVtdO18uZWFjaChlLmdsb2JhbEVycm9ycyxmdW5jdGlvbihlKXt2YXIgdD1uZXcgdShlKTt0LmluaXQoKSxfLmVhY2godC5zdGFjaygpLGZ1bmN0aW9uKGUpe3ZhciBpPW4uZmlsZUJ5SWQoZS5maWxlSWQoKSk7aWYoaSl7ZS5zZXRGaWxlKGkpO3ZhciByPWkuY2xvc2VzdFJhbmdlKGUubGluZSgpKTtudWxsIT1yJiYoZS5zZXRSYW5nZShyKSxyLmZhaWxzKHQpKX19KSxoLnB1c2godCl9KSxfLmVhY2gobi5fdGVzdFJ1bkdsb2JhbExvZ3MsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maWxlKCk7dCYmZS5zZXRSYW5nZSh0LmNsb3Nlc3RSYW5nZShlLmxpbmUoKSkpfSksdGhpcy5fcmVwb3J0R2xvYmFsRXJyb3JzKGgpLHRoaXMuX3VwZGF0ZUFmZmVjdGVkRmlsZXMocixlLnRpbWUpLHRoaXMuX2VtaXQoInRlc3RzRXhlY3V0ZWQiLHtmaXJzdEZhaWxpbmdPclNpbmdsZUV4ZWN1dGVkVGVzdDp0fHx2b2lkIDAsYWxsQWZmZWN0ZWRGaWxlczpyLGNoYW5nZWQ6cyxleGVjdXRlZDpvLGZ1bGxSdW46ZS5mdWxsUnVufSl9LHQucHJvdG90eXBlLl9hZGRGaWxlPWZ1bmN0aW9uKGUpe3RoaXMuX2ZpbGVzW2Uua2V5KCldPWUsZS5oYXNSZXBvcnRhYmxlQ292ZXJhZ2UoKSYmKGUuX25vQ292ZXJhZ2VDYWxjdWxhdGlvbj0hIV8uZmluZCh0aGlzLl9wcm9qZWN0LnNldHRpbmdzKCkuZmlsZXNXaXRoTm9Db3ZlcmFnZUNhbGN1bGF0ZWQsZnVuY3Rpb24odCl7cmV0dXJuIHIoZS5wYXRoKCksdCl9KSl9LHQucHJvdG90eXBlLl9kZWxldGVGaWxlPWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9maWxlc1tlXX0sdC5wcm90b3R5cGUuX2xpbmVSZXBvcnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dGVzdHM6dGhpcy5fbWFwVGVzdHMoZS5saW5lQ292ZXJpbmdUZXN0c09yZGVyZWRCeUZhaWxpbmdUaGVuRGF0ZSh0KSl9fSx0LnByb3RvdHlwZS5fcmVwb3J0RmFpbGVkUnVuPWZ1bmN0aW9uKGUpe3RoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fcnVuRXJyb3I9ZX0sdC5wcm90b3R5cGUuX3JlcG9ydE5vcm1hbFJ1bj1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9ydW5FcnJvcn0sdC5wcm90b3R5cGUuX3JlcG9ydEdsb2JhbEVycm9ycz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLl9jaGFuZ2VkPXRoaXMuX2NoYW5nZWR8fF8uc2l6ZSh0aGlzLl9nbG9iYWxFcnJvcnMpIT09ZS5sZW5ndGgsXy5lYWNoKGUsZnVuY3Rpb24oZSl7dmFyIGk9ZS5rZXkoKTtkZWxldGUgdC5fZ2xvYmFsRXJyb3JzW2ldLG5baV09ZX0pLHRoaXMuX2NoYW5nZWQ9dGhpcy5fY2hhbmdlZHx8IV8uaXNFbXB0eSh0aGlzLl9nbG9iYWxFcnJvcnMpLHRoaXMuX2dsb2JhbEVycm9ycz1ufSx0LnByb3RvdHlwZS5fdGVzdHNSZW1vdmVkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Xy5lYWNoKGUsZnVuY3Rpb24oZSl7dmFyIG49ZS5rZXkoKSxpPSEhdC5fZmFpbGluZ1Rlc3RzW25dO2RlbGV0ZSB0Ll90ZXN0c1tuXSxkZWxldGUgdC5fZmFpbGluZ1Rlc3RzW25dLHQuX2NoYW5nZWQ9aXx8dC5fY2hhbmdlZH0pfSx0LnByb3RvdHlwZS5fdGVzdEFkZGVkPWZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5KCksbj10aGlzLl90ZXN0c1t0XTsKdGhpcy5fdGVzdHNbdF09ZSxkZWxldGUgdGhpcy5fZmFpbGluZ1Rlc3RzW3RdLGUuaXNGYWlsaW5nKCkmJih0aGlzLl9mYWlsaW5nVGVzdHNbdF09ZSksdGhpcy5fY2hhbmdlZD0hbnx8biYmbi5pc0ZhaWxpbmcoKXx8ZS5pc0ZhaWxpbmcoKXx8dGhpcy5fY2hhbmdlZH0sdC5wcm90b3R5cGUuX2ZpbGVzQnlJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlc30sdC5wcm90b3R5cGUuX3VwZGF0ZUFmZmVjdGVkRmlsZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLGk9T2JqZWN0LmNyZWF0ZShudWxsKSxyPVtdO18uZWFjaChlLGZ1bmN0aW9uKGUpe24uX2FnZ3JlZ2F0ZUZpbGVDb3ZlcmFnZShlKSYmci5wdXNoKGUpO3ZhciB0PWUudXBkYXRlRG9jdW1lbnQoKTt0JiYoaVtlLnBhdGgoKV09bi5fYWx3YXlzU2VuZEFsbExpbmVzP2UuYWxsTGluZXMoKTp0KX0pLF8uaXNFbXB0eShpKXx8dGhpcy5fZW1pdCgiZG9jdW1lbnRzVXBkYXRlZCIse2RvY3VtZW50czppfSk7dmFyIHM9dGhpcy5fY2hhbmdlZDtzJiZkZWxldGUgdGhpcy5fY2hhbmdlZCxyLmxlbmd0aCYmdGhpcy5fdXBkYXRlVG90YWxDb3ZlcmFnZSgpLHRoaXMuX2VtaXQoInN0YXRzTWF5YmVDaGFuZ2VkIix7dGVzdFJlc3VsdHNDaGFuZ2VkOnMsZmlsZXNXaXRoQ2hhbmdlZENvdmVyYWdlOnIsdGltZTp0fSl9LHQucHJvdG90eXBlLl9hZ2dyZWdhdGVGaWxlQ292ZXJhZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2lmKGUuaGFzUmVwb3J0YWJsZUNvdmVyYWdlKCkpe3ZhciBpPXQ/MDplLm51bWJlck9mQWxsUmFuZ2VzKCkscj10PzA6ZS5udW1iZXJPZkNvdmVyZWRSYW5nZXMoKSxzPTAsbz0wO2lmKGUuX3ZhbHVlc0luY2x1ZGVkSW5Db3ZlcmFnZUFnZ3JlZ2F0ZT8ocz1pLWUuX3ZhbHVlc0luY2x1ZGVkSW5Db3ZlcmFnZUFnZ3JlZ2F0ZS5udW1iZXJPZkFsbFJhbmdlcyxvPXItZS5fdmFsdWVzSW5jbHVkZWRJbkNvdmVyYWdlQWdncmVnYXRlLm51bWJlck9mQ292ZXJlZFJhbmdlcyk6KHM9aSxvPXIpLGUuX3ZhbHVlc0luY2x1ZGVkSW5Db3ZlcmFnZUFnZ3JlZ2F0ZT17bnVtYmVyT2ZBbGxSYW5nZXM6aSxudW1iZXJPZkNvdmVyZWRSYW5nZXM6cn0sbi5fbnVtYmVyT2ZBbGxSYW5nZXMrPXMsbi5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKz1vLDAhPT1zfHwwIT09bylyZXR1cm4hMH19LHQucHJvdG90eXBlLl91cGRhdGVUb3RhbENvdmVyYWdlPWZ1bmN0aW9uKCl7dmFyIGU9TWF0aC5yb3VuZCgxZTQqdGhpcy5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzL3RoaXMuX251bWJlck9mQWxsUmFuZ2VzKS8xMDB8fDA7dGhpcy5fY292ZXJhZ2U9e3ZhbHVlOmUsbG93OmU8dGhpcy5sb3dDb3ZlcmFnZVRocmVzaG9sZCgpfX0sdC5wcm90b3R5cGUuX3VwZGF0ZUZpbGVSYW5nZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxpPWUuZmlsZSxyPWUuY292ZXJhZ2U7Xy5lYWNoKHIucmFuZ2VzLGZ1bmN0aW9uKGUpe3ZhciByPW5ldyBhKGUpO3IuaW5pdChpLHQpLHIuc2V0Q29uc29sZUxvZyhpLnJhbmdlQ29uc29sZUxvZyhyKSksbi5wdXNoKHIpfSksaS5zZXRSYW5nZXMobixyLmNoYW5nZWQsZS5jb3ZlcmFnZS5zaW5nbGVUZXN0Q2hhbmdlZCksaS5jbGVhclJhbmdlQ29uc29sZUxvZygpfSx0LnByb3RvdHlwZS5fbWFwVGVzdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gXyhlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue2ZhaWxpbmc6ZS5pc0ZhaWxpbmcoKSxsb2M6dC5fcmFuZ2VUb0xvYyhlLnN0YXJ0UmFuZ2UoKSksZmlsZTplLmZpbGVQYXRoKCksdGltZTplLnRpbWUoKSxlcnJvcnM6dC5fbWFwRXJyb3JzKGUuZXJyb3JzKCkpLHBhdGg6ZS5wYXRoKCksbWVzc2FnZXM6dC5fbWFwTWVzc2FnZXMoZS5jb25zb2xlTWVzc2FnZXMoKSl9fSl9LHQucHJvdG90eXBlLl9tYXBNZXNzYWdlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBfLm1hcChlLGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9tYXBNZXNzYWdlKGUpfSl9LHQucHJvdG90eXBlLl9tYXBNZXNzYWdlPWZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOmUudHlwZSgpLHRleHQ6ZS50ZXh0KCksZmlsZTplLmZpbGUoKSYmZS5maWxlKCkucGF0aCgpLGxvYzp0aGlzLl9yYW5nZVRvTG9jKGUucmFuZ2UoKSl8fGUubGluZSgpLGNvbnRleHQ6ZS5jb250ZXh0KCksZXhwZWN0ZWQ6ZS5leHBlY3RlZCgpLGFjdHVhbDplLmFjdHVhbCgpfX0sdC5wcm90b3R5cGUuX21hcEVycm9ycz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBfLm1hcChlLGZ1bmN0aW9uKGUpe3JldHVybnttZXNzYWdlOmUubWVzc2FnZSgpLHN0YWNrOl8ubWFwKGUuc3RhY2soKSxmdW5jdGlvbihlKXtyZXR1cm57ZmlsZTplLmZpbGVQYXRoKCksbG9jOnQuX3JhbmdlVG9Mb2MoZS5yYW5nZSgpKXx8ZS5saW5lKCksY29udGV4dDplLmNvbnRleHQoKX19KSxleHBlY3RlZDplLmV4cGVjdGVkKCksYWN0dWFsOmUuYWN0dWFsKCl9fSl9LHQucHJvdG90eXBlLl9yYW5nZVRvTG9jPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnN0YXJ0TGluZSYmZS5zdGFydExpbmUoKSsiOiIrZS5zdGFydENvbHVtbigpfHx2b2lkIDB9LHQucHJvdG90eXBlLl9lbWl0PWZ1bmN0aW9uKGUsdCl7dGhpcy5lbWl0KCJtZXNzYWdlIixfLmV4dGVuZCh7dHlwZTplfSx0KSl9LHR9KEV2ZW50RW1pdHRlcik7dC5leHBvcnRzPWR9LHsiLi4vc2hhcmVkL3V0aWxzIjoxNSwiLi9jb25zb2xlTWVzc2FnZSI6MywiLi9jb3ZlcmFibGVSYW5nZSI6NCwiLi9lcnJvckVudHJ5Ijo3LCIuL2V4ZWN1dGVkVGVzdCI6OCwiLi90cmFja2VkU291cmNlRmlsZSI6MTMsbWluaW1hdGNoOnZvaWQgMCxwYXRoOnZvaWQgMH1dLDExOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoImRncmFtIikscj1lKCJvcyIpLHM9ZSgiLi8uLi8uLi91dGlscyIpLG89cy5yYW5kb21JZCgpLGE9bi5vcHRpb25zPXt0dGw6MTI4LGFkZHJlc3M6IjIzMC4wLjAuMyIscG9ydDo1NjM5OH0sbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0cnl7dmFyIGU9dGhpczt0aGlzLl9saXN0ZW5lcnM9e30sdGhpcy5fc2VuZGVyPWkuY3JlYXRlU29ja2V0KCJ1ZHA0IiksdGhpcy5fc2VuZGVyLmJpbmQoZnVuY3Rpb24oKXtlLl9zZW5kZXIuc2V0QnJvYWRjYXN0KCEwKSxlLl9zZW5kZXIuc2V0TXVsdGljYXN0VFRMKGEudHRsKX0pLHRoaXMuX3NlbmRlci5vbigiZXJyb3IiLGZ1bmN0aW9uKCl7dHJ5e2UuX3NlbmRlci5jbG9zZSgpfWNhdGNoKHQpe319KSx0aGlzLl9yZWNlaXZlcj1pLmNyZWF0ZVNvY2tldCgidWRwNCIpLHRoaXMuX3JlY2VpdmVyLm9uKCJsaXN0ZW5pbmciLGZ1bmN0aW9uKCl7dHJ5e2UuX3JlY2VpdmVyLnNldEJyb2FkY2FzdCghMCksZS5fcmVjZWl2ZXIuc2V0TXVsdGljYXN0VFRMKGEudHRsKSxlLl9yZWNlaXZlci5hZGRNZW1iZXJzaGlwKGEuYWRkcmVzcyl9Y2F0Y2godCl7fX0pLHRoaXMuX3JlY2VpdmVyLm9uKCJtZXNzYWdlIixmdW5jdGlvbih0KXt0cnl7dD1KU09OLnBhcnNlKHQudG9TdHJpbmcoInV0ZjgiKSksdC5ldmVudCYmdC5zb3VyY2UmJnQuc291cmNlSWQmJnQuc291cmNlIT09ZS5fc291cmNlKCkmJnQuc291cmNlSWQhPT1vJiZfLmVhY2goZS5fbGlzdGVuZXJzW3QuZXZlbnRdLGZ1bmN0aW9uKGUpe2UuYXBwbHkobnVsbCxbdC5kYXRhLHQuc291cmNlXSl9KX1jYXRjaChuKXt9fSksdGhpcy5fcmVjZWl2ZXIub24oImVycm9yIixmdW5jdGlvbigpe3RyeXtlLl9yZWNlaXZlci5jbG9zZSgpfWNhdGNoKHQpe319KSx0aGlzLl9yZWNlaXZlci5iaW5kKGEucG9ydCl9Y2F0Y2godCl7fX1yZXR1cm4gZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXt0aGlzLl9saXN0ZW5lcnMmJih0aGlzLl9saXN0ZW5lcnNbZV18fCh0aGlzLl9saXN0ZW5lcnNbZV09W10pLHRoaXMuX2xpc3RlbmVyc1tlXS5wdXNoKHQpKX0sZS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlLHQpe3RyeXt2YXIgbj1uZXcgQnVmZmVyKEpTT04uc3RyaW5naWZ5KHtldmVudDplLGRhdGE6dCxzb3VyY2U6dGhpcy5fc291cmNlKCksc291cmNlSWQ6b30pKTt0aGlzLl9zZW5kZXIuc2VuZChuLDAsbi5sZW5ndGgsYS5wb3J0LGEuYWRkcmVzcyl9Y2F0Y2goaSl7fX0sZS5wcm90b3R5cGUuX3NvdXJjZT1mdW5jdGlvbigpe3JldHVybiByLmhvc3RuYW1lKCkrIiAoIitlLl9nZXRJUHY0QWRkcmVzcygpKyIpIn0sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RyeXt0aGlzLl9zZW5kZXIuY2xvc2UoKX1jYXRjaChlKXt9dHJ5e3RoaXMuX3JlY2VpdmVyLmNsb3NlKCl9Y2F0Y2goZSl7fX0sZS5fZ2V0SVB2NEFkZHJlc3M9ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gXy5lYWNoKHIubmV0d29ya0ludGVyZmFjZXMoKSxmdW5jdGlvbih0KXtpZighZSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZigiSVB2NCI9PT1pLmZhbWlseSYmIjEyNy4wLjAuMSIhPT1pLmFkZHJlc3MmJiFpLmludGVybmFsKXJldHVybiB2b2lkKGU9aS5hZGRyZXNzKX19KSxlfHwiMC4wLjAuMCJ9LGV9KCk7dC5leHBvcnRzPW5ldyBsfSx7Ii4vLi4vLi4vdXRpbHMiOjE3LGRncmFtOnZvaWQgMCxvczp2b2lkIDB9XSwxMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihhcmd1bWVudHMubGVuZ3RoPjEpdGhpcy5fZmlsZUlkPWFyZ3VtZW50c1swXSx0aGlzLl9saW5lPWFyZ3VtZW50c1sxXSx0aGlzLl9jb250ZXh0PWFyZ3VtZW50c1syXTtlbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXS5zcGxpdCgiXyIpO3RoaXMuX2ZpbGVJZD1wYXJzZUludChlWzBdLDEwKSx0aGlzLl9saW5lPXBhcnNlSW50KGVbMV0sMTApfX1yZXR1cm4gZS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVJZCsiXyIrdGhpcy5fbGluZX0sZS5wcm90b3R5cGUuZmlsZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVJZH0sZS5wcm90b3R5cGUubGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lfSxlLnByb3RvdHlwZS5jb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHR9LGUucHJvdG90eXBlLnNldEZpbGU9ZnVuY3Rpb24oZSl7dGhpcy5fZmlsZT1lfSxlLnByb3RvdHlwZS5maWxlUGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlJiZ0aGlzLl9maWxlLnBhdGgoKXx8dGhpcy5fZmlsZUlkJiZ+dGhpcy5fZmlsZUlkLmluZGV4T2YoIi4iKSYmdGhpcy5fZmlsZUlkfSxlLnByb3RvdHlwZS5zZXRSYW5nZT1mdW5jdGlvbihlKXt0aGlzLl9yYW5nZT1lfSxlLnByb3RvdHlwZS5yYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZX0sZX0oKTt0LmV4cG9ydHM9aX0se31dLDEzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoIi4vY292ZXJhYmxlUmFuZ2UiKSxyPWUoIi4vZG9jdW1lbnRJbkVkaXRvciIpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2RhdGE9ZSx0aGlzLl9yYW5nZUNvbnNvbGVMb2c9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9yYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9uZXdSYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9hZmZlY3RlZFJhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX291dGRhdGVkUmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fbGluZVRvUmFuZ2VNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl90ZXN0TWFwPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzPTB9cmV0dXJuIGUucHJvdG90eXBlLnNldFJhbmdlQ29uc29sZUxvZz1mdW5jdGlvbihlLHQpe3ZhciBuPTgxOTIscj1pLnJhbmdlS2V5KHQpLHM9dGhpcy5fcmFuZ2VDb25zb2xlTG9nW3JdO3N8fChzPXRoaXMuX3JhbmdlQ29uc29sZUxvZ1tyXT1bXSk7dmFyIG89ZS5sZW5ndGg+bj8iLi4uIjoiIjtlPWUuc3Vic3RyKDAsbikscy5wdXNoKGUrbyl9LGUucHJvdG90eXBlLnJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZXN9LGUucHJvdG90eXBlLmluc3RydW1lbnRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmNvdmVyYWJsZX0sZS5wcm90b3R5cGUudXBkYXRlRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgZT1fLmV4dGVuZCh7fSx0aGlzLl9uZXdSYW5nZXMsdGhpcy5fYWZmZWN0ZWRSYW5nZXMsdGhpcy5fb3V0ZGF0ZWRSYW5nZXMpLHQ9dGhpcy5fYWxsUmFuZ2VzUmVjZWl2ZWQsbj10aGlzLl9pbnZhbGlkYXRlRG9jdW1lbnQ7aWYoZGVsZXRlIHRoaXMuX2FsbFJhbmdlc1JlY2VpdmVkLGRlbGV0ZSB0aGlzLl9pbnZhbGlkYXRlRG9jdW1lbnQsXy5lYWNoKHRoaXMuX291dGRhdGVkUmFuZ2VzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc3Bvc2UoKX0pLHRoaXMuX25ld1Jhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2FmZmVjdGVkUmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fb3V0ZGF0ZWRSYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9kb2N1bWVudEluRWRpdG9yKXt2YXIgaT1uP3RoaXMuX2RvY3VtZW50SW5FZGl0b3IudXBkYXRlKF8udmFsdWVzKHRoaXMuX3JhbmdlcyksITAsITApOnRoaXMuX2RvY3VtZW50SW5FZGl0b3IudXBkYXRlKGUsdCwhMSk7cmV0dXJuIGkuZnVsbFVwZGF0ZT1uLGl9fSxlLnByb3RvdHlwZS5hbGxMaW5lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb2N1bWVudEluRWRpdG9yP3RoaXMuX2RvY3VtZW50SW5FZGl0b3IuYWxsTGluZXMoKTp2b2lkIDB9LGUucHJvdG90eXBlLm9wZW5lZEluRWRpdG9yPWZ1bmN0aW9uKCl7dGhpcy5fZG9jdW1lbnRJbkVkaXRvcnx8KHRoaXMuX2RvY3VtZW50SW5FZGl0b3I9bmV3IHIsdGhpcy5fZG9jdW1lbnRJbkVkaXRvci51cGRhdGUoXy52YWx1ZXModGhpcy5fcmFuZ2VzKSwhMSwhMCkpfSxlLnByb3RvdHlwZS5jbG9zZWRJbkFsbEVkaXRvcnM9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fZG9jdW1lbnRJbkVkaXRvcn0sZS5wcm90b3R5cGUuaXNPcGVuZWRJbkVkaXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb2N1bWVudEluRWRpdG9yfSxlLnByb3RvdHlwZS5zaGlmdERvY3VtZW50TGluZXM9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuX2RvY3VtZW50SW5FZGl0b3ImJnRoaXMuX2RvY3VtZW50SW5FZGl0b3Iuc2hpZnRMaW5lcyhlLHQsbil9LGUucHJvdG90eXBlLmludmFsaWRhdGVEb2N1bWVudExpbmVzPWZ1bmN0aW9uKGUpe3RoaXMuX2RvY3VtZW50SW5FZGl0b3ImJnRoaXMuX2RvY3VtZW50SW5FZGl0b3IuaW52YWxpZGF0ZUxpbmVzKGUpfSxlLnByb3RvdHlwZS5pbnZhbGlkYXRlRG9jdW1lbnQ9ZnVuY3Rpb24oKXt0aGlzLl9kb2N1bWVudEluRWRpdG9yJiYodGhpcy5faW52YWxpZGF0ZURvY3VtZW50PSEwKX0sZS5wcm90b3R5cGUuaGFzVmFsaWREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pbnZhbGlkYXRlRG9jdW1lbnR9LGUucHJvdG90eXBlLmxpbmVUZXN0cz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY292ZXJpbmdUZXN0cyhlKX0sZS5wcm90b3R5cGUubGluZVJhbmdlcz1mdW5jdGlvbihlKXtpZih0aGlzLl9kb2N1bWVudEluRWRpdG9yKXt2YXIgdD10aGlzLl9kb2N1bWVudEluRWRpdG9yLmxpbmUoZSk7aWYodClyZXR1cm4gdC5yYW5nZXMoKX19LGUucHJvdG90eXBlLmNvdmVyaW5nVGVzdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY292ZXJpbmdUZXN0cygpfSxlLnByb3RvdHlwZS5saW5lQ292ZXJpbmdUZXN0c09yZGVyZWRCeUZhaWxpbmdUaGVuRGF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBfLmNoYWluKHRoaXMuX2NvdmVyaW5nVGVzdHMoZSx0KSkuc29ydEJ5KGZ1bmN0aW9uKGUpe3JldHVybiFlLmlzRmFpbGluZygpfSkuc29ydEJ5KGZ1bmN0aW9uKGUpe3JldHVybi1lLnRzKCl9KS52YWx1ZSgpfSxlLnByb3RvdHlwZS5fY292ZXJpbmdUZXN0cz1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKGUpe2lmKCF0aGlzLl9kb2N1bWVudEluRWRpdG9yKXJldHVybltdO2lmKG49dGhpcy5fZG9jdW1lbnRJbkVkaXRvci5saW5lKGUpLCFuKXJldHVybltdfXZhciBpPW4/bi5yYW5nZXMoKTp0aGlzLl9yYW5nZXM7cmV0dXJuIHQmJihpPV8uZmlsdGVyKGksdCkpLF8ucmVkdWNlKGksZnVuY3Rpb24oZSx0KXtyZXR1cm4gXy5lYWNoKHQuY292ZXJpbmdUZXN0cygpLGZ1bmN0aW9uKHQpe2VbdC5rZXkoKV09dH0pLGV9LHt9KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9kb2N1bWVudEluRWRpdG9yLF8uZWFjaCh0aGlzLl9yYW5nZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzcG9zZSgpfSksZGVsZXRlIHRoaXMuX3JhbmdlcyxkZWxldGUgdGhpcy5fdGVzdE1hcH0sZS5wcm90b3R5cGUucmFuZ2VDb25zb2xlTG9nPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9yYW5nZUNvbnNvbGVMb2dbZS5rZXkoKV19LGUucHJvdG90eXBlLmNsZWFyUmFuZ2VDb25zb2xlTG9nPWZ1bmN0aW9uKCl7dGhpcy5fcmFuZ2VDb25zb2xlTG9nPU9iamVjdC5jcmVhdGUobnVsbCl9LGUucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmlkfSxlLnByb3RvdHlwZS5wYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEucGF0aH0sZS5wcm90b3R5cGUuYWRkVGVzdD1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QuY3JlYXRlKG51bGwpLG49dGhpcy5fdGVzdE1hcFtlLmtleSgpXTtyZXR1cm4gbiYmXy5lYWNoKG4ub2Jzb2xldGUoKSxmdW5jdGlvbihlKXt0W2Uua2V5KCldPWV9KSx0aGlzLl90ZXN0TWFwW2Uua2V5KCldPWUsZS5zZXRUZXN0RmlsZSh0aGlzKSx0fSxlLnByb3RvdHlwZS5yYW5nZUNvdmVyYWdlQ2hhbmdlZD1mdW5jdGlvbihlLHQpe3RoaXMuX2FmZmVjdGVkUmFuZ2VzW2Uua2V5KCldPWU7dmFyIG49ZS5pc0NvdmVyZWQoKTt0IT09biYmKHRoaXMuX251bWJlck9mQ292ZXJlZFJhbmdlcys9bj8xOi0xKX0sZS5wcm90b3R5cGUuaXNUZXN0RmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLnRlc3R9LGUucHJvdG90eXBlLmNvdmVyYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzUmVwb3J0YWJsZUNvdmVyYWdlKCk/TWF0aC5yb3VuZCgxZTQqdGhpcy5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzL18uc2l6ZSh0aGlzLl9yYW5nZXMpKS8xMDA6dm9pZCAwfSxlLnByb3RvdHlwZS5oYXNSZXBvcnRhYmxlQ292ZXJhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc1Rlc3RGaWxlKCkmJnRoaXMuaW5zdHJ1bWVudGVkKCkmJiF0aGlzLl9ub0NvdmVyYWdlQ2FsY3VsYXRpb259LGUucHJvdG90eXBlLm51bWJlck9mQ292ZXJlZFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9udW1iZXJPZkNvdmVyZWRSYW5nZXN9LGUucHJvdG90eXBlLm51bWJlck9mQWxsUmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF8uc2l6ZSh0aGlzLl9yYW5nZXMpfSxlLnByb3RvdHlwZS5zZXRSYW5nZXM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXM7dGhpcy5fYWxsUmFuZ2VzUmVjZWl2ZWQ9dCx0JiZ0aGlzLl9yZWJ1aWxkUmFuZ2VNYXAoKTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO18uZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciBzPWUua2V5KCksbz1pLl9yYW5nZXNbc107aWYobyl7dmFyIGE9by5pc0NvdmVyZWQoKSxsPWUuaXNDb3ZlcmVkKCk7dHx8YT09PWx8fChpLl9udW1iZXJPZkNvdmVyZWRSYW5nZXMrPWw/MTotMSksby51cGRhdGVGcm9tKGUsdCxuKSxyW3NdPW8saS5fYWZmZWN0ZWRSYW5nZXNbc109b31lbHNlIGkuX3Jhbmdlc1tzXT1lLGkuX25ld1Jhbmdlc1tzXT1lLGUuYXR0YWNoZWRUb1NvdXJjZUZpbGUoKSxlLmlzQ292ZXJlZCgpJiYhdCYmaS5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKyt9KSx0JiYoaS5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzPTAsdGhpcy5fbGluZVRvUmFuZ2VNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSxfLmVhY2goXy52YWx1ZXModGhpcy5fcmFuZ2VzKSxmdW5jdGlvbihlKXt2YXIgdD1lLmtleSgpO2lmKGkuX25ld1Jhbmdlc1t0XXx8clt0XSl7ZS5pc0NvdmVyZWQoKSYmaS5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKys7Zm9yKHZhciBuPWUuc3RhcnRMaW5lKCk7bjw9ZS5lbmRMaW5lKCk7bisrKXt2YXIgcz1pLl9saW5lVG9SYW5nZU1hcFtuXTsoIXN8fGUuaXNJbnNpZGVPZihzKSkmJihpLl9saW5lVG9SYW5nZU1hcFtuXT1lKX19ZWxzZSBpLl9vdXRkYXRlZFJhbmdlc1t0XT1lLGRlbGV0ZSBpLl9yYW5nZXNbdF19KSl9LGUucHJvdG90eXBlLm93blRlc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIF8udmFsdWVzKHRoaXMuX3Rlc3RNYXApfSxlLnByb3RvdHlwZS5yZW1vdmVBbGxUZXN0cz1mdW5jdGlvbigpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIF8uZWFjaCh0aGlzLm93blRlc3RzKCksZnVuY3Rpb24odCl7Xy5lYWNoKHQub2Jzb2xldGUoKSxmdW5jdGlvbih0KXtlW3Qua2V5KCldPXR9KX0pLHRoaXMuX3Rlc3RNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSxlfSxlLnByb3RvdHlwZS5jbG9zZXN0UmFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2xpbmVUb1JhbmdlTWFwW2VdfSxlLnByb3RvdHlwZS5fcmVidWlsZFJhbmdlTWFwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX3Jhbmdlczt0aGlzLl9yYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSxfLmVhY2godCxmdW5jdGlvbih0KXt2YXIgbj10LmtleSgpLGk9ZS5fcmFuZ2VzW25dO2UuX3Jhbmdlc1tuXT10LGkmJmkuZGlzcG9zZSgpfSl9LGV9KCk7dC5leHBvcnRzPXN9LHsiLi9jb3ZlcmFibGVSYW5nZSI6NCwiLi9kb2N1bWVudEluRWRpdG9yIjo1fV0sMTQ6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2xpbmVTdGF0ZTp7bm90Q292ZXJlZDoxLGZ1bGx5Q292ZXJlZDoyLHBhcnRpYWxseUNvdmVyZWQ6MyxlcnJvclNvdXJjZTo0LGVycm9yUGF0aDo1fX19LHt9XSwxNTpbZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnJlcGxhY2UoL15ccyt8XHMrJC9nbSwiIil9O3QuZXhwb3J0cz17bm9ybWFsaXplUGF0aDpmdW5jdGlvbihlKXtyZXR1cm4id2luMzIiPT09cHJvY2Vzcy5wbGF0Zm9ybSYmZT9lLnJlcGxhY2UoL1xcL2csIi8iKTplfSxwYXJzZUtleTpmdW5jdGlvbihlKXt2YXIgdD17fTtpZihlKXt2YXIgbj1lLnNwbGl0KCI6Iik7Mj09PW4ubGVuZ3RoJiYoZT1pKG5bMV0pKX12YXIgcj1uZXcgQnVmZmVyKGUsImJhc2U2NCIpLnRvU3RyaW5nKCkuc3BsaXQoIlxuIik7dC5saWNlbnNlZU5hbWU9clswXSx0LmxpY2Vuc2VUYWdzPXJbMV07dmFyIHM9dC5saWNlbnNlVGFncy5zcGxpdCgiLCIpO3JldHVybiBzLmxlbmd0aD49MSYmKHQubGljZW5zZWVFbWFpbD1zWzBdKSxzLmxlbmd0aD49MiYmKHQubGljZW5zZWRQcm9kdWN0PXNbMV0pLHQuZXhwaXJhdGlvbkRhdGVTdHJpbmc9clsyXSx0LmxpY2Vuc2VTaWduYXR1cmU9clszXSx0fSxmb3JtYXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZXBsYWNlKC9ceyhbMC05YS16QS1aX10rKVx9L2csZnVuY3Rpb24obixpLHIpe3ZhciBzO3JldHVybiJ7Ij09PWVbci0xXSYmIn0iPT09ZVtyK24ubGVuZ3RoXT9pOihzPXQuaGFzT3duUHJvcGVydHkoaSk/dFtpXTpudWxsLG51bGw9PT1zfHx2b2lkIDA9PT1zPyIiOnMpfSl9LHZhbGlkUGFja2FnZU5hbWU6ZnVuY3Rpb24oZSl7aWYoZSYmIWUubWF0Y2goL15cLi8pJiYhZS5tYXRjaCgvXl8vKSYmIShlLmxlbmd0aD4yMTR8fGUudG9Mb3dlckNhc2UoKSE9PWV8fC9bfichKCkqXS8udGVzdChlLnNwbGl0KCIvIikuc2xpY2UoLTEpWzBdKSkpe2lmKGVuY29kZVVSSUNvbXBvbmVudChlKT09PWUpcmV0dXJuIGU7dmFyIHQ9ZS5tYXRjaCgvXig/OkAoW15cL10rPylbXC9dKT8oW15cL10rPykkLyk7aWYodCl7dmFyIG49dFsxXSxpPXRbMl07aWYoZW5jb2RlVVJJQ29tcG9uZW50KG4pPT09biYmZW5jb2RlVVJJQ29tcG9uZW50KGkpPT09aSlyZXR1cm4gZX19fX19LHt9XSwxNjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfTtyZXR1cm4gZnVuY3Rpb24odCxuKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWUodCxuKSx0LnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihpLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgaSl9fSgpLHM9ZSgibmV0Iiksbz1lKCJodHRwIiksYT1lKCJ1cmwiKSxsPWUoIndzIikuU2VydmVyLGM9ZSgiLi4vc2VydmVyL2RvY3VtZW50SW5FZGl0b3IiKSx1PVs1MTIzNSw1MTIzNiw1MTIzNyw1MTIzOCw1MTIzOSw1MTI0MCw1MTI0MSw1MTI0Miw1MTI0Myw1MTI0NCw1Mjc0Miw1Mjc0Myw1Mjc0NCw1Mjc0NSw1Mjc0Niw1Mjc0Nyw1Mjc0OCw1Mjc0OSw1Mjc1MCw1Mjc1MSw1MzU3OCw1MzU3OSw1MzU4MCw1MzU4MSw1MzU4Miw1MzU4Myw1MzU4NCw1MzU4NSw1MzU4Niw1MzU4N10sZD01MTI0NSxoPSc8IURPQ1RZUEUgaHRtbD5cbjxodG1sIGxhbmc9ImVuIj5cbjxoZWFkPlxuICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij5cbiAgICA8bGluayBpZD0iZmF2aWNvbiIgcmVsPSJpY29uIiBocmVmPSJodHRwczovL3dhbGxhYnlqcy5jb20vYXBwL2Zhdmljb24uaWNvIiB0eXBlPSJpbWFnZS94LWljb24iLz5cbiAgICA8bGluayBpZD0ic2hvcnRjdXQiIHJlbD0ic2hvcnRjdXQgaWNvbiIgaHJlZj0iaHR0cHM6Ly93YWxsYWJ5anMuY29tL2FwcC9mYXZpY29uLmljbyIgdHlwZT0iaW1hZ2UveC1pY29uIi8+XG4gICAgPHN0eWxlPlxuICAgICAgICBodG1sLFxuICAgICAgICBib2R5IHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB9XG4gICAgPC9zdHlsZT5cbjwvaGVhZD5cbjxib2R5IHN0eWxlPSJtYXJnaW46MHB4O3BhZGRpbmc6MHB4O292ZXJmbG93OmhpZGRlbjsiPlxuPHNjcmlwdD5cbiAgdHJ5IHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcJ21lc3NhZ2VcJywgZnVuY3Rpb24gKG0pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChtLmRhdGEudGl0bGUpIHtcbiAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IG0uZGF0YS50aXRsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobS5kYXRhLnN0YXR1cykge1xuICAgICAgICAgIGlmIChtLmRhdGEuc3RhdHVzLnBhc3NpbmcpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwnZmF2aWNvblwnKS5zZXRBdHRyaWJ1dGUoXCdocmVmXCcsIFwnaHR0cHM6Ly93YWxsYWJ5anMuY29tL2FwcC9mYXZpY29uLmljb1wnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwnc2hvcnRjdXRcJykuc2V0QXR0cmlidXRlKFwnaHJlZlwnLCBcJ2h0dHBzOi8vd2FsbGFieWpzLmNvbS9hcHAvZmF2aWNvbi5pY29cJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwnZmF2aWNvblwnKS5zZXRBdHRyaWJ1dGUoXCdocmVmXCcsIFwnaHR0cHM6Ly93YWxsYWJ5anMuY29tL2FwcC9mYXZpY29uLWFsdC5pY29cJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcJ3Nob3J0Y3V0XCcpLnNldEF0dHJpYnV0ZShcJ2hyZWZcJywgXCdodHRwczovL3dhbGxhYnlqcy5jb20vYXBwL2Zhdmljb24tYWx0Lmljb1wnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICB9XG48L3NjcmlwdD5cbjxpZnJhbWUgc3JjPSJodHRwczovL3dhbGxhYnlqcy5jb20vYXBwIiBmcmFtZWJvcmRlcj0iMCIgc3R5bGU9Im92ZXJmbG93OmhpZGRlbjtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlIiBoZWlnaHQ9IjEwMCUiIHdpZHRoPSIxMDAlIj48L2lmcmFtZT5cbjwvYm9keT5cbjwvaHRtbD5cbicscD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKG4pe3ZhciByPXQuY2FsbCh0aGlzKXx8dGhpcyxzPXI7cmV0dXJuIHIuX2ZpbmRGcmVlUG9ydCgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHMuX3N0YXJ0KGUsbil9KVsiY2F0Y2giXShmdW5jdGlvbihlKXtyZXR1cm4gY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIHN0YXJ0IHdhbGxhYnkgYXBwIHNlcnZpY2U6ICIrKGUmJmUubWVzc2FnZSkpfSksaT1lKCJkZWJ1ZyIpKCJ3YWxsYWJ5OnVpU2VydmljZSIpLHMuX2Nvbm5lY3Rpb25zPVtdLHMuX29wZW5lZEZpbGVzPXt9LHJ9cmV0dXJuIHIobix0KSxuLnByb3RvdHlwZVsidWk6c3RhcnQiXT1mdW5jdGlvbihlLHQpe3RoaXMuX3NlbmQoXy5leHRlbmQoe3R5cGU6InVpOnN1bW1hcnkifSx0aGlzLl9tb2RlbC5zdW1tYXJ5KCkpLHQpO3ZhciBuPXRoaXMuX21vZGVsLmFsbEZpbGVzKCk7Xy5pc0VtcHR5KG4pfHx0aGlzLl9zZW5kQWxsRmlsZXNXaXRoQ292ZXJhZ2Uobix0KX0sbi5wcm90b3R5cGVbInVpOm5hdmlnYXRlIl09ZnVuY3Rpb24oZSl7ZS5saW5lPXBhcnNlSW50KGUubGluZSwxMCksZS5jb2x1bW49cGFyc2VJbnQoZS5jb2x1bW4sMTApLF8uaXNOYU4oZS5saW5lKSYmKGUubGluZT0xKSxfLmlzTmFOKGUuY29sdW1uKSYmZGVsZXRlIGUuY29sdW1uLHRoaXMuZW1pdCgibWVzc2FnZSIsXy5leHRlbmQoZSx7dHlwZToibmF2aWdhdGlvblJlcXVlc3RlZCJ9KSl9LG4ucHJvdG90eXBlWyJ1aTpydW5UZXN0cyJdPWZ1bmN0aW9uKGUpe3RoaXMuX21vZGVsLl9wcm9qZWN0LnJ1blRlc3RzKHt0ZXN0czplLnRlc3RzfSl9LG4ucHJvdG90eXBlWyJ1aTpvcGVuZWRJbkVkaXRvciJdPWZ1bmN0aW9uKGUpe3RoaXMuX29wZW5lZEZpbGVzW2UucGF0aF0/dGhpcy5fb3BlbmVkRmlsZXNbZS5wYXRoXSsrOnRoaXMuX29wZW5lZEZpbGVzW2UucGF0aF09MX0sbi5wcm90b3R5cGVbInVpOmNsb3NlZEluRWRpdG9yIl09ZnVuY3Rpb24oZSl7dGhpcy5fb3BlbmVkRmlsZXNbZS5wYXRoXSYmdGhpcy5fb3BlbmVkRmlsZXNbZS5wYXRoXS0tfSxuLnByb3RvdHlwZVsidWk6Y29kZVJlcXVlc3RlZCJdPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxpPXRoaXMuX21vZGVsLmZpbGVDb250ZW50QnlQYXRoKGUucGF0aCk7aSYmaS50aGVuKGZ1bmN0aW9uKGkpe3ZhciByLHM9bmV3IGMsbz1uLl9tb2RlbC5maWxlQnlQYXRoKGUucGF0aCksYT1bXSxsPVtdO28mJm8uaW5zdHJ1bWVudGVkKCkmJihzLnVwZGF0ZShfLnZhbHVlcyhvLnJhbmdlcygpKSwhMSwhMCksbD1zLmFsbExpbmVzKCkubGluZXN8fFtdLGE9bi5fbW9kZWwudW5jb3ZlcmVkUmVnaW9uc0J5UmVxdWVzdCh7ZmlsZTplLnBhdGh9KXx8W10scj1uLl9yZXBvcnRGaWxlQ292ZXJhZ2UobykpLG4uX3NlbmQoe3R5cGU6InVpOmNvZGUiLGNvcnJlbGF0aW9uSWQ6ZS5jb3JyZWxhdGlvbklkLGNvZGU6aS50b1N0cmluZygpLGxpbmVzOmwsdW5jb3ZlcmVkUmVnaW9uczphLGNvdmVyYWdlOnJ9LHQpfSl9LG4ucHJvdG90eXBlWyJ1aTp0ZXN0czpyZXN1bHRzUmVxdWVzdGVkIl09ZnVuY3Rpb24oZSx0KXt0Ll9hbGxvd2VkVG9TZW5kVGVzdFJlc3VsdHM9ITAsdGhpcy5fc2VuZFRlc3RSZXN1bHRzKHZvaWQgMCx0KX0sbi5wcm90b3R5cGVbInVpOnRlc3RzOnJlc3VsdHNBYmFuZG9uZWQiXT1mdW5jdGlvbihlLHQpe3QuX2FsbG93ZWRUb1NlbmRUZXN0UmVzdWx0cz0hMX0sbi5wcm90b3R5cGVbIm1vZGVsOnRlc3RGaWxlRGVsZXRlZCJdPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Xy5lYWNoKHRoaXMuX2Nvbm5lY3Rpb25zLGZ1bmN0aW9uKG4pe24uX2FsbG93ZWRUb1NlbmRUZXN0UmVzdWx0cyYmdC5fc2VuZCh7dHlwZToidWk6dGVzdHM6c29tZVJlc3VsdHNVcGRhdGVkIixmaWxlczpbe3BhdGg6ZS5maWxlLnBhdGgsYWN0aW9uOiJkZWxldGVkIn1dfSxuKX0pfSxuLnByb3RvdHlwZVsibW9kZWw6YWxsRmlsZXMiXT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO18uZWFjaCh0aGlzLl9jb25uZWN0aW9ucyxmdW5jdGlvbihuKXtuLl9hbGxvd2VkVG9TZW5kQWxsRmlsZXMmJnQuX3NlbmRBbGxGaWxlc1dpdGhDb3ZlcmFnZShfLm1hcChlLmZpbGVzLGZ1bmN0aW9uKGUpe3JldHVybntwYXRoOmUucGF0aCxpZDplLmlkfX0pLG4pfSl9LG4ucHJvdG90eXBlWyJtb2RlbDpmaWxlQWRkZWQiXT1mdW5jdGlvbihlKXt0aGlzLl9zZW5kKHt0eXBlOiJ1aTpmaWxlcyIsZmlsZXM6W3thY3Rpb246ImFkZGVkIixwYXRoOmUuZmlsZS5wYXRoLGlkOmUuZmlsZS5pZCx0ZXN0OmUuZmlsZS50ZXN0fHx2b2lkIDB9XX0pfSxuLnByb3RvdHlwZVsibW9kZWw6ZmlsZUNoYW5nZWQiXT1mdW5jdGlvbihlKXt0aGlzLl9zZW5kKHt0eXBlOiJ1aTpmaWxlcyIsZmlsZXM6W3thY3Rpb246ImNoYW5nZWQiLHBhdGg6ZS5maWxlLnBhdGgsaWQ6ZS5maWxlLmlkfV19KX0sbi5wcm90b3R5cGVbIm1vZGVsOmZpbGVEZWxldGVkIl09ZnVuY3Rpb24oZSl7dGhpcy5fc2VuZCh7dHlwZToidWk6ZmlsZXMiLGZpbGVzOlt7YWN0aW9uOiJkZWxldGVkIixwYXRoOmUuZmlsZS5wYXRoLGlkOmUuZmlsZS5pZH1dfSl9LG4ucHJvdG90eXBlWyJtb2RlbDp0ZXN0c0V4ZWN1dGVkIl09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLl9zZW5kKF8uZXh0ZW5kKHt0eXBlOiJ1aTpzdW1tYXJ5In0sdGhpcy5fbW9kZWwuc3VtbWFyeSgpKSksXy5lYWNoKHRoaXMuX2Nvbm5lY3Rpb25zLGZ1bmN0aW9uKG4pe24uX2FsbG93ZWRUb1NlbmRUZXN0UmVzdWx0cyYmdC5fc2VuZFRlc3RSZXN1bHRzKGUsbil9KSwhXy5pc0VtcHR5KGUuYWxsQWZmZWN0ZWRGaWxlcykpe3ZhciBuPVtdLGk9Xy5yZWR1Y2UoZS5hbGxBZmZlY3RlZEZpbGVzLGZ1bmN0aW9uKGUsaSl7dmFyIHI9dC5fcmVwb3J0RmlsZUNvdmVyYWdlKGkpO3JldHVybiByJiZyLnZhbHVlQ2hhbmdlZCYmKGRlbGV0ZSByLnZhbHVlQ2hhbmdlZCxlW2kua2V5KCldPXIpLHQuX29wZW5lZEZpbGVzW2kucGF0aCgpXSYmbi5wdXNoKHthY3Rpb246ImFmZmVjdGVkIixwYXRoOmkucGF0aCgpLGlkOmkua2V5KCksdGVzdDppLmlzVGVzdEZpbGUoKXx8dm9pZCAwfSksZX0se30pO18uaXNFbXB0eShpKXx8dGhpcy5fc2VuZCh7dHlwZToidWk6Y292ZXJhZ2VDaGFuZ2VkIixjaGFuZ2VzOml9KSxfLmlzRW1wdHkobil8fHRoaXMuX3NlbmQoe3R5cGU6InVpOmZpbGVzIixmaWxlczpufSl9fSxuLnByb3RvdHlwZS5fcmVwb3J0RmlsZUNvdmVyYWdlPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0LG49ZS5jb3ZlcmFnZSgpO3JldHVybiBuPj0wJiYodD17dmFsdWU6bixsb3c6bjx0aGlzLl9tb2RlbC5sb3dDb3ZlcmFnZVRocmVzaG9sZCgpLHJhbmdlczp7Y292ZXJlZDplLm51bWJlck9mQ292ZXJlZFJhbmdlcygpLGFsbDplLm51bWJlck9mQWxsUmFuZ2VzKCl9LHZhbHVlQ2hhbmdlZDplLl9sYXRlc3RSZXBvcnRlZENvdmVyYWdlVmFsdWUhPT1ufHx2b2lkIDB9LGUuX2xhdGVzdFJlcG9ydGVkQ292ZXJhZ2VWYWx1ZT1uKSx0fX0sbi5wcm90b3R5cGUuX3NlbmRBbGxGaWxlc1dpdGhDb3ZlcmFnZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dC5fYWxsb3dlZFRvU2VuZEFsbEZpbGVzPSExLHRoaXMuX3NlbmQoe3R5cGU6InVpOmZpbGVzIixmaWxlczplLm1hcChmdW5jdGlvbihlKXt2YXIgdD1uLl9tb2RlbC5maWxlQnlJZChlLmlkKTtyZXR1cm57YWN0aW9uOiJhZGRlZCIscGF0aDplLnBhdGgsaWQ6ZS5pZCx0ZXN0OnQmJnQuaXNUZXN0RmlsZSgpfHx2b2lkIDAsY292ZXJhZ2U6bi5fcmVwb3J0RmlsZUNvdmVyYWdlKHQpfX0pfSx0KX0sbi5wcm90b3R5cGUuX3NlbmRUZXN0UmVzdWx0cz1mdW5jdGlvbihlLHQpe3ZhciBuLGkscixzPSJzb21lUmVzdWx0c1VwZGF0ZWQiO2U/KGUuZnVsbFJ1biYmKHM9ImFsbFJlc3VsdHNVcGRhdGVkIiksbj1lLmNoYW5nZWQsaT1lLmV4ZWN1dGVkLHI9ZS5maXJzdEZhaWxpbmdPclNpbmdsZUV4ZWN1dGVkVGVzdCk6KHM9ImFsbFJlc3VsdHNVcGRhdGVkIixuPXRoaXMuX21vZGVsLmFsbFRlc3RGaWxlcygpKSx0aGlzLl9zZW5kKHt0eXBlOiJ1aTp0ZXN0czoiK3MsZmlsZXM6dGhpcy5fY3JlYXRlVGVzdFJlc3VsdHMobixyLCJjaGFuZ2VkIikuY29uY2F0KHRoaXMuX2NyZWF0ZVRlc3RSZXN1bHRzKGksciwiZXhlY3V0ZWQiKSl9LHQpfSxuLnByb3RvdHlwZS5fY3JlYXRlVGVzdFJlc3VsdHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMscj1fLnJlZHVjZSh0aGlzLl9tb2RlbC5nbG9iYWxFcnJvcnMoKSxmdW5jdGlvbihlLHQpe3ZhciBuO2lmKF8uZWFjaCh0LnN0YWNrKCksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maWxlSWQoKTtpZih0KXt2YXIgcj1pLl9tb2RlbC5maWxlQnlJZCh0KTtpZihyLmlzVGVzdEZpbGUoKSlyZXR1cm4gbj1yLCExfX0pLG4pe3ZhciByPWVbbi5rZXkoKV09ZVtuLmtleSgpXXx8W107ci5wdXNoKHttZXNzYWdlOnQubWVzc2FnZSgpLHN0YWNrOl8ubWFwKHQuc3RhY2soKSxmdW5jdGlvbihlKXtyZXR1cm4gaS5fYnVpbGRMb2NhdGlvbihlLGUuZmlsZVBhdGgoKSl9KX0pfXJldHVybiBlfSx7fSl8fHt9O3JldHVybiBfLm1hcChlLGZ1bmN0aW9uKGUpe3ZhciBzPXt9O3JldHVybiBfLmVhY2goZS5vd25UZXN0cygpLGZ1bmN0aW9uKGUpe3ZhciBuPWUucGF0aCgpLHI9IjoiK18ubGFzdChuKSxvPXM7bi5sZW5ndGg+MSYmXy5lYWNoKF8udGFrZShuLG4ubGVuZ3RoLTEpLGZ1bmN0aW9uKGUpe2U9IjoiK2U7dmFyIHQ9b1tlXTt0fHwodD17fSxvW2VdPXQpLG89dH0pO3ZhciBhPV8ubWFwKGUuY292ZXJlZEZpbGVzKCksZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5KCl9KTtfLmlzRW1wdHkoYSkmJihhPXZvaWQgMCksb1tyXT17aXNUZXN0OiEwLGZpcnN0RmFpbGluZ09yU2luZ2xlRXhlY3V0ZWQ6ZT09PXR8fHZvaWQgMCxuYW1lOnIuc3Vic3RyKDEpLHRpbWU6ZS50aW1lKCksc2xvdzplLnNsb3coKSxsaW5lOmUuc3RhcnRSYW5nZSgpP2Uuc3RhcnRSYW5nZSgpLnN0YXJ0TGluZSgpOjEsbG9nczpfLm1hcChlLmNvbnNvbGVNZXNzYWdlcygpLGZ1bmN0aW9uKGUpe3ZhciB0PXttZXNzYWdlOmUudGV4dCgpfTtyZXR1cm4gZS5maWxlKCkmJih0LmxvY2F0aW9uPWkuX2J1aWxkTG9jYXRpb24oZSxlLmZpbGUoKS5wYXRoKCkpKSx0fSksZXJyb3JzOl8ubWFwKGUuZXJyb3JzKCksZnVuY3Rpb24oZSl7cmV0dXJue21lc3NhZ2U6ZS5tZXNzYWdlKCksc3RhY2s6Xy5tYXAoZS5zdGFjaygpLGZ1bmN0aW9uKGUpe3JldHVybiBpLl9idWlsZExvY2F0aW9uKGUsZS5maWxlUGF0aCgpKX0pLGFjdHVhbDplLmFjdHVhbCgpLGV4cGVjdGVkOmUuZXhwZWN0ZWQoKX19KSxjb3ZlcmVkRmlsZXM6YX19KSx7cGF0aDplLnBhdGgoKSxhY3Rpb246bix0ZXN0czppLl9idWlsZEFycmF5VGVzdFN0cnVjdHVyZShzKSxlcnJvcnM6cltlLmtleSgpXX19KX0sbi5wcm90b3R5cGUuX2J1aWxkTG9jYXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgbj17cGF0aDp0fTtyZXR1cm4gZS5yYW5nZSgpPyhuLmxpbmU9ZS5yYW5nZSgpLnN0YXJ0TGluZSgpLG4uY29sdW1uPWUucmFuZ2UoKS5zdGFydENvbHVtbigpKTplLmxpbmUoKSYmKG4ubGluZT1lLmxpbmUoKSksbi5jb250ZXh0PWUuY29udGV4dCgpLG59LG4ucHJvdG90eXBlLl9idWlsZEFycmF5VGVzdFN0cnVjdHVyZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBfLm1hcChlLGZ1bmN0aW9uKGUsbil7cmV0dXJuIGUuaXNUZXN0PT09ITA/KGRlbGV0ZSBlLmlzVGVzdCxlKTp7bmFtZTpuLnN1YnN0cigxKSx0ZXN0czp0Ll9idWlsZEFycmF5VGVzdFN0cnVjdHVyZShlKX19KX0sbi5wcm90b3R5cGUuX3N0YXJ0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPWZ1bmN0aW9uKGUpe3JldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCl7dmFyIHQ9blsibW9kZWw6IitlLnR5cGVdO3QmJnQuY2FsbChuLGUpfSl9LHM9ZnVuY3Rpb24oKXtuLl93c3M9bmV3IGwoe3BvcnQ6ZSx2ZXJpZnlDbGllbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ITE7dHJ5e3ZhciBuPWEucGFyc2UoZS5vcmlnaW4pO3Q9IndhbGxhYnlqcy5jb20iPT09bi5ob3N0bmFtZX1jYXRjaChpKXt9cmV0dXJuIHR9fSksbi5fd3NzLm9uKCJjb25uZWN0aW9uIixmdW5jdGlvbihlKXtpKCJVSSBjbGllbnQgY29ubmVjdGVkIiksbi5fbW9kZWw9dCxlLl9hbGxvd2VkVG9TZW5kVGVzdFJlc3VsdHM9ITEsZS5fYWxsb3dlZFRvU2VuZEFsbEZpbGVzPSEwLCFuLl9jb25uZWN0aW9ucy5sZW5ndGgmJm4uX21vZGVsLm9uKCJtZXNzYWdlIixyKSxuLl9jb25uZWN0aW9ucy5wdXNoKGUpLGUub24oIm1lc3NhZ2UiLGZ1bmN0aW9uKHQpe3ZhciByO3RyeXtyPUpTT04ucGFyc2UodCl9Y2F0Y2gocyl7cmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIGRlc2VyaWFsaXplIG1lc3NhZ2UgZnJvbSB3YWxsYWJ5IFVJOiAiK3QrIiwgIisocyYmcy5tZXNzYWdlKSl9aSgiSW5jb21pbmcgbWVzc2FnZSAlcyIsci50eXBlKTt2YXIgbz1uW3IudHlwZV07byYmby5jYWxsKG4scixlKX0pLGUub24oImNsb3NlIixmdW5jdGlvbigpe2koIlVJIGNsaWVudCBkaXNjb25uZWN0ZWQiKSxuLl9jb25uZWN0aW9ucz1uLl9jb25uZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQhPWV9KSwhbi5fY29ubmVjdGlvbnMubGVuZ3RoJiZuLl9tb2RlbC5yZW1vdmVMaXN0ZW5lcigibWVzc2FnZSIscil9KSxuLl9zZW5kKHt0eXBlOiJ1aTpoYW5kc2hha2UiLHByb2plY3Q6e25hbWU6bi5fbW9kZWwucHJvamVjdE5hbWUoKSxwYXRoOm4uX21vZGVsLmNvbmZpZ0ZpbGVQYXRoKCksY29uZmlnOm4uX21vZGVsLnByb2plY3RDb25maWcoKX0sdmVyc2lvbjpuLl9tb2RlbC5jb3JlVmVyc2lvbigpfSxlKX0pLGkoIkxpc3RlbmluZyBwb3J0ICVzIixlKX07bi5fY2hlY2tQb3J0KGQpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZSl0cnl7bi5faHR0cFNlcnZlcj1vLmNyZWF0ZVNlcnZlcihmdW5jdGlvbihlLHQpe3Qud3JpdGVIZWFkKDIwMCx7IkNvbnRlbnQtVHlwZSI6InRleHQvaHRtbCJ9KSx0LndyaXRlKGgpLHQuZW5kKCl9KS5vbmNlKCJsaXN0ZW5pbmciLGZ1bmN0aW9uKCl7cmV0dXJuIHMoKX0pLmxpc3RlbihlKX1jYXRjaCh0KXtzKCl9ZWxzZSBzKCl9KX0sbi5wcm90b3R5cGUuX3NlbmQ9ZnVuY3Rpb24oZSx0KXt0JiYoInVpOnRlc3RzOmFsbFJlc3VsdHNVcGRhdGVkIj09PWUudHlwZT8odC5fc29tZVJlc3VsdHNSZXNwb25zZVNlcU51bT0wLGUuc2VxPXQuX3NvbWVSZXN1bHRzUmVzcG9uc2VTZXFOdW0rKyk6InVpOnRlc3RzOnNvbWVSZXN1bHRzVXBkYXRlZCI9PT1lLnR5cGUmJihlLnNlcT10Ll9zb21lUmVzdWx0c1Jlc3BvbnNlU2VxTnVtKyspKSxpKCJPdXRnb2luZyBtZXNzYWdlICVzIixlLnR5cGUpO3ZhciBuPUpTT04uc3RyaW5naWZ5KGUpO3Q/dC5zZW5kKG4pOl8uZWFjaCh0aGlzLl9jb25uZWN0aW9ucyxmdW5jdGlvbihlKXtyZXR1cm4gZS5zZW5kKG4pfSl9LG4ucHJvdG90eXBlLl9maW5kRnJlZVBvcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBRLmFsbChfLm1hcCh1LGZ1bmN0aW9uKHQpe3JldHVybiBlLl9jaGVja1BvcnQodCl9KSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gXy5maW5kKGUsZnVuY3Rpb24oZSl7cmV0dXJuISFlfSl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlfHxRLnJlamVjdChuZXcgRXJyb3IoIkNhbiBub3QgZmluZCBhIGZyZWUgcG9ydCIpKX0pfSxuLnByb3RvdHlwZS5fY2hlY2tQb3J0PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgaT1zLmNyZWF0ZVNlcnZlcigpLm9uY2UoImVycm9yIixmdW5jdGlvbih0KXtyZXR1cm4gbih0JiYiRUFERFJOT1RBVkFJTCI9PT10LmNvZGU/ZTowKX0pLm9uY2UoImxpc3RlbmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gaS5vbmNlKCJjbG9zZSIsZnVuY3Rpb24oKXtyZXR1cm4gbihlKX0pLmNsb3NlKCl9KS5saXN0ZW4oZSx0KX19O3JldHVybiBRLnByb21pc2UodCgiMC4wLjAuMCIpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlP1EucHJvbWlzZSh0KCIxMjcuMC4wLjEiKSk6MH0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGU/US5wcm9taXNlKHQoIjo6MSIpKTowfSl9LG4ucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3dzcyYmZS5fd3NzLmNsb3NlKCksZS5faHR0cFNlcnZlciYmZS5faHR0cFNlcnZlci5jbG9zZSgpfSxufShFdmVudEVtaXR0ZXIpO3QuZXhwb3J0cz1wfSx7Ii4uL3NlcnZlci9kb2N1bWVudEluRWRpdG9yIjo1LGRlYnVnOnZvaWQgMCxodHRwOnZvaWQgMCxuZXQ6dm9pZCAwLHVybDp2b2lkIDAsd3M6dm9pZCAwfV0sMTc6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgaT1lKCJwYXRoIikscj0vXlxzKihcL1wqXCo/KC58XHI/XG4pKj9cKlwvKS8scz0vXlxzKi8sbz0vW1x1MDAxYlx1MDA5Yl1bWygpIzs/XSooPzpbMC05XXsxLDR9KD86O1swLTldezAsNH0pKik/WzAtOUEtUFJaY2YtbnFyeT0+PF0vZzt0LmV4cG9ydHM9e3JhbmRvbUlkOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLDUpfSxub29wVHJ1ZTpmdW5jdGlvbigpe3JldHVybiEwfSxub29wVHJ1ZVByb21pc2U6ZnVuY3Rpb24oKXtyZXR1cm4gUS5mY2FsbCh0aGlzLm5vb3BUcnVlKX0saXNQYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5sZW5ndGg+MiYmIkAiPT09ZVswXSYmIkAiPT09ZVsxXX0sZG9jQmxvY2tDb21tZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUubWF0Y2gocik7cmV0dXJuIHQ/dFswXS5yZXBsYWNlKHMsIiIpfHwiIjoiIn0sdGV4dEluZGV4UG9zaXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnRleHRMaW5lcyhlLHQpO3JldHVybntsaW5lOm4ubGVuZ3RoLGNvbHVtbjpuW24ubGVuZ3RoLTFdLmxlbmd0aH19LHRleHRMaW5lczpmdW5jdGlvbihlLHQpe3JldHVybiBlPV8uaXNVbmRlZmluZWQodCk/ZTplLnN1YnN0cigwLHQpLGUuc3BsaXQoL1xyXG58XHJ8XG4vKX0sdmVyaWZ5TG9jYWxPcmlnaW46ZnVuY3Rpb24odCxuKXtpZighdClyZXR1cm4hMDt2YXIgaT0hMTt0cnl7dmFyIHI9ZSgidXJsIikucGFyc2UodCkuaG9zdG5hbWU7aT0ibG9jYWxob3N0Ij09PXJ8fCIwLjAuMC4wIj09PXJ8fCIxMjcuMC4wLjEiPT09cnx8Ijo6MSI9PT1yfWNhdGNoKHMpe31yZXR1cm4gaXx8bnx8Y29uc29sZS5lcnJvcigid2FsbGFieS5qcyByZWZ1c2VkIHRvIGFjY2VwdCBjb25uZWN0aW9uIGZyb20gIit0KSxpfSxwYXRjaE1vZHVsZTpmdW5jdGlvbih0LG4pe3ZhciBpPWUoIm1vZHVsZSIpLk1vZHVsZS5wcm90b3R5cGUscj1pLnJlcXVpcmU7aS5yZXF1aXJlPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dD9uKF8uYmluZChyLHRoaXMpKTpyLmNhbGwodGhpcyxlKX19LHJlcXVpcmVNb2R1bGVGcm9tOmZ1bmN0aW9uKHQsbil7dHJ5e3JldHVybiBlKGkuam9pbih0LCJub2RlX21vZHVsZXMiLG4pKX1jYXRjaChyKXt2YXIgcz1lKCJtb2R1bGUiKSxvPW5ldyBzKCIuIixudWxsKTtyZXR1cm4gby5maWxlbmFtZT1pLmpvaW4odCwid2FsbGFieS5qcyIpLG8ucGF0aHM9cy5fbm9kZU1vZHVsZVBhdGhzKHQpLHMuX2xvYWQobixvLCExKX19LHJlc29sdmVNb2R1bGVQYXRoRnJvbTpmdW5jdGlvbih0LG4pe3ZhciByPWUoIm1vZHVsZSIpLHM9bmV3IHIoIi4iLG51bGwpO3JldHVybiBzLmZpbGVuYW1lPWkuam9pbih0LCJ3YWxsYWJ5LmpzIikscy5wYXRocz1yLl9ub2RlTW9kdWxlUGF0aHModCksci5fcmVzb2x2ZUZpbGVuYW1lKG4scywhMSl9LGhhc0Fuc2k6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChvKX0scmVtb3ZlQW5zaTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmInN0cmluZyI9PXR5cGVvZiBlP2UucmVwbGFjZShvLCIiKTplfX19LHttb2R1bGU6dm9pZCAwLHBhdGg6dm9pZCAwLHVybDp2b2lkIDB9XX0se30sWzFdKTs=