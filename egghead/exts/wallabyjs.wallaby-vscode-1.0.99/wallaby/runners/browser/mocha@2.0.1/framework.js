/*
 * Wallaby.js - v1.0.613
 * http://wallabyjs.com
 * Copyright (c) 2014-2018 Wallaby.js - All Rights Reserved.
 *
 * This source code file is a part of Wallaby.js and is a proprietary (closed source) software.

 * IMPORTANT:
 * Wallaby.js is a tool made by software developers for software developers with passion and love for what we do.
 * Pirating the tool is not only illegal and just morally wrong,
 * it is also unfair to other fellow programmers who are using it legally,
 * and very harmful for the tool and its future.
 */
!function(){function e(t){var n=e.resolve(t),i=e.modules[n];if(!i)throw new Error('failed to require "'+t+'"');return i.exports||(i.exports={},i.call(i.exports,i,i.exports,e.relative(n))),i.exports}function t(){for(var e=(new i).getTime();d.length&&(new i).getTime()-e<100;)d.shift()();u=d.length?r(t,0):null}e.modules={},e.resolve=function(t){var n=t,i=t+".js",r=t+"/index.js";return e.modules[i]&&i||e.modules[r]&&r||n},e.register=function(t,n){e.modules[t]=n},e.relative=function(t){return function(n){if("."!=n.charAt(0))return e(n);var i=t.split("/"),r=n.split("/");i.pop();for(var s=0;s<r.length;s++){var o=r[s];".."==o?i.pop():"."!=o&&i.push(o)}return e(i.join("/"))}},e.register("browser/debug.js",function(e,t,n){e.exports=function(e){return function(){}}}),e.register("browser/diff.js",function(e,t,n){var i=function(){function e(e){return{newPos:e.newPos,components:e.components.slice(0)}}function t(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}function n(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")}var i=function(e){this.ignoreWhitespace=e};i.prototype={diff:function(t,n){if(n===t)return[{value:n}];if(!n)return[{value:t,removed:!0}];if(!t)return[{value:n,added:!0}];n=this.tokenize(n),t=this.tokenize(t);var i=n.length,r=t.length,s=i+r,o=[{newPos:-1,components:[]}],a=this.extractCommon(o[0],n,t,0);if(o[0].newPos+1>=i&&a+1>=r)return o[0].components;for(var l=1;s>=l;l++)for(var c=-1*l;l>=c;c+=2){var u,d=o[c-1],h=o[c+1];a=(h?h.newPos:0)-c,d&&(o[c-1]=void 0);var p=d&&d.newPos+1<i,f=h&&a>=0&&r>a;if(p||f){!p||f&&d.newPos<h.newPos?(u=e(h),this.pushComponent(u.components,t[a],void 0,!0)):(u=e(d),u.newPos++,this.pushComponent(u.components,n[u.newPos],!0,void 0));var a=this.extractCommon(u,n,t,c);if(u.newPos+1>=i&&a+1>=r)return u.components;o[c]=u}else o[c]=void 0}},pushComponent:function(e,t,n,i){var r=e[e.length-1];r&&r.added===n&&r.removed===i?e[e.length-1]={value:this.join(r.value,t),added:n,removed:i}:e.push({value:t,added:n,removed:i})},extractCommon:function(e,t,n,i){for(var r=t.length,s=n.length,o=e.newPos,a=o-i;r>o+1&&s>a+1&&this.equals(t[o+1],n[a+1]);)o++,a++,this.pushComponent(e.components,t[o],void 0,void 0);return e.newPos=o,a},equals:function(e,t){var n=/\S/;return!this.ignoreWhitespace||n.test(e)||n.test(t)?e===t:!0},join:function(e,t){return e+t},tokenize:function(e){return e}};var r=new i,s=new i(!0),o=new i;s.tokenize=o.tokenize=function(e){return t(e.split(/(\s+|\b)/))};var a=new i(!0);a.tokenize=function(e){return t(e.split(/([{}:;,]|\s+)/))};var l=new i;return l.tokenize=function(e){return e.split(/^/m)},{Diff:i,diffChars:function(e,t){return r.diff(e,t)},diffWords:function(e,t){return s.diff(e,t)},diffWordsWithSpace:function(e,t){return o.diff(e,t)},diffLines:function(e,t){return l.diff(e,t)},diffCss:function(e,t){return a.diff(e,t)},createPatch:function(e,t,n,i,r){function s(e){return e.map(function(e){return" "+e})}function o(e,t,n){var i=c[c.length-2],r=t===c.length-2,s=t===c.length-3&&(n.added!==i.added||n.removed!==i.removed);/\n$/.test(n.value)||!r&&!s||e.push("\\ No newline at end of file")}var a=[];a.push("Index: "+e),a.push("==================================================================="),a.push("--- "+e+("undefined"==typeof i?"":"	"+i)),a.push("+++ "+e+("undefined"==typeof r?"":"	"+r));var c=l.diff(t,n);c[c.length-1].value||c.pop(),c.push({value:"",lines:[]});for(var u=0,d=0,h=[],p=1,f=1,_=0;_<c.length;_++){var y=c[_],g=y.lines||y.value.replace(/\n$/,"").split("\n");if(y.lines=g,y.added||y.removed){if(!u){var v=c[_-1];u=p,d=f,v&&(h=s(v.lines.slice(-4)),u-=h.length,d-=h.length)}h.push.apply(h,g.map(function(e){return(y.added?"+":"-")+e})),o(h,_,y),y.added?f+=g.length:p+=g.length}else{if(u)if(g.length<=8&&_<c.length-2)h.push.apply(h,s(g));else{var m=Math.min(g.length,4);a.push("@@ -"+u+","+(p-u+m)+" +"+d+","+(f-d+m)+" @@"),a.push.apply(a,h),a.push.apply(a,s(g.slice(0,m))),g.length<=4&&o(a,_,y),u=0,d=0,h=[]}p+=g.length,f+=g.length}}return a.join("\n")+"\n"},applyPatch:function(e,t){for(var n=t.split("\n"),i=[],r=!1,s=!1,o="I"===n[0][0]?4:0;o<n.length;o++)if("@"===n[o][0]){var a=n[o].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);i.unshift({start:a[3],oldlength:a[2],oldlines:[],newlength:a[4],newlines:[]})}else"+"===n[o][0]?i[0].newlines.push(n[o].substr(1)):"-"===n[o][0]?i[0].oldlines.push(n[o].substr(1)):" "===n[o][0]?(i[0].newlines.push(n[o].substr(1)),i[0].oldlines.push(n[o].substr(1))):"\\"===n[o][0]&&("+"===n[o-1][0]?r=!0:"-"===n[o-1][0]&&(s=!0));for(var l=e.split("\n"),o=i.length-1;o>=0;o--){for(var c=i[o],u=0;u<c.oldlength;u++)if(l[c.start-1+u]!==c.oldlines[u])return!1;Array.prototype.splice.apply(l,[c.start-1,+c.oldlength].concat(c.newlines))}if(r)for(;!l[l.length-1];)l.pop();else s&&l.push("");return l.join("\n")},convertChangesToXML:function(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];r.added?t.push("<ins>"):r.removed&&t.push("<del>"),t.push(n(r.value)),r.added?t.push("</ins>"):r.removed&&t.push("</del>")}return t.join("")},convertChangesToDMP:function(e){for(var t,n=[],i=0;i<e.length;i++)t=e[i],n.push([t.added?1:t.removed?-1:0,t.value]);return n}}}();"undefined"!=typeof e&&(e.exports=i)}),e.register("browser/escape-string-regexp.js",function(e,t,n){"use strict";var i=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(i,"\\$&")}}),e.register("browser/events.js",function(e,t,n){function i(e){return"[object Array]"=={}.toString.call(e)}function r(){}t.EventEmitter=r,r.prototype.on=function(e,t){return this.$events||(this.$events={}),this.$events[e]?i(this.$events[e])?this.$events[e].push(t):this.$events[e]=[this.$events[e],t]:this.$events[e]=t,this},r.prototype.addListener=r.prototype.on,r.prototype.once=function(e,t){function n(){i.removeListener(e,n),t.apply(this,arguments)}var i=this;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){if(this.$events&&this.$events[e]){var n=this.$events[e];if(i(n)){for(var r=-1,s=0,o=n.length;o>s;s++)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(0>r)return this;n.splice(r,1),n.length||delete this.$events[e]}else(n===t||n.listener&&n.listener===t)&&delete this.$events[e]}return this},r.prototype.removeAllListeners=function(e){return void 0===e?(this.$events={},this):(this.$events&&this.$events[e]&&(this.$events[e]=null),this)},r.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),i(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},r.prototype.emit=function(e){if(!this.$events)return!1;var t=this.$events[e];if(!t)return!1;var n=[].slice.call(arguments,1);if("function"==typeof t)t.apply(this,n);else{if(!i(t))return!1;for(var r=t.slice(),s=0,o=r.length;o>s;s++)r[s].apply(this,n)}return!0}}),e.register("browser/fs.js",function(e,t,n){}),e.register("browser/glob.js",function(e,t,n){}),e.register("browser/path.js",function(e,t,n){}),e.register("browser/progress.js",function(e,t,n){function i(){this.percent=0,this.size(0),this.fontSize(11),this.font("helvetica, arial, sans-serif")}e.exports=i,i.prototype.size=function(e){return this._size=e,this},i.prototype.text=function(e){return this._text=e,this},i.prototype.fontSize=function(e){return this._fontSize=e,this},i.prototype.font=function(e){return this._font=e,this},i.prototype.update=function(e){return this.percent=e,this},i.prototype.draw=function(e){try{var t=Math.min(this.percent,100),n=this._size,i=n/2,r=i,s=i,o=i-1,a=this._fontSize;e.font=a+"px "+this._font;var l=2*Math.PI*(t/100);e.clearRect(0,0,n,n),e.strokeStyle="#9f9f9f",e.beginPath(),e.arc(r,s,o,0,l,!1),e.stroke(),e.strokeStyle="#eee",e.beginPath(),e.arc(r,s,o-1,0,l,!0),e.stroke();var c=this._text||(0|t)+"%",u=e.measureText(c).width;e.fillText(c,r-u/2+1,s+a/2-1)}catch(d){}return this}}),e.register("browser/tty.js",function(e,t,i){t.isatty=function(){return!0},t.getWindowSize=function(){return"innerHeight"in n?[n.innerHeight,n.innerWidth]:[640,480]}}),e.register("context.js",function(e,t,n){function i(){}e.exports=i,i.prototype.runnable=function(e){return 0==arguments.length?this._runnable:(this.test=this._runnable=e,this)},i.prototype.timeout=function(e){return 0===arguments.length?this.runnable().timeout():(this.runnable().timeout(e),this)},i.prototype.enableTimeouts=function(e){return this.runnable().enableTimeouts(e),this},i.prototype.slow=function(e){return this.runnable().slow(e),this},i.prototype.inspect=function(){return JSON.stringify(this,function(e,t){return"_runnable"!=e&&"test"!=e?t:void 0},2)}}),e.register("hook.js",function(e,t,n){function i(e,t){s.call(this,e,t),this.type="hook"}function r(){}var s=n("./runnable");e.exports=i,r.prototype=s.prototype,i.prototype=new r,i.prototype.constructor=i,i.prototype.error=function(e){if(0==arguments.length){var e=this._error;return this._error=null,e}this._error=e}}),e.register("interfaces/bdd.js",function(e,t,n){var i=n("../suite"),r=n("../test"),s=(n("../utils"),n("browser/escape-string-regexp"));e.exports=function(e){var t=[e];e.on("pre-require",function(e,n,o){e.before=function(e,n){t[0].beforeAll(e,n)},e.after=function(e,n){t[0].afterAll(e,n)},e.beforeEach=function(e,n){t[0].beforeEach(e,n)},e.afterEach=function(e,n){t[0].afterEach(e,n)},e.describe=e.context=function(e,r){var s=i.create(t[0],e);return s.file=n,t.unshift(s),r.call(s),t.shift(),s},e.xdescribe=e.xcontext=e.describe.skip=function(e,n){var r=i.create(t[0],e);r.pending=!0,t.unshift(r),n.call(r),t.shift()},e.describe.only=function(t,n){var i=e.describe(t,n);return o.grep(i.fullTitle()),i},e.it=e.specify=function(e,i){var s=t[0];s.pending&&(i=null);var o=new r(e,i);return o.file=n,s.addTest(o),o},e.it.only=function(t,n){var i=e.it(t,n),r="^"+s(i.fullTitle())+"$";return o.grep(new RegExp(r)),i},e.xit=e.xspecify=e.it.skip=function(t){e.it(t)}})}}),e.register("interfaces/exports.js",function(e,t,n){var i=n("../suite"),r=n("../test");e.exports=function(e){function t(e,s){var o;for(var a in e)if("function"==typeof e[a]){var l=e[a];switch(a){case"before":n[0].beforeAll(l);break;case"after":n[0].afterAll(l);break;case"beforeEach":n[0].beforeEach(l);break;case"afterEach":n[0].afterEach(l);break;default:var c=new r(a,l);c.file=s,n[0].addTest(c)}}else o=i.create(n[0],a),n.unshift(o),t(e[a]),n.shift()}var n=[e];e.on("require",t)}}),e.register("interfaces/index.js",function(e,t,n){t.bdd=n("./bdd"),t.tdd=n("./tdd"),t.qunit=n("./qunit"),t.exports=n("./exports")}),e.register("interfaces/qunit.js",function(e,t,n){var i=n("../suite"),r=n("../test"),s=n("browser/escape-string-regexp");n("../utils");e.exports=function(e){var t=[e];e.on("pre-require",function(e,n,o){e.before=function(e,n){t[0].beforeAll(e,n)},e.after=function(e,n){t[0].afterAll(e,n)},e.beforeEach=function(e,n){t[0].beforeEach(e,n)},e.afterEach=function(e,n){t[0].afterEach(e,n)},e.suite=function(e){t.length>1&&t.shift();var r=i.create(t[0],e);return r.file=n,t.unshift(r),r},e.suite.only=function(t,n){var i=e.suite(t,n);o.grep(i.fullTitle())},e.test=function(e,i){var s=new r(e,i);return s.file=n,t[0].addTest(s),s},e.test.only=function(t,n){var i=e.test(t,n),r="^"+s(i.fullTitle())+"$";o.grep(new RegExp(r))},e.test.skip=function(t){e.test(t)}})}}),e.register("interfaces/tdd.js",function(e,t,n){var i=n("../suite"),r=n("../test"),s=n("browser/escape-string-regexp");n("../utils");e.exports=function(e){var t=[e];e.on("pre-require",function(e,n,o){e.setup=function(e,n){t[0].beforeEach(e,n)},e.teardown=function(e,n){t[0].afterEach(e,n)},e.suiteSetup=function(e,n){t[0].beforeAll(e,n)},e.suiteTeardown=function(e,n){t[0].afterAll(e,n)},e.suite=function(e,r){var s=i.create(t[0],e);return s.file=n,t.unshift(s),r.call(s),t.shift(),s},e.suite.skip=function(e,n){var r=i.create(t[0],e);r.pending=!0,t.unshift(r),n.call(r),t.shift()},e.suite.only=function(t,n){var i=e.suite(t,n);o.grep(i.fullTitle())},e.test=function(e,i){var s=t[0];s.pending&&(i=null);var o=new r(e,i);return o.file=n,s.addTest(o),o},e.test.only=function(t,n){var i=e.test(t,n),r="^"+s(i.fullTitle())+"$";o.grep(new RegExp(r))},e.test.skip=function(t){e.test(t)}})}}),e.register("mocha.js",function(e,t,i){function r(e){return __dirname+"/../images/"+e+".png"}function o(e){e=e||{},this.files=[],this.options=e,this.grep(e.grep),this.suite=new t.Suite("",new t.Context),this.ui(e.ui),this.bail(e.bail),this.reporter(e.reporter),null!=e.timeout&&this.timeout(e.timeout),this.useColors(e.useColors),null!==e.enableTimeouts&&this.enableTimeouts(e.enableTimeouts),e.slow&&this.slow(e.slow),this.suite.on("pre-require",function(e){t.afterEach=e.afterEach||e.teardown,t.after=e.after||e.suiteTeardown,t.beforeEach=e.beforeEach||e.setup,t.before=e.before||e.suiteSetup,t.describe=e.describe||e.suite,t.it=e.it||e.test,t.setup=e.setup||e.beforeEach,t.suiteSetup=e.suiteSetup||e.before,t.suiteTeardown=e.suiteTeardown||e.after,t.suite=e.suite||e.describe,t.teardown=e.teardown||e.afterEach,t.test=e.test||e.it})}var a=i("browser/path"),l=i("browser/escape-string-regexp"),c=i("./utils");if(t=e.exports=o,"undefined"!=typeof s&&"function"==typeof s.cwd){var u=a.join,d=s.cwd();e.paths.push(d,u(d,"node_modules"))}t.utils=c,t.interfaces=i("./interfaces"),t.reporters=i("./reporters"),t.Runnable=i("./runnable"),t.Context=i("./context"),t.Runner=i("./runner"),t.Suite=i("./suite"),t.Hook=i("./hook"),t.Test=i("./test"),o.prototype.bail=function(e){return 0==arguments.length&&(e=!0),this.suite.bail(e),this},o.prototype.addFile=function(e){return this.files.push(e),this},o.prototype.reporter=function(e){if("function"==typeof e)this._reporter=e;else{e=e||"spec";var t;try{t=i("./reporters/"+e)}catch(n){}if(!t)try{t=i(e)}catch(n){}if(t||"teamcity"!==e||console.warn("The Teamcity reporter was moved to a package named mocha-teamcity-reporter (https://npmjs.org/package/mocha-teamcity-reporter)."),!t)throw new Error('invalid reporter "'+e+'"');this._reporter=t}return this},o.prototype.ui=function(e){if(e=e||"bdd",this._ui=t.interfaces[e],!this._ui)try{this._ui=i(e)}catch(n){}if(!this._ui)throw new Error('invalid interface "'+e+'"');return this._ui=this._ui(this.suite),this},o.prototype.loadFiles=function(e){var t=this,r=this.suite,s=this.files.length;this.files.forEach(function(o){o=a.resolve(o),r.emit("pre-require",n,o,t),r.emit("require",i(o),o,t),r.emit("post-require",n,o,t),--s||e&&e()})},o.prototype._growl=function(e,t){var n=i("growl");e.on("end",function(){var i=t.stats;if(i.failures){var s=i.failures+" of "+e.total+" tests failed";n(s,{name:"mocha",title:"Failed",image:r("error")})}else n(i.passes+" tests passed in "+i.duration+"ms",{name:"mocha",title:"Passed",image:r("ok")})})},o.prototype.grep=function(e){return this.options.grep="string"==typeof e?new RegExp(l(e)):e,this},o.prototype.invert=function(){return this.options.invert=!0,this},o.prototype.ignoreLeaks=function(e){return this.options.ignoreLeaks=!!e,this},o.prototype.checkLeaks=function(){return this.options.ignoreLeaks=!1,this},o.prototype.growl=function(){return this.options.growl=!0,this},o.prototype.globals=function(e){return this.options.globals=(this.options.globals||[]).concat(e),this},o.prototype.useColors=function(e){return this.options.useColors=arguments.length&&void 0!=e?e:!0,this},o.prototype.useInlineDiffs=function(e){return this.options.useInlineDiffs=arguments.length&&void 0!=e?e:!1,this},o.prototype.timeout=function(e){return this.suite.timeout(e),this},o.prototype.slow=function(e){return this.suite.slow(e),this},o.prototype.enableTimeouts=function(e){return this.suite.enableTimeouts(arguments.length&&void 0!==e?e:!0),this},o.prototype.asyncOnly=function(){return this.options.asyncOnly=!0,this},o.prototype.noHighlighting=function(){return this.options.noHighlighting=!0,this},o.prototype.run=function(e){this.files.length&&this.loadFiles();var n=this.suite,i=this.options;i.files=this.files;var r=new t.Runner(n),s=new this._reporter(r,i);return r.ignoreLeaks=!1!==i.ignoreLeaks,r.asyncOnly=i.asyncOnly,i.grep&&r.grep(i.grep,i.invert),i.globals&&r.globals(i.globals),i.growl&&this._growl(r,s),t.reporters.Base.useColors=i.useColors,t.reporters.Base.inlineDiffs=i.useInlineDiffs,r.run(e)}}),e.register("ms.js",function(e,t,n){function i(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"y":return n*d;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"h":return n*c;case"minutes":case"minute":case"m":return n*l;case"seconds":case"second":case"s":return n*a;case"ms":return n}}}function r(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=l?Math.round(e/l)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function s(e){return o(e,u,"day")||o(e,c,"hour")||o(e,l,"minute")||o(e,a,"second")||e+" ms"}function o(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,l=60*a,c=60*l,u=24*c,d=365.25*u;e.exports=function(e,t){return t=t||{},"string"==typeof e?i(e):t["long"]?s(e):r(e)}}),e.register("reporters/base.js",function(e,t,i){function r(e){var t=this.stats={suites:0,tests:0,passes:0,pending:0,failures:0},n=this.failures=[];e&&(this.runner=e,e.stats=t,e.on("start",function(){t.start=new g}),e.on("suite",function(e){t.suites=t.suites||0,e.root||t.suites++}),e.on("test end",function(e){t.tests=t.tests||0,t.tests++}),e.on("pass",function(e){t.passes=t.passes||0;var n=e.slow()/2;e.speed=e.duration>e.slow()?"slow":e.duration>n?"medium":"fast",t.passes++}),e.on("fail",function(e,i){t.failures=t.failures||0,t.failures++,e.err=i,n.push(e)}),e.on("end",function(){t.end=new g,t.duration=new g-t.start}),e.on("pending",function(){t.pending++}))}function o(e,t){return e=String(e),Array(t-e.length+1).join(" ")+e}function a(e,t){var n=c(e,"WordsWithSpace",t),i=n.split("\n");if(i.length>4){var r=String(i.length).length;n=i.map(function(e,t){return o(++t,r)+" | "+e}).join("\n")}return n="\n"+m("diff removed","actual")+" "+m("diff added","expected")+"\n\n"+n+"\n",n=n.replace(/^/gm,"      ")}function l(e,t){function n(e){return t&&(e=u(e)),"+"===e[0]?r+d("diff added",e):"-"===e[0]?r+d("diff removed",e):e.match(/\@\@/)?null:e.match(/\\ No newline/)?null:r+e}function i(e){return null!=e}var r="      ";msg=f.createPatch("string",e.actual,e.expected);var s=msg.split("\n").splice(4);return"\n      "+d("diff added","+ expected")+" "+d("diff removed","- actual")+"\n\n"+s.map(n).filter(i).join("\n")}function c(e,t,n){var i=n?u(e.actual):e.actual,r=n?u(e.expected):e.expected;return f["diff"+t](i,r).map(function(e){return e.added?d("diff added",e.value):e.removed?d("diff removed",e.value):e.value}).join("")}function u(e){return e.replace(/\t/g,"<tab>").replace(/\r/g,"<CR>").replace(/\n/g,"<LF>\n")}function d(e,t){return t.split("\n").map(function(t){return m(e,t)}).join("\n")}function h(e,t){return e=Object.prototype.toString.call(e),t=Object.prototype.toString.call(t),e==t}var p=i("browser/tty"),f=i("browser/diff"),_=i("../ms"),y=i("../utils"),g=n.Date,v=(n.setTimeout,n.setInterval,n.clearTimeout,n.clearInterval,p.isatty(1)&&p.isatty(2));t=e.exports=r,t.useColors=v||void 0!==s.env.MOCHA_COLORS,t.inlineDiffs=!1,t.colors={pass:90,fail:31,"bright pass":92,"bright fail":91,"bright yellow":93,pending:36,suite:0,"error title":0,"error message":31,"error stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff gutter":90,"diff added":42,"diff removed":41},t.symbols={ok:"âœ“",err:"âœ–",dot:"â€¤"},"win32"==s.platform&&(t.symbols.ok="âˆš",t.symbols.err="Ã—",t.symbols.dot=".");var m=t.color=function(e,n){return t.useColors?"["+t.colors[e]+"m"+n+"[0m":n};t.window={width:v?s.stdout.getWindowSize?s.stdout.getWindowSize(1)[0]:p.getWindowSize()[1]:75},t.cursor={hide:function(){v&&s.stdout.write("[?25l")},show:function(){v&&s.stdout.write("[?25h")},deleteLine:function(){v&&s.stdout.write("[2K")},beginningOfLine:function(){v&&s.stdout.write("[0G")},CR:function(){v?(t.cursor.deleteLine(),t.cursor.beginningOfLine()):s.stdout.write("\r")}},t.list=function(e){console.error(),e.forEach(function(e,n){var i=m("error title","  %s) %s:\n")+m("error message","     %s")+m("error stack","\n%s\n"),r=e.err,s=r.message||"",o=r.stack||s,c=o.indexOf(s)+s.length,u=o.slice(0,c),d=r.actual,p=r.expected,f=!0;if(r.uncaught&&(u="Uncaught "+u),r.showDiff&&h(d,p)&&(f=!1,r.actual=d=y.stringify(d),r.expected=p=y.stringify(p)),r.showDiff&&"string"==typeof d&&"string"==typeof p){i=m("error title","  %s) %s:\n%s")+m("error stack","\n%s\n");var _=s.match(/^([^:]+): expected/);u="\n      "+m("error message",_?_[1]:u),u+=t.inlineDiffs?a(r,f):l(r,f)}o=o.slice(c?c+1:c).replace(/^/gm,"  "),console.error(i,n+1,e.fullTitle(),u,o)})},r.prototype.epilogue=function(){var e,t=this.stats;console.log(),e=m("bright pass"," ")+m("green"," %d passing")+m("light"," (%s)"),console.log(e,t.passes||0,_(t.duration)),t.pending&&(e=m("pending"," ")+m("pending"," %d pending"),console.log(e,t.pending)),t.failures&&(e=m("fail","  %d failing"),console.error(e,t.failures),r.list(this.failures),console.error()),console.log()}}),e.register("reporters/doc.js",function(e,t,n){function i(e){function t(){return Array(n).join("  ")}r.call(this,e);var n=(this.stats,e.total,2);e.on("suite",function(e){e.root||(++n,console.log('%s<section class="suite">',t()),++n,console.log("%s<h1>%s</h1>",t(),s.escape(e.title)),console.log("%s<dl>",t()))}),e.on("suite end",function(e){e.root||(console.log("%s</dl>",t()),--n,console.log("%s</section>",t()),--n)}),e.on("pass",function(e){console.log("%s  <dt>%s</dt>",t(),s.escape(e.title));var n=s.escape(s.clean(e.fn.toString()));console.log("%s  <dd><pre><code>%s</code></pre></dd>",t(),n)}),e.on("fail",function(e,n){console.log('%s  <dt class="error">%s</dt>',t(),s.escape(e.title));var i=s.escape(s.clean(e.fn.toString()));console.log('%s  <dd class="error"><pre><code>%s</code></pre></dd>',t(),i),console.log('%s  <dd class="error">%s</dd>',t(),s.escape(n))})}var r=n("./base"),s=n("../utils");t=e.exports=i}),e.register("reporters/dot.js",function(e,t,n){function i(e){o.call(this,e);var t=this,n=(this.stats,.75*o.window.width|0),i=-1;e.on("start",function(){s.stdout.write("\n  ")}),e.on("pending",function(e){++i%n==0&&s.stdout.write("\n  "),s.stdout.write(a("pending",o.symbols.dot))}),e.on("pass",function(e){++i%n==0&&s.stdout.write("\n  "),"slow"==e.speed?s.stdout.write(a("bright yellow",o.symbols.dot)):s.stdout.write(a(e.speed,o.symbols.dot))}),e.on("fail",function(e,t){++i%n==0&&s.stdout.write("\n  "),s.stdout.write(a("fail",o.symbols.dot))}),e.on("end",function(){console.log(),t.epilogue()})}function r(){}var o=n("./base"),a=o.color;t=e.exports=i,r.prototype=o.prototype,i.prototype=new r,i.prototype.constructor=i}),e.register("reporters/html-cov.js",function(e,t,n){function i(e){var t=n("jade"),i=__dirname+"/templates/coverage.jade",l=a.readFileSync(i,"utf8"),c=t.compile(l,{filename:i}),u=this;o.call(this,e,!1),e.on("end",function(){s.stdout.write(c({cov:u.cov,coverageClass:r}))})}function r(e){return e>=75?"high":e>=50?"medium":e>=25?"low":"terrible"}var o=n("./json-cov"),a=n("browser/fs");t=e.exports=i}),e.register("reporters/html.js",function(e,t,i){function r(e){d.call(this,e);var t,n,i=this,r=this.stats,g=(e.total,o(y)),v=g.getElementsByTagName("li"),m=v[1].getElementsByTagName("em")[0],T=v[1].getElementsByTagName("a")[0],b=v[2].getElementsByTagName("em")[0],R=v[2].getElementsByTagName("a")[0],V=v[3].getElementsByTagName("em")[0],F=g.getElementsByTagName("canvas")[0],N=o('<ul id="mocha-report"></ul>'),Z=[N],U=document.getElementById("mocha");if(F.getContext){var M=window.devicePixelRatio||1;F.style.width=F.width,F.style.height=F.height,F.width*=M,F.height*=M,n=F.getContext("2d"),n.scale(M,M),t=new p}return U?(u(T,"click",function(){l();var e=/pass/.test(N.className)?"":" pass";N.className=N.className.replace(/fail|pass/g,"")+e,N.className.trim()&&a("test pass")}),u(R,"click",function(){l();var e=/fail/.test(N.className)?"":" fail";N.className=N.className.replace(/fail|pass/g,"")+e,N.className.trim()&&a("test fail")}),U.appendChild(g),U.appendChild(N),t&&t.size(40),e.on("suite",function(e){if(!e.root){var t=i.suiteURL(e),n=o('<li class="suite"><h1><a href="%s">%s</a></h1></li>',t,f(e.title));Z[0].appendChild(n),Z.unshift(document.createElement("ul")),n.appendChild(Z[0])}}),e.on("suite end",function(e){e.root||Z.shift()}),e.on("fail",function(t,n){"hook"==t.type&&e.emit("test end",t)}),void e.on("test end",function(e){var s=r.tests/this.total*100|0;t&&t.update(s).draw(n);var a=new _-r.start;if(c(m,r.passes),c(b,r.failures),c(V,(a/1e3).toFixed(2)),"passed"==e.state)var l=i.testURL(e),d=o('<li class="test pass %e"><h2>%e<span class="duration">%ems</span> <a href="%s" class="replay">â€£</a></h2></li>',e.speed,e.title,e.duration,l);else if(e.pending)var d=o('<li class="test pass pending"><h2>%e</h2></li>',e.title);else{var d=o('<li class="test fail"><h2>%e <a href="?grep=%e" class="replay">â€£</a></h2></li>',e.title,encodeURIComponent(e.fullTitle())),p=e.err.stack||e.err.toString();~p.indexOf(e.err.message)||(p=e.err.message+"\n"+p),"[object Error]"==p&&(p=e.err.message),!e.err.stack&&e.err.sourceURL&&void 0!==e.err.line&&(p+="\n("+e.err.sourceURL+":"+e.err.line+")"),d.appendChild(o('<pre class="error">%e</pre>',p))}if(!e.pending){var f=d.getElementsByTagName("h2")[0];u(f,"click",function(){y.style.display="none"==y.style.display?"block":"none"});var y=o("<pre><code>%e</code></pre>",h.clean(e.fn.toString()));d.appendChild(y),y.style.display="none"}Z[0]&&Z[0].appendChild(d)})):s("#mocha div missing, add it to your document")}function s(e){document.body.appendChild(o('<div id="mocha-error">%s</div>',e))}function o(e){var t=arguments,n=document.createElement("div"),i=1;return n.innerHTML=e.replace(/%([se])/g,function(e,n){switch(n){case"s":return String(t[i++]);case"e":return f(t[i++])}}),n.firstChild}function a(e){for(var t=document.getElementsByClassName("suite"),n=0;n<t.length;n++){var i=t[n].getElementsByClassName(e);0==i.length&&(t[n].className+=" hidden")}}function l(){for(var e=document.getElementsByClassName("suite hidden"),t=0;t<e.length;++t)e[t].className=e[t].className.replace("suite hidden","suite")}function c(e,t){e.textContent?e.textContent=t:e.innerText=t}function u(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}var d=i("./base"),h=i("../utils"),p=i("../browser/progress"),f=h.escape,_=n.Date;n.setTimeout,n.setInterval,n.clearTimeout,n.clearInterval;t=e.exports=r;var y='<ul id="mocha-stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes"><a href="#">passes:</a> <em>0</em></li><li class="failures"><a href="#">failures:</a> <em>0</em></li><li class="duration">duration: <em>0</em>s</li></ul>',g=function(e){var t=window.location.search;return(t?t+"&":"?")+"grep="+encodeURIComponent(e)};r.prototype.suiteURL=function(e){return g(e.fullTitle())},r.prototype.testURL=function(e){return g(e.fullTitle())}}),e.register("reporters/index.js",function(e,t,n){t.Base=n("./base"),t.Dot=n("./dot"),t.Doc=n("./doc"),t.TAP=n("./tap"),t.JSON=n("./json"),t.HTML=n("./html"),t.List=n("./list"),t.Min=n("./min"),t.Spec=n("./spec"),t.Nyan=n("./nyan"),t.XUnit=n("./xunit"),t.Markdown=n("./markdown"),t.Progress=n("./progress"),t.Landing=n("./landing"),t.JSONCov=n("./json-cov"),t.HTMLCov=n("./html-cov"),t.JSONStream=n("./json-stream")}),e.register("reporters/json-cov.js",function(e,t,i){function r(e,t){var i=this,t=1==arguments.length?!0:t;c.call(this,e);var r=[],a=[],u=[];e.on("test end",function(e){r.push(e)}),e.on("pass",function(e){u.push(e)}),e.on("fail",function(e){a.push(e)}),e.on("end",function(){var e=n._$jscoverage||{},c=i.cov=o(e);c.stats=i.stats,c.tests=r.map(l),c.failures=a.map(l),c.passes=u.map(l),t&&s.stdout.write(JSON.stringify(c,null,2))})}function o(e){var t={instrumentation:"node-jscoverage",sloc:0,hits:0,misses:0,coverage:0,files:[]};for(var n in e){var i=a(n,e[n]);t.files.push(i),t.hits+=i.hits,t.misses+=i.misses,t.sloc+=i.sloc}return t.files.sort(function(e,t){return e.filename.localeCompare(t.filename)}),t.sloc>0&&(t.coverage=t.hits/t.sloc*100),t}function a(e,t){var n={filename:e,coverage:0,hits:0,misses:0,sloc:0,source:{}};return t.source.forEach(function(e,i){i++,0===t[i]?(n.misses++,n.sloc++):void 0!==t[i]&&(n.hits++,n.sloc++),n.source[i]={source:e,coverage:void 0===t[i]?"":t[i]}}),n.coverage=n.hits/n.sloc*100,n}function l(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var c=i("./base");t=e.exports=r}),e.register("reporters/json-stream.js",function(e,t,n){function i(e){o.call(this,e);var t=this,n=(this.stats,e.total);e.on("start",function(){console.log(JSON.stringify(["start",{total:n}]))}),e.on("pass",function(e){console.log(JSON.stringify(["pass",r(e)]))}),e.on("fail",function(e,t){e=r(e),e.err=t.message,console.log(JSON.stringify(["fail",e]))}),e.on("end",function(){s.stdout.write(JSON.stringify(["end",t.stats]))})}function r(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var o=n("./base");o.color;t=e.exports=i}),e.register("reporters/json.js",function(e,t,n){function i(e){var t=this;a.call(this,e);var n=[],i=[],o=[],l=[];e.on("test end",function(e){n.push(e)}),e.on("pass",function(e){l.push(e)}),e.on("fail",function(e){o.push(e)}),e.on("pending",function(e){i.push(e)}),e.on("end",function(){var a={stats:t.stats,tests:n.map(r),pending:i.map(r),failures:o.map(r),passes:l.map(r)};e.testResults=a,s.stdout.write(JSON.stringify(a,null,2))})}function r(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration,err:o(e.err||{})}}function o(e){var t={};return Object.getOwnPropertyNames(e).forEach(function(n){t[n]=e[n]},e),t}var a=n("./base");a.cursor,a.color;t=e.exports=i}),e.register("reporters/landing.js",function(e,t,n){function i(e){function t(){var e=Array(i).join("-");return"  "+l("runway",e)}o.call(this,e);var n=this,i=(this.stats,.75*o.window.width|0),r=e.total,c=s.stdout,u=l("plane","âœˆ"),d=-1,h=0;e.on("start",function(){c.write("\n\n\n  "),a.hide()}),e.on("test end",function(e){var n=-1==d?i*++h/r|0:d;"failed"==e.state&&(u=l("plane crash","âœˆ"),d=n),c.write("["+(i+1)+"D[2A"),c.write(t()),c.write("\n  "),c.write(l("runway",Array(n).join("â‹…"))),c.write(u),c.write(l("runway",Array(i-n).join("â‹…")+"\n")),c.write(t()),c.write("[0m")}),e.on("end",function(){a.show(),console.log(),n.epilogue()})}function r(){}var o=n("./base"),a=o.cursor,l=o.color;t=e.exports=i,o.colors.plane=0,o.colors["plane crash"]=31,o.colors.runway=90,r.prototype=o.prototype,i.prototype=new r,i.prototype.constructor=i}),e.register("reporters/list.js",function(e,t,n){function i(e){o.call(this,e);var t=this,n=(this.stats,0);e.on("start",function(){console.log()}),e.on("test",function(e){s.stdout.write(l("pass","    "+e.fullTitle()+": "))}),e.on("pending",function(e){var t=l("checkmark","  -")+l("pending"," %s");console.log(t,e.fullTitle())}),e.on("pass",function(e){var t=l("checkmark","  "+o.symbols.dot)+l("pass"," %s: ")+l(e.speed,"%dms");a.CR(),console.log(t,e.fullTitle(),e.duration)}),e.on("fail",function(e,t){a.CR(),console.log(l("fail","  %d) %s"),++n,e.fullTitle())}),e.on("end",t.epilogue.bind(t))}function r(){}var o=n("./base"),a=o.cursor,l=o.color;t=e.exports=i,r.prototype=o.prototype,i.prototype=new r,i.prototype.constructor=i}),e.register("reporters/markdown.js",function(e,t,n){function i(e){function t(e){return Array(l).join("#")+" "+e}function n(e,t){var i=t;return t=t[e.title]=t[e.title]||{suite:e},e.suites.forEach(function(e){n(e,t)}),i}function i(e,t){++t;var n,r="";for(var s in e)"suite"!=s&&(s&&(n=" - ["+s+"](#"+o.slug(e[s].suite.fullTitle())+")\n"),s&&(r+=Array(t).join("  ")+n),r+=i(e[s],t));return--t,r}function a(e){var t=n(e,{});return i(t,0)}r.call(this,e);var l=(this.stats,0),c="";a(e.suite),e.on("suite",function(e){++l;var n=o.slug(e.fullTitle());c+='<a name="'+n+'"></a>\n',c+=t(e.title)+"\n"}),e.on("suite end",function(e){--l}),e.on("pass",function(e){var t=o.clean(e.fn.toString());
c+=e.title+".\n",c+="\n```js\n",c+=t+"\n",c+="```\n\n"}),e.on("end",function(){s.stdout.write("# TOC\n"),s.stdout.write(a(e.suite)),s.stdout.write(c)})}var r=n("./base"),o=n("../utils");t=e.exports=i}),e.register("reporters/min.js",function(e,t,n){function i(e){o.call(this,e),e.on("start",function(){s.stdout.write("[2J"),s.stdout.write("[1;3H")}),e.on("end",this.epilogue.bind(this))}function r(){}var o=n("./base");t=e.exports=i,r.prototype=o.prototype,i.prototype=new r,i.prototype.constructor=i}),e.register("reporters/nyan.js",function(e,t,n){function i(e){a.call(this,e);var t=this,n=(this.stats,.75*a.window.width|0),i=(this.rainbowColors=t.generateColors(),this.colorIndex=0,this.numberOfLines=4,this.trajectories=[[],[],[],[]],this.nyanCatWidth=11);this.trajectoryWidthMax=n-i,this.scoreboardWidth=5,this.tick=0;e.on("start",function(){a.cursor.hide(),t.draw()}),e.on("pending",function(e){t.draw()}),e.on("pass",function(e){t.draw()}),e.on("fail",function(e,n){t.draw()}),e.on("end",function(){a.cursor.show();for(var e=0;e<t.numberOfLines;e++)r("\n");t.epilogue()})}function r(e){s.stdout.write(e)}function o(){}var a=n("./base");a.color;t=e.exports=i,i.prototype.draw=function(){this.appendRainbow(),this.drawScoreboard(),this.drawRainbow(),this.drawNyanCat(),this.tick=!this.tick},i.prototype.drawScoreboard=function(){function e(e,t){r(" "),r("["+e+"m"+t+"[0m"),r("\n")}var t=this.stats,n=a.colors;e(n.green,t.passes),e(n.fail,t.failures),e(n.pending,t.pending),r("\n"),this.cursorUp(this.numberOfLines)},i.prototype.appendRainbow=function(){for(var e=this.tick?"_":"-",t=this.rainbowify(e),n=0;n<this.numberOfLines;n++){var i=this.trajectories[n];i.length>=this.trajectoryWidthMax&&i.shift(),i.push(t)}},i.prototype.drawRainbow=function(){var e=this;this.trajectories.forEach(function(t,n){r("["+e.scoreboardWidth+"C"),r(t.join("")),r("\n")}),this.cursorUp(this.numberOfLines)},i.prototype.drawNyanCat=function(){var e=this,t=this.scoreboardWidth+this.trajectories[0].length,n="["+t+"C",i="";r(n),r("_,------,"),r("\n"),r(n),i=e.tick?"  ":"   ",r("_|"+i+"/\\_/\\ "),r("\n"),r(n),i=e.tick?"_":"__";var s=e.tick?"~":"^";r(s+"|"+i+this.face()+" "),r("\n"),r(n),i=e.tick?" ":"  ",r(i+'""  "" '),r("\n"),this.cursorUp(this.numberOfLines)},i.prototype.face=function(){var e=this.stats;return e.failures?"( x .x)":e.pending?"( o .o)":e.passes?"( ^ .^)":"( - .-)"},i.prototype.cursorUp=function(e){r("["+e+"A")},i.prototype.cursorDown=function(e){r("["+e+"B")},i.prototype.generateColors=function(){for(var e=[],t=0;42>t;t++){var n=Math.floor(Math.PI/3),i=t*(1/6),r=Math.floor(3*Math.sin(i)+3),s=Math.floor(3*Math.sin(i+2*n)+3),o=Math.floor(3*Math.sin(i+4*n)+3);e.push(36*r+6*s+o+16)}return e},i.prototype.rainbowify=function(e){var t=this.rainbowColors[this.colorIndex%this.rainbowColors.length];return this.colorIndex+=1,"[38;5;"+t+"m"+e+"[0m"},o.prototype=a.prototype,i.prototype=new o,i.prototype.constructor=i}),e.register("reporters/progress.js",function(e,t,n){function i(e,t){o.call(this,e);var n=this,t=t||{},i=(this.stats,.5*o.window.width|0),r=e.total,c=0,u=(Math.max,-1);t.open=t.open||"[",t.complete=t.complete||"â–¬",t.incomplete=t.incomplete||o.symbols.dot,t.close=t.close||"]",t.verbose=!1,e.on("start",function(){console.log(),a.hide()}),e.on("test end",function(){c++;var e=c/r,n=i*e|0,o=i-n;(u!==n||t.verbose)&&(u=n,a.CR(),s.stdout.write("[J"),s.stdout.write(l("progress","  "+t.open)),s.stdout.write(Array(n).join(t.complete)),s.stdout.write(Array(o).join(t.incomplete)),s.stdout.write(l("progress",t.close)),t.verbose&&s.stdout.write(l("progress"," "+c+" of "+r)))}),e.on("end",function(){a.show(),console.log(),n.epilogue()})}function r(){}var o=n("./base"),a=o.cursor,l=o.color;t=e.exports=i,o.colors.progress=90,r.prototype=o.prototype,i.prototype=new r,i.prototype.constructor=i}),e.register("reporters/spec.js",function(e,t,n){function i(e){function t(){return Array(i).join("  ")}s.call(this,e);var n=this,i=(this.stats,0),r=0;e.on("start",function(){console.log()}),e.on("suite",function(e){++i,console.log(a("suite","%s%s"),t(),e.title)}),e.on("suite end",function(e){--i,1==i&&console.log()}),e.on("pending",function(e){var n=t()+a("pending","  - %s");console.log(n,e.title)}),e.on("pass",function(e){if("fast"==e.speed){var n=t()+a("checkmark","  "+s.symbols.ok)+a("pass"," %s ");o.CR(),console.log(n,e.title)}else{var n=t()+a("checkmark","  "+s.symbols.ok)+a("pass"," %s ")+a(e.speed,"(%dms)");o.CR(),console.log(n,e.title,e.duration)}}),e.on("fail",function(e,n){o.CR(),console.log(t()+a("fail","  %d) %s"),++r,e.title)}),e.on("end",n.epilogue.bind(n))}function r(){}var s=n("./base"),o=s.cursor,a=s.color;t=e.exports=i,r.prototype=s.prototype,i.prototype=new r,i.prototype.constructor=i}),e.register("reporters/tap.js",function(e,t,n){function i(e){s.call(this,e);var t=(this.stats,1),n=0,i=0;e.on("start",function(){var t=e.grepTotal(e.suite);console.log("%d..%d",1,t)}),e.on("test end",function(){++t}),e.on("pending",function(e){console.log("ok %d %s # SKIP -",t,r(e))}),e.on("pass",function(e){n++,console.log("ok %d %s",t,r(e))}),e.on("fail",function(e,n){i++,console.log("not ok %d %s",t,r(e)),n.stack&&console.log(n.stack.replace(/^/gm,"  "))}),e.on("end",function(){console.log("# tests "+(n+i)),console.log("# pass "+n),console.log("# fail "+i)})}function r(e){return e.fullTitle().replace(/#/g,"")}var s=n("./base");s.cursor,s.color;t=e.exports=i}),e.register("reporters/xunit.js",function(e,t,i){function r(e){c.call(this,e);var t=this.stats,n=[];e.on("pending",function(e){n.push(e)}),e.on("pass",function(e){n.push(e)}),e.on("fail",function(e){n.push(e)}),e.on("end",function(){console.log(a("testsuite",{name:"Mocha Tests",tests:t.tests,failures:t.failures,errors:t.failures,skipped:t.tests-t.failures-t.passes,timestamp:(new h).toUTCString(),time:t.duration/1e3||0},!1)),n.forEach(o),console.log("</testsuite>")})}function s(){}function o(e){var t={classname:e.parent.fullTitle(),name:e.title,time:e.duration/1e3||0};if("failed"==e.state){var n=e.err;console.log(a("testcase",t,!1,a("failure",{},!1,l(d(n.message)+"\n"+n.stack))))}else e.pending?console.log(a("testcase",t,!1,a("skipped",{},!0))):console.log(a("testcase",t,!0))}function a(e,t,n,i){var r,s=n?"/>":">",o=[];for(var a in t)o.push(a+'="'+d(t[a])+'"');return r="<"+e+(o.length?" "+o.join(" "):"")+s,i&&(r+=i+"</"+e+s),r}function l(e){return"<![CDATA["+d(e)+"]]>"}var c=i("./base"),u=i("../utils"),d=u.escape,h=n.Date;n.setTimeout,n.setInterval,n.clearTimeout,n.clearInterval;t=e.exports=r,s.prototype=c.prototype,r.prototype=new s,r.prototype.constructor=r}),e.register("runnable.js",function(e,t,i){function r(e,t){this.title=e,this.fn=t,this.async=t&&t.length,this.sync=!this.async,this._timeout=2e3,this._slow=75,this._enableTimeouts=!0,this.timedOut=!1,this._trace=new Error("done() called multiple times")}function s(){}var o=i("browser/events").EventEmitter,a=i("browser/debug")("mocha:runnable"),l=i("./ms"),c=n.Date,u=n.setTimeout,d=(n.setInterval,n.clearTimeout),h=(n.clearInterval,Object.prototype.toString);e.exports=r,s.prototype=o.prototype,r.prototype=new s,r.prototype.constructor=r,r.prototype.timeout=function(e){return 0==arguments.length?this._timeout:(0===e&&(this._enableTimeouts=!1),"string"==typeof e&&(e=l(e)),a("timeout %d",e),this._timeout=e,this.timer&&this.resetTimeout(),this)},r.prototype.slow=function(e){return 0===arguments.length?this._slow:("string"==typeof e&&(e=l(e)),a("timeout %d",e),this._slow=e,this)},r.prototype.enableTimeouts=function(e){return 0===arguments.length?this._enableTimeouts:(a("enableTimeouts %s",e),this._enableTimeouts=e,this)},r.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title},r.prototype.clearTimeout=function(){d(this.timer)},r.prototype.inspect=function(){return JSON.stringify(this,function(e,t){return"_"!=e[0]?"parent"==e?"#<Suite>":"ctx"==e?"#<Context>":t:void 0},2)},r.prototype.resetTimeout=function(){var e=this,t=this.timeout()||1e9;this._enableTimeouts&&(this.clearTimeout(),this.timer=u(function(){e._enableTimeouts&&(e.callback(new Error("timeout of "+t+"ms exceeded")),e.timedOut=!0)},t))},r.prototype.globals=function(e){this._allowedGlobals=e},r.prototype.run=function(e){function t(e){s||(s=!0,o.emit("error",e||new Error("done() called multiple times; stacktrace may be inaccurate")))}function n(n){var i=o.timeout();if(!o.timedOut){if(r)return t(n||o._trace);o.clearTimeout(),o.duration=new c-a,r=!0,!n&&o.duration>i&&o._enableTimeouts&&(n=new Error("timeout of "+i+"ms exceeded")),e(n)}}function i(e){var t=e.call(l);t&&"function"==typeof t.then?(o.resetTimeout(),t.then(function(){n()},function(e){n(e||new Error("Promise rejected with no or falsy reason"))})):n()}var r,s,o=this,a=new c,l=this.ctx;if(l&&l.runnable&&l.runnable(this),this.callback=n,this.async){this.resetTimeout();try{this.fn.call(l,function(e){return e instanceof Error||"[object Error]"===h.call(e)?n(e):null!=e?n("[object Object]"===Object.prototype.toString.call(e)?new Error("done() invoked with non-Error: "+JSON.stringify(e)):new Error("done() invoked with non-Error: "+e)):void n()})}catch(u){n(u)}}else{if(this.asyncOnly)return n(new Error("--async-only option in use without declaring `done()`"));try{this.pending?n():i(this.fn)}catch(u){n(u)}}}}),e.register("runner.js",function(e,t,i){function r(e){var t=this;this._globals=[],this._abort=!1,this.suite=e,this.total=e.total(),this.failures=0,this.on("test end",function(e){t.checkGlobals(e)}),this.on("hook end",function(e){t.checkGlobals(e)}),this.grep(/.*/),this.globals(this.globalProps().concat(l()))}function o(){}function a(e,t){return h(t,function(t){if(/^d+/.test(t))return!1;if(n.navigator&&/^getInterface/.test(t))return!1;if(n.navigator&&/^\d+/.test(t))return!1;if(/^mocha-/.test(t))return!1;var i=h(e,function(e){return~e.indexOf("*")?0==t.indexOf(e.split("*")[0]):t==e});return 0==i.length&&(!n.navigator||"onerror"!==t)})}function l(){if("object"==typeof s&&"string"==typeof s.version){var e=s.version.split(".").reduce(function(e,t){return e<<8|t});if(2315>e)return["errno"]}return[]}var c=i("browser/events").EventEmitter,u=i("browser/debug")("mocha:runner"),d=(i("./test"),i("./utils")),h=d.filter,p=(d.keys,["setTimeout","clearTimeout","setInterval","clearInterval","XMLHttpRequest","Date"]);e.exports=r,r.immediately=n.setImmediate||s.nextTick,o.prototype=c.prototype,r.prototype=new o,r.prototype.constructor=r,r.prototype.grep=function(e,t){return u("grep %s",e),this._grep=e,this._invert=t,this.total=this.grepTotal(this.suite),this},r.prototype.grepTotal=function(e){var t=this,n=0;return e.eachTest(function(e){var i=t._grep.test(e.fullTitle());t._invert&&(i=!i),i&&n++}),n},r.prototype.globalProps=function(){for(var e=d.keys(n),t=0;t<p.length;++t)~d.indexOf(e,p[t])||e.push(p[t]);return e},r.prototype.globals=function(e){return 0==arguments.length?this._globals:(u("globals %j",e),this._globals=this._globals.concat(e),this)},r.prototype.checkGlobals=function(e){if(!this.ignoreLeaks){var t,n=this._globals,i=this.globalProps();e&&(n=n.concat(e._allowedGlobals||[])),this.prevGlobalsLength!=i.length&&(this.prevGlobalsLength=i.length,t=a(n,i),this._globals=this._globals.concat(t),t.length>1?this.fail(e,new Error("global leaks detected: "+t.join(", "))):t.length&&this.fail(e,new Error("global leak detected: "+t[0])))}},r.prototype.fail=function(e,t){++this.failures,e.state="failed","string"==typeof t&&(t=new Error('the string "'+t+'" was thrown, throw an Error :)')),this.emit("fail",e,t)},r.prototype.failHook=function(e,t){this.fail(e,t),this.suite.bail()&&this.emit("end")},r.prototype.hook=function(e,t){function n(e){var r=s[e];return r?o.failures&&i.bail()?t():(o.currentRunnable=r,r.ctx.currentTest=o.test,o.emit("hook",r),r.on("error",function(e){o.failHook(r,e)}),void r.run(function(i){r.removeAllListeners("error");var s=r.error();return s&&o.fail(o.test,s),i?(o.failHook(r,i),t(i)):(o.emit("hook end",r),delete r.ctx.currentTest,void n(++e))})):t()}var i=this.suite,s=i["_"+e],o=this;r.immediately(function(){n(0)})},r.prototype.hooks=function(e,t,n){function i(o){return r.suite=o,o?void r.hook(e,function(e){if(e){var o=r.suite;return r.suite=s,n(e,o)}i(t.pop())}):(r.suite=s,n())}var r=this,s=this.suite;i(t.pop())},r.prototype.hookUp=function(e,t){var n=[this.suite].concat(this.parents()).reverse();this.hooks(e,n,t)},r.prototype.hookDown=function(e,t){var n=[this.suite].concat(this.parents());this.hooks(e,n,t)},r.prototype.parents=function(){for(var e=this.suite,t=[];e=e.parent;)t.push(e);return t},r.prototype.runTest=function(e){var t=this.test,n=this;this.asyncOnly&&(t.asyncOnly=!0);try{t.on("error",function(e){n.fail(t,e)}),t.run(e)}catch(i){e(i)}},r.prototype.runTests=function(e,t){function n(e,i,r){var o=s.suite;s.suite=r?i.parent:i,s.suite?s.hookUp("afterEach",function(e,r){return s.suite=o,e?n(e,r,!0):void t(i)}):(s.suite=o,t(i))}function i(a,l){if(s.failures&&e._bail)return t();if(s._abort)return t();if(a)return n(a,l,!0);if(r=o.shift(),!r)return t();var c=s._grep.test(r.fullTitle());return s._invert&&(c=!c),c?r.pending?(s.emit("pending",r),s.emit("test end",r),i()):(s.emit("test",s.test=r),void s.hookDown("beforeEach",function(e,t){return e?n(e,t,!1):(s.currentRunnable=s.test,void s.runTest(function(e){return r=s.test,e?(s.fail(r,e),s.emit("test end",r),s.hookUp("afterEach",i)):(r.state="passed",s.emit("pass",r),s.emit("test end",r),void s.hookUp("afterEach",i))}))})):i()}var r,s=this,o=e.tests.slice();this.next=i,i()},r.prototype.runSuite=function(e,t){function n(t){if(t)return t==e?i():i(t);if(s._abort)return i();var r=e.suites[o++];return r?void s.runSuite(r,n):i()}function i(n){s.suite=e,s.hook("afterAll",function(){s.emit("suite end",e),t(n)})}var r=this.grepTotal(e),s=this,o=0;return u("run suite %s",e.fullTitle()),r?(this.emit("suite",this.suite=e),void this.hook("beforeAll",function(t){return t?i():void s.runTests(e,n)})):t()},r.prototype.uncaught=function(e){e?u("uncaught exception %s",e!==function(){return this}.call(e)?e:e.message||e):(u("uncaught undefined exception"),e=new Error("Caught undefined error, did you throw without specifying what?")),e.uncaught=!0;var t=this.currentRunnable;if(t){var n=t.state;if(this.fail(t,e),t.clearTimeout(),!n)return"test"==t.type?(this.emit("test end",t),void this.hookUp("afterEach",this.next)):void this.emit("end")}},r.prototype.run=function(e){function t(e){n.uncaught(e)}var n=this,e=e||function(){};return u("start"),this.on("end",function(){u("end"),s.removeListener("uncaughtException",t),e(n.failures)}),this.emit("start"),this.runSuite(this.suite,function(){u("finished running"),n.emit("end")}),s.on("uncaughtException",t),this},r.prototype.abort=function(){u("aborting"),this._abort=!0}}),e.register("suite.js",function(e,t,n){function i(e,t){this.title=e;var n=function(){};n.prototype=t,this.ctx=new n,this.suites=[],this.tests=[],this.pending=!1,this._beforeEach=[],this._beforeAll=[],this._afterEach=[],this._afterAll=[],this.root=!e,this._timeout=2e3,this._enableTimeouts=!0,this._slow=75,this._bail=!1}function r(){}var s=n("browser/events").EventEmitter,o=n("browser/debug")("mocha:suite"),a=n("./ms"),l=n("./utils"),c=n("./hook");t=e.exports=i,t.create=function(e,t){var n=new i(t,e.ctx);return n.parent=e,e.pending&&(n.pending=!0),t=n.fullTitle(),e.addSuite(n),n},r.prototype=s.prototype,i.prototype=new r,i.prototype.constructor=i,i.prototype.clone=function(){var e=new i(this.title);return o("clone"),e.ctx=this.ctx,e.timeout(this.timeout()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.bail(this.bail()),e},i.prototype.timeout=function(e){return 0==arguments.length?this._timeout:(0===e&&(this._enableTimeouts=!1),"string"==typeof e&&(e=a(e)),o("timeout %d",e),this._timeout=parseInt(e,10),this)},i.prototype.enableTimeouts=function(e){return 0===arguments.length?this._enableTimeouts:(o("enableTimeouts %s",e),this._enableTimeouts=e,this)},i.prototype.slow=function(e){return 0===arguments.length?this._slow:("string"==typeof e&&(e=a(e)),o("slow %d",e),this._slow=e,this)},i.prototype.bail=function(e){return 0==arguments.length?this._bail:(o("bail %s",e),this._bail=e,this)},i.prototype.beforeAll=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"before all" hook'+(e?": "+e:"");var n=new c(e,t);return n.parent=this,n.timeout(this.timeout()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._beforeAll.push(n),this.emit("beforeAll",n),this},i.prototype.afterAll=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"after all" hook'+(e?": "+e:"");var n=new c(e,t);return n.parent=this,n.timeout(this.timeout()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._afterAll.push(n),this.emit("afterAll",n),this},i.prototype.beforeEach=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"before each" hook'+(e?": "+e:"");var n=new c(e,t);return n.parent=this,n.timeout(this.timeout()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._beforeEach.push(n),this.emit("beforeEach",n),this},i.prototype.afterEach=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"after each" hook'+(e?": "+e:"");var n=new c(e,t);return n.parent=this,n.timeout(this.timeout()),n.enableTimeouts(this.enableTimeouts()),n.slow(this.slow()),n.ctx=this.ctx,this._afterEach.push(n),this.emit("afterEach",n),this},i.prototype.addSuite=function(e){return e.parent=this,e.timeout(this.timeout()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.bail(this.bail()),this.suites.push(e),this.emit("suite",e),this},i.prototype.addTest=function(e){return e.parent=this,e.timeout(this.timeout()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.ctx=this.ctx,this.tests.push(e),this.emit("test",e),this},i.prototype.fullTitle=function(){if(this.parent){var e=this.parent.fullTitle();if(e)return e+" "+this.title}return this.title},i.prototype.total=function(){return l.reduce(this.suites,function(e,t){return e+t.total()},0)+this.tests.length},i.prototype.eachTest=function(e){return l.forEach(this.tests,e),l.forEach(this.suites,function(t){t.eachTest(e)}),this}}),e.register("test.js",function(e,t,n){function i(e,t){s.call(this,e,t),this.pending=!t,this.type="test"}function r(){}var s=n("./runnable");e.exports=i,r.prototype=s.prototype,i.prototype=new r,i.prototype.constructor=i}),e.register("utils.js",function(e,t,n){function i(e){return!~h.indexOf(e)}function r(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew[ \t]+(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}var s=n("browser/fs"),o=n("browser/path"),a=o.basename,l=s.existsSync||o.existsSync,c=n("browser/glob"),u=o.join,d=n("browser/debug")("mocha:watch"),h=["node_modules",".git"];t.escape=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.forEach=function(e,t,n){for(var i=0,r=e.length;r>i;i++)t.call(n,e[i],i)},t.map=function(e,t,n){for(var i=[],r=0,s=e.length;s>r;r++)i.push(t.call(n,e[r],r));return i},t.indexOf=function(e,t,n){for(var i=n||0,r=e.length;r>i;i++)if(e[i]===t)return i;return-1},t.reduce=function(e,t,n){for(var i=n,r=0,s=e.length;s>r;r++)i=t(i,e[r],r,e);return i},t.filter=function(e,t){for(var n=[],i=0,r=e.length;r>i;i++){var s=e[i];t(s,i,e)&&n.push(s)}return n},t.keys=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t},t.watch=function(e,t){var n={interval:100};e.forEach(function(e){d("file %s",e),s.watchFile(e,n,function(n,i){i.mtime<n.mtime&&t(e)})})},t.files=function(e,n,r){r=r||[],n=n||["js"];var o=new RegExp("\\.("+n.join("|")+")$");return s.readdirSync(e).filter(i).forEach(function(i){i=u(e,i),s.statSync(i).isDirectory()?t.files(i,n,r):i.match(o)&&r.push(i)}),r},t.slug=function(e){return e.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")},t.clean=function(e){e=e.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,"").replace(/^function *\(.*\) *{|\(.*\) *=> *{?/,"").replace(/\s+\}$/,"");var n=e.match(/^\n?( *)/)[1].length,i=e.match(/^\n?(\t*)/)[1].length,r=new RegExp("^\n?"+(i?"	":" ")+"{"+(i?i:n)+"}","gm");return e=e.replace(r,""),t.trim(e)},t.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},t.parseQuery=function(e){return t.reduce(e.replace("?","").split("&"),function(e,t){var n=t.indexOf("="),i=t.slice(0,n),r=t.slice(++n);return e[i]=decodeURIComponent(r),e},{})},t.highlightTags=function(e){for(var t=document.getElementById("mocha").getElementsByTagName(e),n=0,i=t.length;i>n;++n)t[n].innerHTML=r(t[n].innerHTML)},t.stringify=function(e){return e instanceof RegExp?e.toString():JSON.stringify(t.canonicalize(e),null,2).replace(/,(\n|$)/g,"$1")},t.canonicalize=function(e,n){if(n=n||[],-1!==t.indexOf(n,e))return"[Circular]";var i;return"[object Array]"==={}.toString.call(e)?(n.push(e),i=t.map(e,function(e){return t.canonicalize(e,n)}),n.pop()):"object"==typeof e&&null!==e?(n.push(e),i={},t.forEach(t.keys(e).sort(),function(r){i[r]=t.canonicalize(e[r],n)}),n.pop()):i=e,i},t.lookupFiles=function p(e,t,n){var i=[],r=new RegExp("\\.("+t.join("|")+")$");if(!l(e)){if(!l(e+".js")){if(i=c.sync(e),!i.length)throw new Error("cannot resolve path (or pattern) '"+e+"'");return i}e+=".js"}try{var o=s.statSync(e);if(o.isFile())return e}catch(d){return}return s.readdirSync(e).forEach(function(o){o=u(e,o);try{var l=s.statSync(o);if(l.isDirectory())return void(n&&(i=i.concat(p(o,t,n))))}catch(c){return}l.isFile()&&r.test(o)&&"."!==a(o)[0]&&i.push(o)}),i}});var n=function(){return this}(),i=n.Date,r=n.setTimeout,s=(n.setInterval,n.clearTimeout,n.clearInterval,{});s.exit=function(e){},s.stdout={};var o=[],a=n.onerror;s.removeListener=function(e,t){if("uncaughtException"==e){a?n.onerror=a:n.onerror=function(){};var i=l.utils.indexOf(o,t);-1!=i&&o.splice(i,1)}},s.on=function(e,t){"uncaughtException"==e&&(n.onerror=function(e,n,i){return t(new Error(e+" ("+n+":"+i+")")),!0},o.push(t))};var l=n.Mocha=e("mocha"),c=n.mocha=new l({reporter:"html"});c.suite.removeAllListeners("pre-require");var u,d=[];l.Runner.immediately=function(e){d.push(e),u||(u=r(t,0))},c.throwError=function(e){throw l.utils.forEach(o,function(t){t(e)}),e},c.ui=function(e){return l.prototype.ui.call(this,e),this.suite.emit("pre-require",n,null,this),this},c.setup=function(e){"string"==typeof e&&(e={ui:e});for(var t in e)this[t](e[t]);return this},c.run=function(e){var t=c.options;c.globals("location");var i=l.utils.parseQuery(n.location.search||"");return i.grep&&c.grep(i.grep),i.invert&&c.invert(),l.prototype.run.call(c,function(i){var r=n.document;r&&r.getElementById("mocha")&&t.noHighlighting!==!0&&l.utils.highlightTags("code"),e&&e(i)})},l.process=s}();