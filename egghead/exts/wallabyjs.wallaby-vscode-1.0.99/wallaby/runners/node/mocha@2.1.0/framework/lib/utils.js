/*
 * Wallaby.js - v1.0.613
 * http://wallabyjs.com
 * Copyright (c) 2014-2018 Wallaby.js - All Rights Reserved.
 *
 * This source code file is a part of Wallaby.js and is a proprietary (closed source) software.

 * IMPORTANT:
 * Wallaby.js is a tool made by software developers for software developers with passion and love for what we do.
 * Pirating the tool is not only illegal and just morally wrong,
 * it is also unfair to other fellow programmers who are using it legally,
 * and very harmful for the tool and its future.
 */
function ignored(e){return!~ignore.indexOf(e)}function highlight(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew[ \t]+(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}var fs=require("fs"),path=require("path"),basename=path.basename,exists=fs.existsSync||path.existsSync,glob=require("glob"),join=path.join,debug=require("debug")("mocha:watch"),ignore=["node_modules",".git"];exports.escape=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},exports.forEach=function(e,t,n){for(var i=0,r=e.length;r>i;i++)t.call(n,e[i],i)},exports.map=function(e,t,n){for(var i=[],r=0,s=e.length;s>r;r++)i.push(t.call(n,e[r],r));return i},exports.indexOf=function(e,t,n){for(var i=n||0,r=e.length;r>i;i++)if(e[i]===t)return i;return-1},exports.reduce=function(e,t,n){for(var i=n,r=0,s=e.length;s>r;r++)i=t(i,e[r],r,e);return i},exports.filter=function(e,t){for(var n=[],i=0,r=e.length;r>i;i++){var s=e[i];t(s,i,e)&&n.push(s)}return n},exports.keys=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t},exports.watch=function(e,t){var n={interval:100};e.forEach(function(e){debug("file %s",e),fs.watchFile(e,n,function(n,i){i.mtime<n.mtime&&t(e)})})},exports.files=function(e,t,n){n=n||[],t=t||["js"];var i=new RegExp("\\.("+t.join("|")+")$");return fs.readdirSync(e).filter(ignored).forEach(function(r){r=join(e,r),fs.statSync(r).isDirectory()?exports.files(r,t,n):r.match(i)&&n.push(r)}),n},exports.slug=function(e){return e.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")},exports.clean=function(e){e=e.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,"").replace(/^function *\(.*\) *{|\(.*\) *=> *{?/,"").replace(/\s+\}$/,"");var t=e.match(/^\n?( *)/)[1].length,n=e.match(/^\n?(\t*)/)[1].length,i=new RegExp("^\n?"+(n?"	":" ")+"{"+(n?n:t)+"}","gm");return e=e.replace(i,""),exports.trim(e)},exports.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},exports.parseQuery=function(e){return exports.reduce(e.replace("?","").split("&"),function(e,t){var n=t.indexOf("="),i=t.slice(0,n),r=t.slice(++n);return e[i]=decodeURIComponent(r),e},{})},exports.highlightTags=function(e){for(var t=document.getElementById("mocha").getElementsByTagName(e),n=0,i=t.length;i>n;++n)t[n].innerHTML=highlight(t[n].innerHTML)};var emptyRepresentation=function(e,t){switch(t=t||exports.type(e)){case"function":return"[Function]";case"object":return"{}";case"array":return"[]";default:return e.toString()}};exports.type=function(e){return"undefined"!=typeof Buffer&&Buffer.isBuffer(e)?"buffer":Object.prototype.toString.call(e).replace(/^\[.+\s(.+?)\]$/,"$1").toLowerCase()},exports.stringify=function(e){var t,n=exports.type(e);if("null"===n||"undefined"===n)return"["+n+"]";if("date"===n)return"[Date: "+e.toISOString()+"]";if(!~exports.indexOf(["object","array","function"],n))return e.toString();for(t in e)if(e.hasOwnProperty(t))return JSON.stringify(exports.canonicalize(e),null,2).replace(/,(\n|$)/g,"$1");return emptyRepresentation(e,n)},exports.isBuffer=function(e){return"undefined"!=typeof Buffer&&Buffer.isBuffer(e)},exports.canonicalize=function(e,t){var n,i,r=exports.type(e),s=function(e,n){t.push(e),n(),t.pop()};if(t=t||[],-1!==exports.indexOf(t,e))return"[Circular]";switch(r){case"undefined":n="[undefined]";break;case"buffer":case"null":n=e;break;case"array":s(e,function(){n=exports.map(e,function(e){return exports.canonicalize(e,t)})});break;case"date":n="[Date: "+e.toISOString()+"]";break;case"function":for(i in e){n={};break}if(!n){n=emptyRepresentation(e,r);break}case"object":n=n||{},s(e,function(){exports.forEach(exports.keys(e).sort(),function(i){n[i]=exports.canonicalize(e[i],t)})});break;case"number":case"boolean":n=e;break;default:n=e.toString()}return n},exports.lookupFiles=function e(t,n,i){var r=[],s=new RegExp("\\.("+n.join("|")+")$");if(!exists(t)){if(!exists(t+".js")){if(r=glob.sync(t),!r.length)throw new Error("cannot resolve path (or pattern) '"+t+"'");return r}t+=".js"}try{var o=fs.statSync(t);if(o.isFile())return t}catch(a){return}return fs.readdirSync(t).forEach(function(o){o=join(t,o);try{var a=fs.statSync(o);if(a.isDirectory())return void(i&&(r=r.concat(e(o,n,i))))}catch(l){return}a.isFile()&&s.test(o)&&"."!==basename(o)[0]&&r.push(o)}),r},exports.undefinedError=function(){return new Error("Caught undefined error, did you throw without specifying what?")},exports.getError=function(e){return e||exports.undefinedError()};