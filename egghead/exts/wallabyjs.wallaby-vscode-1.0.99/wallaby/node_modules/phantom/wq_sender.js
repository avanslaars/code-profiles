// Generated by CoffeeScript 1.7.1
(function() {
  var dnode, http, onSignal, phanta, shoe, spawn, startPhantomProcess, wrap,
    __slice = [].slice;

  dnode = require('dnode');

  http = require('http');

  shoe = require('shoe');

  spawn = require('win-spawn');

  phanta = [];

  startPhantomProcess = function(binary, port, hostname, args) {
    return spawn(binary, args.concat([__dirname + '/shim.js', port, hostname]));
  };

  onSignal = function() {
    var phantom, _i, _len;
    for (_i = 0, _len = phanta.length; _i < _len; _i++) {
      phantom = phanta[_i];
      phantom.exit();
    }
    return process.exit();
  };

  process.on('exit', function() {
    var phantom, _i, _len, _results;
    _results = [];
    for (_i = 0, _len = phanta.length; _i < _len; _i++) {
      phantom = phanta[_i];
      _results.push(phantom.exit());
    }
    return _results;
  });

  process.on('SIGINT', onSignal);

  process.on('SIGTERM', onSignal);

  wrap = function(ph) {
    ph.callback = function(fn) {
      return '__phantomCallback__' + fn.toString();
    };
    ph._createPage = ph.createPage;
    return ph.createPage = function(cb) {
      return ph._createPage(function(page) {
        page._evaluate = page.evaluate;
        page.evaluate = function() {
          var args, cb, fn;
          fn = arguments[0], cb = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
          return page._evaluate.apply(page, [fn.toString(), cb].concat(args));
        };
        page._onResourceRequested = page.onResourceRequested;
        page.onResourceRequested = function() {
          var args, cb, fn;
          fn = arguments[0], cb = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
          return page._onResourceRequested.apply(page, [fn.toString(), cb].concat(args));
        };
        return cb(page);
      });
    };
  };

  module.exports = {
    create: function() {
      var arg, args, cb, httpServer, key, options, phantom, ps, sock, value, _i, _len, _ref;
      args = [];
      options = {};
      for (_i = 0, _len = arguments.length; _i < _len; _i++) {
        arg = arguments[_i];
        switch (typeof arg) {
          case 'function':
            cb = arg;
            break;
          case 'string':
            args.push(arg);
            break;
          case 'object':
            options = arg;
        }
      }
      if (typeof options.parameters === 'object') {
        _ref = options.parameters;
        for (key in _ref) {
          value = _ref[key];
          args.push('--' + key + '=' + value);
        }
      }
      if (options.path == null) {
        options.path = '';
      }
      if (options.binary == null) {
        options.binary = options.path + 'phantomjs';
      }
      if (options.port == null) {
        options.port = 0;
      }
      if (options.hostname == null) {
        options.hostname = 'localhost';
      }
      if (options.dnodeOpts == null) {
        options.dnodeOpts = {};
      }
      ps = null;
      phantom = null;
      httpServer = http.createServer();
      httpServer.listen(options.port, options.hostname);
      httpServer.on('listening', function() {
        var hostname, port;
        port = httpServer.address().port;
        hostname = httpServer.address().address;
        ps = startPhantomProcess(options.binary, port, hostname, args);
        ps.stdout.on('data', options.onStdout || function(data) {
          return console.log("phantom stdout: " + data);
        });
        ps.stderr.on('data', options.onStderr || function(data) {
          return module.exports.stderrHandler(data.toString('utf8'));
        });
        ps.on('error', function(err) {
          httpServer.close();
          if ((err != null ? err.code : void 0) === 'ENOENT') {
            return console.error("phantomjs-node: You don't have 'phantomjs' installed");
          } else {
            throw err;
          }
        });
        return ps.on('exit', function(code, signal) {
          var p;
          httpServer.close();
          if (phantom) {
            if (typeof phantom.onExit === "function") {
              phantom.onExit();
            }
            phanta = (function() {
              var _j, _len1, _results;
              _results = [];
              for (_j = 0, _len1 = phanta.length; _j < _len1; _j++) {
                p = phanta[_j];
                if (p !== phantom) {
                  _results.push(p);
                }
              }
              return _results;
            })();
          }
          if (options.onExit) {
            return options.onExit(code, signal);
          } else {
            console.assert(signal == null, "signal killed phantomjs: " + signal);
            return console.assert(code === 0, "abnormal phantomjs exit code: " + code);
          }
        });
      });
      sock = shoe(function(stream) {
        var d;
        d = dnode({}, options.dnodeOpts);
        d.on('remote', function(phantom) {
          wrap(phantom);
          phantom.process = ps;
          phanta.push(phantom);
          return typeof cb === "function" ? cb(phantom) : void 0;
        });
        d.pipe(stream);
        return stream.pipe(d);
      });
      return sock.install(httpServer, '/dnode');
    },
    stderrHandler: function(message) {
      if (message.match(/(No such method.*socketSentData)|(CoreText performance note)/)) {
        return;
      }
      return console.warn("phantom stderr: " + message);
    }
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,IWZ1bmN0aW9uIGUodCxuLGkpe2Z1bmN0aW9uIHIobyxhKXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBsPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZsKXJldHVybiBsKG8sITApO2lmKHMpcmV0dXJuIHMobywhMCk7dmFyIGM9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbysiJyIpO3Rocm93IGMuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsY312YXIgdT1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwodS5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHIobj9uOmUpfSx1LHUuZXhwb3J0cyxlLHQsbixpKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBzPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO21vZHVsZS5leHBvcnRzPXIoaVswXSl9KHsxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWdsb2JhbC5EYXRlO2lmKCJmdW5jdGlvbiBEYXRlKCkgeyBbbmF0aXZlIGNvZGVdIH0iIT09aS50b1N0cmluZygpfHwiZnVuY3Rpb24gdG9TdHJpbmcoKSB7IFtuYXRpdmUgY29kZV0gfSIhPT1pLnRvU3RyaW5nLnRvU3RyaW5nKCkpcmV0dXJuIHZvaWQodC5leHBvcnRzPXtjcmVhdGU6ZnVuY3Rpb24oKXt9fSk7dmFyIHI9ZSgicGF0aCIpLHM9ZnVuY3Rpb24odCl7dmFyIG4saT1lKCIuL2V4dGVuc2lvbi91aS9zZXJ2aWNlIik7aWYodC5fbW9kZWwpbj10Ll9tb2RlbDtlbHNle3ZhciByPWUoIi4vZXh0ZW5zaW9uL3NlcnZlci9tb2RlbCIpO249bmV3IHIoe2ZpbGVJZEJ5UGF0aDpmdW5jdGlvbihlKXtyZXR1cm4gdC5pZEJ5UGF0aChlKX0scHJvamVjdDp0fSl9dC5fdWlTZXJ2aWNlPW5ldyBpKG4pLHQuX3VpU2VydmljZS5vbigibWVzc2FnZSIsZnVuY3Rpb24oZSl7cmV0dXJuIm5hdmlnYXRpb25SZXF1ZXN0ZWQiPT09ZS50eXBlJiZ0LmVtaXQoIm1lc3NhZ2UiLGUpfSl9O3QuZXhwb3J0cz17Y3JlYXRlOmZ1bmN0aW9uKHQsbil7aWYobil7aWYodC5leHBpcnlEYXRlKXRyeXt2YXIgbz10LmV4cGlyeURhdGUuc3BsaXQoIi0iKSxhPW5ldyBpKG9bMV0rIi8iK29bMF0rIi8iK29bMl0pO2Euc2V0RGF0ZShhLmdldERhdGUoKSsxKTt2YXIgbD1uZXcgaSgxNTM2MDMzMzIyMjM3KTtpZihsLnNldEhvdXJzKDAsMCwwLDApLGw+YSlyZXR1cm4gUS5yZWplY3Qoe21lc3NhZ2U6Ii4vZXNuZWNpbC9tb2Muc2p5YmFsbGF3Ly86c3B0dGggOmVzbmVjaWwgcnVveSBlZGFyZ3B1IG90IGV0aXNiZXcgcnVvIHRpc2l2IGVzYWVsUFxuLmVzbmVjaWwgdG5lcnJ1YyBydW95IHliIGRlcmV2b2MgdG9uIHNpIG5vaXNyZXYgZXJvYyBzai55YmFsbGF3IGRlbGxhdHNuaSBlaFQiLnNwbGl0KCIiKS5yZXZlcnNlKCkuam9pbigiIiksbm9EZXRhaWxzOiEwfSl9Y2F0Y2goYyl7fXMobik7dmFyIHU9ZSgiLi9leHRlbnNpb24vc2VydmVyL211bHRpY2FzdGVyIiksZD0yZTM7aWYodC5saWNlbnNlJiZ0LmxpY2Vuc2UhPT1uLl93YWxsYWJ5RW1haWwpe3ZhciBoPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dS5lbWl0KCJsaWNlbnNlLnVzZSIsdC5saWNlbnNlKX0sZCk7dS5vbigibGljZW5zZS51c2UiLGZ1bmN0aW9uKGUsaSl7dC5saWNlbnNlJiZlJiZ0LmxpY2Vuc2U9PT1lJiZuLl9lbWl0KHt0eXBlOiJsaWNlbnNlQ29sbGlzaW9uIixhZGRyZXNzOml9KX0pLG4uX211bHRpY2FzdGVyPXtzdG9wOmZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChoKSx1LnN0b3AoKX19fXJldHVybiB0LmxpY2Vuc2U/US53aGVuKCEwKTpuLl9maWxlU3RhdFByb21pc2Uoci5kaXJuYW1lKG4uX3BoYW50b21qcykpWyJjYXRjaCJdKGZ1bmN0aW9uKCl7cmV0dXJuIFEud2hlbih7fSl9KS50aGVuKGZ1bmN0aW9uKGUpe2lmKGUmJmUubXRpbWUpe3ZhciB0PWUubXRpbWU7aWYodC5zZXREYXRlKGUubXRpbWUuZ2V0RGF0ZSgpKzMwKSxuZXcgaT50KXJldHVybiBRLnJlamVjdCh7bWVzc2FnZToibW9jLnNqeWJhbGxhd0BvbGxlaCB0YSBsaWFtZSBhaXYgc3UgdGNhdG5vYyBlc2FlbHAgLG1hZXQgcnVveSBybyBmbGVzcnVveSByb2YgZG9pcmVwIGxhaXJ0IHJlZ25vbCBhIGVnbmFycmEgb3QgZWtpbCBkbHVvdyB1b3kgZklcbi5lc25lY2lsIGEgZXNhaGNydXAgb3QgZXNhaGNydXAvbW9jLnNqeWJhbGxhdy8vOnB0dGggdGEgZXRpc2JldyBydW8gdGlzaXYgZXNhZWxwICx0Y2Vqb3JwIGVodCB0cm9wcHVzIGRuYSB0aSBnbmlzdSBldW5pdG5vYyBvdCBla2lsIGRsdW93IHVveSBkbmEgLHl0aXZpdGN1ZG9ycCBydW95IGRlc2FlcmNuaSBzYWggc2oueWJhbGxhdyBmSVxuLnR1byB0aSBnbml5cnQgcm9mIHNrbmFodCAscmV2byBzaSBkb2lyZXAgbGFpcnQgc2oueWJhbGxhdyBydW9ZIi5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpLG5vRGV0YWlsczohMH0pfXJldHVybiBRLndoZW4oITApfSl9cmV0dXJuIGUoIi4vZXh0ZW5zaW9uL2NvcmUiKX19fSx7Ii4vZXh0ZW5zaW9uL2NvcmUiOjIsIi4vZXh0ZW5zaW9uL3NlcnZlci9tb2RlbCI6MTAsIi4vZXh0ZW5zaW9uL3NlcnZlci9tdWx0aWNhc3RlciI6MTEsIi4vZXh0ZW5zaW9uL3VpL3NlcnZpY2UiOjE2LHBhdGg6dm9pZCAwfV0sMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX07cmV0dXJuIGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1lKHQsbiksdC5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKSxyPWdsb2JhbC5EYXRlO2lmKCJmdW5jdGlvbiBEYXRlKCkgeyBbbmF0aXZlIGNvZGVdIH0iIT09ci50b1N0cmluZygpfHwiZnVuY3Rpb24gdG9TdHJpbmcoKSB7IFtuYXRpdmUgY29kZV0gfSIhPT1yLnRvU3RyaW5nLnRvU3RyaW5nKCkpcmV0dXJuIHZvaWQodC5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKSk7dmFyIHMsbz1lKCJjcnlwdG8iKSxhPWUoInRpbWVycyIpLnNldFRpbWVvdXQsbD1lKCJ0aW1lcnMiKS5jbGVhclRpbWVvdXQsYz1lKCIuL3NlcnZlci9maWxlU3lzdGVtIiksdT1lKCIuL3NlcnZlci9tb2RlbCIpLGQ9ZSgiLi9zaGFyZWQvdXRpbHMiKSxoPTZlNSxwPTdlMyxmPTUseT0iYWN0aXZhdGUtbGluayIsZz0iY29udGludWUtdHJpYWwtbGluayIsdj0iRnJlZWRvbSIsbT17QXRvbToiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBcXlkUUJacGU0dlBtV3ZIMnlyaUhcbjhmL0Jtb2txY2xEcUpOSlVDb1YrUlFhdzE2cnQvaTNrUlVVSHFZWFYxb3p4UHZRc056QXBQcmFwKzIxTXFWVFRcbmd6cFNKQjZIbmhZYWJBT01haHV2emFabHh0RVVWQW9kWndHWG43YmRETDZ0YjdXSWpvaGhHbXlmc0RLdisycGlcblZWbkJQK3FHUlh0dGF0TnlLazBtVE9mYlViODBtc3E2UzNNbmZoTThTdU9vODMreFkvdFo1aVBHd3pqMTFiU0ZcbnR2a2JNQWNYM1ljS2hvRlJteThLZ0R1T3hqUThtZTgyRHk2U2dzaGxzYWU4LzJTTlZ6MGlNY2dDSVRBU1hPdVhcbjBGMFFGQ3JlanhYVFR6Z2g3VEJlOWE0eDUxaVlLTWZNMXdxcVhoVi8zeWNzekhacndHRWY4RmNvNzNMV3Rmb21cbkh3SURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0iLFZTQ29kZToiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBd2YwUm42cmdGTVZOdWFlZzNLZzlcbmtqTE5VVDhaMmZuSXJqVWhER004RlM3bzVrNE5UMUZkem5xc29CcHJMZHJMUmRrTXpqSDhJUHJyRVU1cktpV2xcblZPMGlLVTdRN0FtTWZBVFN0ZXp2ZnlzMEFBbCtvM2Yva1FpU1p4RDJVNVAvSzM4a2xZcHdmOUw4TU10aEFlRUZcbnk0eHpBNWVCdVB6QmRSSHh2VXdVcWhDQjlvNzNaNE1heEhucmF6NWh4MGY2YWdFZExWVTZYc05rbzV3WG44Wk5cblA2QmJrT09tL0hnVThLa1d1SmJVNTh5Z1h4UGYvZm5aSHUyZ3R2cnovck5lbW9YWTFmRHlkaXpOeER5K1pQZ1Bcbml3ZVNkcW5MaGxGb0pFdXhuSXdvUGxZTTdKd0toM0ppaE96QXFRUTVVNUprTTVlL21GUS9sRnFDVnhNbG1CUVdcblZ3SURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0iLFN1YmxpbWU6Ii0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tXG5NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXUxRUVEWnpRKytsNnR6MmlvQ1BhXG5IeE9TY2p5MmtSRGRQb1h1UTg4elpHNlZldnhxbUl6YWRIUEZHalY1cDNabThPWTlSK1NmNjFrZHpSWnp2V1JnXG54b3JsYW5vT2x1dHZmQmZHMmxrdjJKNEgvQjc1WHBvQWVHdmR2SWxPTW9EeGZ3ajJ2TUlRNG9ITmFDSjJ5K08vXG5pb2hURk9DMDduWTd1ZjJzYTB1c09BWjd6ZytiWHl6NjMvZnVTZVZvdUZDS0dlWUt2cTFZQzk5MUYySGowVGhNXG54eGVsbGM2eDFBYUZ1eXlHNUhtZFlxYnVLTlMraUF0N3c4cFlUSm9YeGk5akUwMjE0R2Ywc2JzRm5BYkJGajJzXG5rT2FlZTRQU3BseVNaWEVtWVJlcFAxK3c2YURrdWJWdHNITXZGdCtBcjR3dTRkTHVBajdTOHl4VlZyS0VHOVJ6XG40d0lEQVFBQlxuLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tIixGcmVlZG9tOiItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUE0cERvdGVqdHpoaVQvbHBOZmQwSFxuMkR2MDhOVFNKOC9peHVRejNpSmlWUnhRa290NVNuNDV3dTRRaVFFb1k1TlEvdERmOFY5bURlZVBOVS9aZDhLWVxuZHlSRm9xNmJ3T2xIYzBIQWE1MHRlY1JDRUNFU0IrdDNUVmNxTE1vZ1gzMnZnUWtTbWx5MHNGeHRHRkJqTjhXeFxuVitRN1dROG5lZnQ3SkthWHRtKzJGdDdQNDFvbmQrU2ZCZVRvaDltbjlERmZ0K091STJ2ejdzME9TamQrUDJid1xuK0dFSXIzb3RsM0NBNVJySUg5V1JzQVZqYXd2K3o1THZha1FYdE82Sk5ObUpnRXJIV1pta0JJbHYyVkhEc29TZFxuTUxnYTJqVGlFSHJrWnlsS1BGb3ovaE9kaC9pVkg0L3IxQVd4QmhqOElnUWxSY0xKZ3ZTQnpKbzRPbEJobFloNlxueHdJREFRQUJcbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLSJ9LFQ9eyJRMGRDSUVWdWRHVnljSEpwYzJWeklDTnlZWEo2TkFwa2FXNWhhQzV3YkdGdVkyaGhjbVJBWTJkaUxtTnZiU3hYWVd4c1lXSjVMbXB6SUdOdmJYQmhibmtnYkdsalpXNXpaU0FvVmxNZ1EyOWtaU2tLTVRFdk1EVXZNakF4TndwT1QyWlVhRFpXTlV4R1luVkZTVTV6YlV4WVJUSjNPVk16TVRaalNIaGxWVnBHVFdKRGNETTNSaXQwUjNKc1RGRndibHBEYjFaRlFucERUVU5RZGpaRWFUUldNVEZMVUU1TVNHbDRaR2QzY2tOR2VEaFBVRkJPTmpRNGMycEpNWHBXVFVsMFRYQnJSSFJpTHl0TGR6UjZNbUpTU1VGMmNFbDJaeXQ0UjA1dlExSXpWME5PU1RsaFdXVTFWWEIzVVVGM2RHRjJhMmRpVTA5a2RIZEdhbTFKTDIxcFV6QlhObXBYWVVkMVRuUkNSM1ZrUlZOVmNtcE5NRlJsTTNSalJsQkRUVlIzTUZKWU5YbHBTWEpzWlZOa1FrcFZlRTlUV2t4VGNHWXdaMncxWVZrclRYTkxWVGs0ZEhwTmFsVjFjMnRHWkdzM1NYWnFWRTFsUTB0TWIxcDZkMmgzTVhSTE1XMTFjRkJPYlVOaVZVZDFhMU1yZDFSVlJsSldVRUZ2YkVOelZIcEhMMUpFUldoV2QyTkxaa3dyT0M5eVIwMTFVVUpyTkZaNFp6WkNjbnBwT0hvNVdVcE1SSFpzYTJoa2NrRk9ka0ZYWm5jOVBRPT0iOjEsUVcxaGVtOXVJRU52Y25CdmNtRjBaU0JNVEVNZ0kzaGhaVGwyQ21Gc1pYaGZjMk5vYVdOcmJHbHVaMEJ6YUdrdVkyOXRMRmRoYkd4aFlua3Vhbk1nWTI5dGNHRnVlU0JzYVdObGJuTmxJQ2hCZEc5dEtRb3lOeTh3TkM4eU1ERTNDa1ZqU0d0MksxaHJlVzVqZUZKRVdWZEZVRkZpYnpkWVZteHFVRVEzVkc0d2VqQndlbTFFWlNzM2IyNVBWWEJuWVRWQmMydExTVEF5Y2tSVVdTdEZLMlJXTkM5cEwyWmhXRzR3ZGxGcWRFSjNOMFZTYTNkTU0zZFhWVEZOZUhKNE5VMW9hSE51ZGxveVNqTk1ZM0JxYjJsMU1sUkthR3hpVUhsSk1YWldSeTlHUVU0M1dEVnRWMFZzZFhKdVVsRkhhbGRCY0ZkT1UwTkNMMlk0VUdabFpGVmliVU51YVM5elpXNU5PRGxSVG5JcldETTBaekJqYWpkYVExRXpXVmgyYnpkMFMwMXdNMUZyZDI1UGVVaG9lVEJ0TkN0MWFUaFlaRXBZUms4NFV6UnFXRk5QU0VrdmVpdHlOVE15VjBFdlNVRkxlVXR0TTFnMFZXbFRXbWxNVkhOTWRrWTFOVVppUjJreFNsWXhZV3hQZVVaclJIQldUbmg0U2pKTFVVUlBNbmxGTTI4clkybHNZbFk0TW10VGR5c3hkRVpzTHpadE4yeHViM2RoTTBOSVdtdE9kVmhZZWxkRkwwdzNPVUV3UjBoaU9FWnhaejA5OjEsIlNuVnpkR2x1SUV4bFpHOTFlQXBxZFhOMGFXNHViR1ZrYjNWNFFHcDFjM1JwYm5kbFlpNXdjbThzVjJGc2JHRmllUzVxY3lCd1pYSnpiMjVoYkNCc2FXTmxibk5sSUNoVGRXSnNhVzFsSUZSbGVIUXBDakEyTHpBMkx6SXdNVGNLYjJvNWRFRlJZVXR2UTBkYVRHeHRZV2R4WlU0elZFVkNWVzl3VVRGeGNHTlBVa2xqTUhkblZqVXJWRVF6TkU1aGFFZFFWV2hYYUZWU1lTOWFkSHBzTjBWYWIzVjBNelpqWlZKMFRVY3lVa3d3SzJsYU4wWmxZMk5TVm5neVZUUk5iVTl0U0dwT2JFRlhaa050S3pBNGREWlZkMmszUVM5T2QwOVRja2x1TWtSV1dUWnlWMDlqVFdsRlNsazRhV0paWlhwblFWZDFkRGNyVjBFdlRrWXhWMDExWkVjdmVsZG5kVmRQTlRsMVFXRlFlRWQwUm5SWlRqZEJUemRTV2tSRGJHRnliM0lyUzA5TlRtZHpXalF2WW1NMk5FTm1Uak40ZFdZeVJFOWtUakJJTjI4MlZVcExhMDFLYVVOd1pHTkZUWGxUTTFaMVNGSnNSVlprVlUxcU0ycGxabE5sUTAxR1JtRmliSEJYTUZselEyVkNRVFUzV2xOM1dYQklLMDVLTldrcmExbGtNM1pqYkN0emMxRlJlVlJITld4WlVpdGlNbkZXV0RWRVdsVlZUWFYwTUZkVVRYWXJNMGhLUW5wTmNGTnVUalozUFQwPSI6MSwiVUdGMWJDQkpjbWx6YUFwd1lYVnNMbWx5YVhOb1FHZHRZV2xzTG1OdmJTeFhZV3hzWVdKNUxtcHpJSEJsY25OdmJtRnNJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakF4THpBM0x6SXdNVGNLY1c1eVdHZHRZM1JVSzJRNFFVVTNNRWx2TVZWUmJ5czNTR3hvVGtWdGNVaFVWbk5wY21KWlZDdDZNamhMVGpWd2RUWjZhV1k1UWtkSE4wUlpNRk4yZW14QlQwTlFlWEphVG5vemIzaEpPVU51ZDFsVU1tWmhSR001ZUdwaVVteG1ZbXB3TURsVlRUQmlOMjl5TURWeldFWkhNa3N6U0ZWbVkzWk5Oa000YUcwNWRWbHlaV2xYTkV0TU1Xd3dSVE5HZFVob1pYaDFSM2x2Wm1GQ2RXNUdNakYxWTBWaWNWY3hTRXh1Y0hWRGJFNHJLelJvWWl0VlowaFdiWGhMZWpVM1R6QjJUbFZsVEdzcmFuRlVWU3RDUlUxWWVrNU5ZMWxMVlZGNmIwZHhNRlF3YzFvdldtNTFaMDE1VmpKU1VXeFFlRzFVYUcxblIzaEVTU3RSVVRKNmNYZHBSMjFSZVdGelNGUkxhVFZXUjJ0UVdEWldhbFZsTUdOVmNrVlFMMEp0TkM5V2RYZG9iVmRxUldWU1REWjBiMDQ1TkhwdlJXRmxVRU5KSzNsdVFuZEdUekZMZGtSM2IzWTJaa2xZTURKaGJ6SnRka3QzUFQwPSI6MSwiVkc5aWFXRnpJRUZ1WkdWeWMyVnVDblJ2WW1saGMwQXliV2x1WkM1a2F5eFhZV3hzWVdKNUxtcHpJSEJsY25OdmJtRnNJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakF5THpBNUx6SXdNVGNLWWpOMlRUaG5Sbk51YUhkeE9HVXJablV5ZUhWd1ZVVmlUa3hYYzFOV1VqSjBZbVZUUkhWTVRHcEpOME41UTI1UldFOTZkMlZvTDBSUEwyUk1OaXMyZGs5WVZ6ZGFVMUEzVFM5RFQzWXhlbmR0TDFkNlNFWXhWMHRLWlZOWmNsZHZWRmRZTkRsbVNFSldURTlNVG1KRmQwNUllVmgwTTBSM1dubDFhMlprUVVKVlUxbFZRMkYwYXpCMk9HRnhjRzUwTkRrMkwxUlZWRWRuV1haRmFrNUpTMjlhTWs1WE5IUnlTa0o1UXpjdksyZ3lTMHhFVTFOeFkyZG9ZV3BqUVN0YVkwVjZOelpPYjNKQlNtNHJOV05FUjJKTlVHOVpZMjgyY0ZscllYaDNjaXRRYTB0d1ZFSm9jblU0V0hSVVZIbDRlRlpaTURBeFNtSldibWxWTjNaUVltVlhXVmhqUlROblZuUnRjVkUwWmpOTGMyTldaVGhFY2pZd1l6WnBTVW8xSzNaclVGTTNMelJyUmxNMFMwNUNSVmxSWTFWeEwzRmlPVTVvVmtONVVWRlVhR0ZGWTBkcmJrMVBkRTFsVUdOM2RXRkxTVXhCUFQwPSI6MSwiVjJsdUlGUmxZMmh1YjJ4dloybGxjeUFvVlVzcElFeDBaQ0FqZG5kdWRXa0tjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pBM0x6RXdMekl3TVRjS1F6aDBaWHBQZUZsbGIxRklhMjFUT1U5NFNEWmlNM1IwYzNkalJ6WndXakp5YVRjelJETkRkQ3Q0YlZGeFNIb3pjVGhhVjJGeU9USlhLekpVVlhKcFdIbG9UMDVHVW5SalpWZHdlRWx5TkZoallYTTBTakZzYm5OU2FqbHpaSFpsTTNaclFXMHpLMGxVT1dWdlNFMTBXbWROVDBKRlRqZGxiM1pVVmtGb09UUkxLMjgxUW5kYU9FTkxZVEpRZW1WS1RVaHpkRVp5ZDJ0R2MwdFNNbEJvUzBRdk1EVndaRGRMTnpjNGREbHZRM2hQZERWRE4zRnNZVFZzVFdkNVNscHVVVU5wVDNGR2VqSk1TM0YyU1RncmNEVnlOemt3V2poTVJUUlBVRkZqVUROdFRrd3JOWGQyUzFkeVoyaHpUVFl3YVhWVU0zRkhiSFY1VWtGTGVTOXpia3c0ZFhReWJqTjNkbnB2TkhnclZGVnRZbkZKVjJ4alkwRkVTM2hzVERGRlRpdDFhVnBJWnpGcmJXbDFlbkpDVWxOVlZ6Wm5haTlGYVhKdGFUUk1jM1poU2xocFEycHRjVzh5UWk5NFNFUjFOSFkxY21aUlBUMD0iOjEsIlYybHVJRlJsWTJodWIyeHZaMmxsY3lBb1ZVc3BJRXgwWkNBamNXTm9PSFVLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqQTNMekV3THpJd01UY0tka3RqTVdjd09FeHZkWEJQVUVOSVIxbEhTa2RIYkdObVdXcHFSazg1TjFaRmVXdEtkazVYU25Gd2NUaDVkRk5PUWtKVldrRmtVMGxWT1hKRFpXRkZTbTg0WTJKb1RrcFpaelZWZG1KS1lUVjVXWGxrZDNRMmVWcENiMHBvUmt0WldqQlZiRkVyZFVOUmRrOUlTbGhHWkV0NlNHTm1UbmxyWW5rNFQyWlBjemhNVW1GUFNHTkdkVWcyTjBNNFMyWlNhbUZJYVc1cWR6RnpURkpVWjBKUmRUWTJaRU50VkhablNubDZVSFIzYWxCVE9UVlJPVk5XZHpoUlN6VjNhR0l3VXpKeVRIQXZRbXhOY21nMVdXZzJha1ZwUmtSeE4xWXpUWGdyUVdWelJXeGtXSHBLWWxkSVpqTnFaRXhLU25GRVZ5OVdNaTlTWnpjeVFuWnRiMWhtY0VScVRXWjNkbVF3VGxZeFNITklVemc0ZEhGTVozbENjSGxvYmxaWlNEbGxTMFZTVWtseWJuTllhMVptVDJkUWFUUnNWMlJUU21kUGRVVjVVV2xZZWt4blJHeEhNVkkzUVhWdlpHZFVaVW80Y3k5a1dWWlJQVDA9IjoxLCJVM1JsWm1GdUlGUm9iMjFoY3dwdGIyOXVRR3AxYzNSdGIyOXVMbVJsTEZkaGJHeGhZbmt1YW5NZ2NHVnljMjl1WVd3Z2JHbGpaVzV6WlNBb1JuSmxaV1J2YlNrS01USXZNVEV2TWpBeE53cDZNVkprVWpWRlpXZHBWekZZTHpZeVRrczJSMFZKWmxCcVdXZ3JVVUZoUlhkTVZVdHViMHd4UVZOVmEwWXhaM2hKTVdsMVlVZFlTWGxLWm1Sak5HbE9ObUZKYmpWT2FXaFdWbTlzZDFrd2FFeEVSM3B0WVdaSlEydFhSVkp0WTFFd2NHOTBSM1kzTjBZd1puRXhhVFpQUVVWNlNGTnpTM3BQZWpaMFZVOHJjbWxXY0ZaalVIQlViRUoyZFVKa1RITTBlV2N6Wm1zMmNsbExWbnBJYTJOSGVpOHdZbmxMZFVWWVNUTkVURVJvUTNGS1UyOHhWWFpOYVVkUFZsQktVV05aV0dwcmRrcFhVWGN6UVZWSWFrdDFOWEJVVFZOQlRtTklkRkpzVVZoeGFsRklTMWxhWjNKWk0waDRXRFJtY0ZWcVMwcFdTRFpqVFZocFNUUjVNVWxuT0U4M09UZFZkVUV5TkdnNVozTnVSbFYxVjFoYVZWaGxkRTVHV2xWTVluSk1kVmh4VFVoaGFIRXhZalJsV210cmFVSnRXV2xFWkdFMU5Fd3dLelJNVG5OYVNGWk9Ra2RSUVRGd2MyMDJiQzlKYTFkNk4zYzlQUT09IjoxLCJUSFZqWVNCVGRHVmxZZ3BqYjI1MFlXTjBRR3gxWTJFdGMzUmxaV0l1WTI5dExGZGhiR3hoWW5rdWFuTWdjR1Z5YzI5dVlXd2diR2xqWlc1elpTQW9SbkpsWldSdmJTa0tNekV2TVRJdk1qQXhOd3B5ZUZZck5WWnNObE5UUTJ0Uk4zQXZia3RvYjA5NGQzYzFkRU1yTW1vNWFHOXVORUphZUVoV1QyMTVRa0ZxTW0xWmVFODRSRkJRVFhOdmNWbDNObU5PVWpkbVVVSndWSFpqZWt4bmFtSXpjM2h1YUdwNU9FUjJUa3R0YTFGbGNXcFZkVmhxYVRCSFIxbFRTa2RaT1ZaWFJqbHFaMmwxVW1oTlowVk9MMWN3TXpWWmRGTTBRME15Umk4d2NVRlpNVmRXVmpoU01qWlFWRE5PY3k4dlVFZDJiVEUyZUhvclZqaEdja1JsZWs0NWF6UmphRkZMT0RSQlJqQkdkVm94TUVwdE5qUjFaRWhOVTNsSWVtZGtlV0ZMVjNkUFRHUmlZV3N3Vm5ZNVNqZ3JPRGt6YzFaRU1VdDZXalpZU21rMFpUWXdabFkzUjFKMmJWaFVkRnBtYWxGSE1UQXdkV1JJTkc5T09VbHdPSGRVUkhZNGJrZExlRGhLV0hWdVpHODJNbEY0Y0hJMlQwcG5XaXRZV0M4eFFsRm1UMVJvYzI5cVRXUm5SR3hYUTA0d2RrTlpMMDVxUlVaa1VHdGpVRnBRWkV0YVFVOTJRVUU5UFE9PSI6MSxURzkxYVhNZ1ZtRnVJR1JsSUVOaGJITmxlV1JsQ25aa1l5NXNiM1ZwYzBCbmJXRnBiQzVqYjIwc1YyRnNiR0ZpZVM1cWN5QndaWEp6YjI1aGJDQnNhV05sYm5ObElDaFdVeUJEYjJSbEtRb3hPQzh3TVM4eU1ERTRDa1I0WTB4WlRWRTBVQzgyYkdScGIycFRWVTlRWjBabGVYcHBiM0ZIWjA1aFoxYzJjM0pOTmpOeE9EWlhRekYwUVU1MldGVklhaXQzY1hweVFuZDZSa2RNWkdGVmRYaFRSVFZGUmtZeWFFaE9RMGROTTBaWmRsZE9jRGxUT1VSSWNDdHVORE13VUhkTk0yRjBXVlE1TVVOQk5YVkxZamRqYWt4Mk9VTmlUVVZOTURobk5ISkhOVVIxWW5vM1dIRXhlWFF4TWpsNFdVVjZhbXhaUW10U09VOUlNbnBQUlhKWGIwRnFVVzVQZVZoMGNXMVZSelZWTkdKTU1YcFNhRWhDVGtoeVJXTnRibWgwWlhoNWRIRkROVGR5VEhKR2VqSkZORk5MYTJWa2VUYzFjMnB6Ym1oSU1WaFpOR3hQT0hkeFFrVTVTa3A2Vm5WWFJtMWtjVWh5WW5KQ2JVWkdhVVZFTTFoT2NsWkVaVUZoYm1kMlVXZE9RMDUwV2tSQlQzZDBRVE5HVjFaT1RFUnFNamxyY21KMFFqSlFOMHR0UldsV1UxSTBXVGROVjJ4MWFrMDBXbmcyZVhWb2J5dHNPVWRsYUVKNlZISTBkejA5OjEsIlJHOXRhWE52Wm5RZ1VHbHZkSElnVG05M1lXc0tjQzV1YjNkaGF6SkFaMjFoYVd3dVkyOXRMRmRoYkd4aFlua3Vhbk1nY0dWeWMyOXVZV3dnYkdsalpXNXpaU0FvVmxNZ1EyOWtaU2tLTVRBdk1ESXZNakF4T0FwMFZ6bDJXbGxOWVVwQ1IzTnBNMEpJUjBkWVUzbHFPRFYyT1ZkTlZUTTFSbEprZVZsUlVVTnhaWEpuVUZkTGJrbEhWRmh0ZUdWaEszSlFURWhySzJselFVeDRaRU5tZFZneE56bFFZeTlxWjNSMloxSk5jV2NyU1hsbWJYbzFPV01yWTFBNWNHSnZOREIyT0ZZcmIwWkdOM1pCWkZoVmMwVTFURkJ4U2t4Q1NuRjBlV2hMSzBKSmVXZHZOVFowYTNoRmMyOW9NRGsyYTAxRGRuZE5SbVl3Yld4NFVGb3diazlzUTFndlFrSnNMMHB0ZEdSM04wcGpLMU5ZZVRjeVZUWkthR1ZwV0VsVk5HaENSVkZNZVVKcFJtdFFPR0pZWjNjeVlXTXJUbWgyU2xsWmJWaDBjMjFHTHpSUlRqRnphVUpDWjNwMWRHWjZWVWhhU25KV05GZExOR1JqVmpjNVp6VnpZaXRaVVhsRmRtaHROakZWWVdWMVFtWnBhRnBKVWtKNmNGbERhbFJDVTFJM2RFSmhWWGRHVnpkbmRIaG5ZblZUUWtRMWMwNVdWV0YwY0dVeGRYQnRURlJ4TWtWRU1VRktTR1pMTUZFOVBRPT0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpabmw2TUhjS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLWTJ0UlZ6azNSbk5qU3l0SFdVWkNTRnB0YVZoTVYyOVRkbEZoVTJrNFF6UTBMMWQzWVdFd1dFMXZWbVIwUlVRMWNuWXJOaTlrWXpSUFVUWlZhRlYxT0UxdllrMVVkemR0WkdwNVRHVkVNamQwY2paalJrMXlZakJ0YUhkeE0zZDRhelkwZFc5NGFrdE1WbXMxU0dSb2FGVmlWRkpDSzJsdmJtNDVPV0ZtTDJodFRVZFhVVmxuYTB4UldXZEhja3RCWmtsSmF6RTVTVmRZTVU1cVFpczVZVkZpTVdORFdGUjNSSG80UTB4T1VtUlVNRFpLUW5OdmIxQndlbEZ2TUdsQ2JrdFdTRlZUVjA5U1MwZ3pPRUZzTjB4SWFEY3hiVXcyVlcxa1ZHMUZhVkZIWW5RNFFqQllkUzgxU2xaMWRXdDJSSEUwWm5aTGVHNXZla3BoVjFBclRYcHlSMU0wZWt0dldFOXBha0prUm5VNVRURXpkeXRaVGk4MVZXOWlRMEV4U2xSelFtTXlkbWMyU0hGVU0xbDZRMU5HTlZrMmRqVjRXVGh1ZUdNeE9UVkxkRE50ZW5wcE1tOHljbVZPUWtSNVFuQkhUVEJSUFQwPSI6MSwiVjJsdWRHVmphRzV2Ykc5bmFXVnpJQ2hWU3lrZ1RHbHRhWFJsWkNBak1HWTBOM2NLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqRTJMekExTHpJd01UZ0tkMHh5VDFGdFRWQm1SV3BWZUhaSWN6WnhhMFZoYUdwVWRYZE1TazFEVWxsVWNVVktaSGRYY2psTU5VcERWRmMxYlhscGJYTTFVV1JXTms5V2JsUnNibEp3UzFWbFFrUkhXRGN3YzNwNFREWXZiVFZ2WldkbFNHWm1aVGxpUTNGM1FYWlpLM3BPYTBSeEwwUXpSMnRrZDJwWk5qbFRiV3h5UkhoMlozRm5VRTkyTVRndlRXeEhlRWhHU21kVmJtOVRWbmdyUWpKNWEzbDNXV0pUYnpKSE5ubGpXamRYY0c5TE9IbDBaRWx0YWxNcmFGZDRRME0yTTBOb1VHb3piM1UwZVhCNE1tSXdjMEZUTlUxdmFXcGFXRWhLYzNNeVJVOHZWR2hZV1U5RVlqaE1VVEZXYzJGNlREaExSRFozVldoT1NHVmhaa1JzZEdwaVVtVnViVU5pZGxBME9XdHViWEZMWms1VGRXeDRja0YwZVRBMWExTkdNamh2U21VMFFUVkRXR0puWjFsTE16TjRXbnAxTkd0NGFtdFBWM0pKTDBkeGJUaHliR0o2VHpWV1JqTkJVRVF2WTBRdmFXTlJjVE4yVDJvMFpWRlJQVDA9IjoxLCJWMmx1ZEdWamFHNXZiRzluYVdWeklDaFZTeWtnVEdsdGFYUmxaQ0FqWWpadFl6Z0tjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pFMkx6QTFMekl3TVRnS2JHZDRSU3R1UWtkeGFqVXJXWGQxYWxneVdVRmtjMHhOWjB4M2FrNXBPRmxtU0hkSlZuZHhVV05ZTWtWcGRraE5XbEZGUXpWMU9DODJiemRNT1ZjME4ybFBSM05aUzBOR1IwY3pXa3BqU0hkRU1EVjNOVWxWUWxKclFrZ3dWVEk1UmxneFYwMVBXV1ZrU1RoTVZtSTVkMlV6ZFVrNU9HOVFTVW81WkhkdVZHRjVlakJWSzJrNWNrZDZjRzVyVFhWblduaE9ZakIxVjJ0WVdGbEZWa3RsTDJGbGJpczViV3RhVFZCQ0wxRnhaR2RRTVROYWJtWm9PRXA0UlVkd2RqWllWRE5SWXpsemEwZzVTRkpQYVVaMldGQXhUbTE1TlRkbmNVcFVkWE13YVhGWmEycFdWbU5zZWxwaFJVMUpLME5SZUdSRWEwc3dia295V1hWWU5ERTFZemt6WkZwb0t6ZHFiRnBuWkhWQmEyNVBXVUp4YUZWeE1qUjZiVXRyUXprNVlWZGhOMDVhWVdwaGNVd3ZSazloTDBSck1taFlaR1pQVW5rNGNtbGFiMk5VSzNCSlYyVktaMGgwY1hKVVJGbHlRbTVzUlVwM1BUMD0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpNemRyY0hnS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLWkhocEsxSldla2RXTkZKTVYzRlRWVTVZU1daTFR5dHpNM0pVSzNZeVNqZzFZelJTTDJaRVRITjZjbXc1V1doRmFtTllLMk5NVDBSSFVXTnFVV0prZEZKTGNHUkxaVTF5U2taMmFVMDNWbVZqZG5NdksxRmFibXh1TUd0RmNrdFhVMjRyTURSR05HRnVaMlowY0dOaVJtMTFaakJMTHl0NFVYWmhVM0E0T0VSbFRUaFpNV3B1VGpKUmF6SnhkRVZRY0N0Uk9HZERVaTlhUTJ4RlZGWnpVRmxJUnpST015OUpVVEpWVm5SV1NYaDJkSFY2TjBsa2VWVjNURTE1V21WS1QwOXpTVWROTldwaU5YbHZkM0J4VlZKamNFWlhUbEF2V1hoWVpGZ3JUbU5UUXpNdldtMHdiV2hsVUhSSlJHZGxUSEl5V0d3dlUyRnJhUzlYUVRSWGNIZG9hWFF6ZHl0aWIzbDFhRkJ2WlVoRWFFWlBOM2t3VGpVM1ltUkRTU3RsVHpjMVR6UTBjRnBWUW10ME1HNDRXbkJoV1ZNNFVEZEdUVWRUV0hwck1FbE5hbUpvVmt0WmEzbzRlall2WlU1REsweHNSU3QzUFQwPSI6MSwiVjJsdWRHVmphRzV2Ykc5bmFXVnpJQ2hWU3lrZ1RHbHRhWFJsWkNBamRqSnZkemdLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqRTJMekExTHpJd01UZ0tVa2t4U3padGRqaDZRV3B0VGtSRWRYUlliWFZ4ZW1VNGJHdFRhRkpSZURSRlNUbElVVFZYUVRsWVduZGhWRGMxUW1kb2NIcFRhWHBCZEZwNFlWaDVaRU5SYkVaRVRHSXdjMmhGWldOQ1FuTk5ha3hYZEUxcFJ6UkhaMGxWZEdaTk1UVlNSRWQ1TVRsc1VsazNVV1pUU0hoSlZrbEdiVFkxVkdwdWEzVldOSFpRUkhkQk5sTlNlV2xMYVVaNUsxZHBLM1JOWW5jNVlTdEVVMmc0TmpsNlVqRk5jbkpRV2tacFJXTXhkRWwxUldwV1Z5OVZibmhITW1oaE5HWXJWVk0zZVZwNWVXcEtUelJZV25jeFZTdGhSVTlQYmt4clFsaHNhMjkwWTNGbE1FRXJNaTl2VDI5c1ZXWTJXVFJSYVVscWVXaHNXWFJVY1RJdlozQlZka1YzZFhsVmFsZHhNa1I1TlZNNVRuVmxLelZzTDNKTlVFaFFaMFJWVXpOV2JXWnlNSG92UWpGRlNHTlpTM0pzVlRJeFdtaFJUM2h3ZUVsblUycHpXV1J0VGtOWVluUlJja3RrVmpSWVZteEpkMlprVGxoR1kwSm5QVDA9IjoxLCJWMmx1ZEdWamFHNXZiRzluYVdWeklDaFZTeWtnVEdsdGFYUmxaQ0FqTWpWaU1uSUtjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pFMkx6QTFMekl3TVRnS2FFcE9PRzF5TkdFemFtbDRlbVZTYjFsdk16SndVRzAzTlhndkwyaDRRa3RsWjNkcGQxcFhNMUZFU2s1TlZXdFZNVzlyTm5sVVVFdzBaakowWkdob2MyWlFVM2hRSzJaWFZUbElhbTlvTjFSV1QzZFVjV1Z6T0ZsVVpGSkdNRFJ2YUZFNVNtVnFNbUZLZVUxSlkxUkdObUZ0YTB0UFdWWldZVVpETkRaWU9FcGFUVFZVUTFWdmJFTlhWaTlOVFdkallqZExPRVpYTkZwTFozWjBVRUZEWlZONmJWcHBibkZTZDBoaVRqQlZPRm94TUZNNU9YVkxMMWRMZFVsQmRuUmhVamR0VFdkS1kyeGFlRmgzTkdkVlJERjBiMW80YWsxVE9FaENXbloyYjFsWWFFdFRWVXhGZVU0dldFNWplREE0WTNCVlYyVXJjWE4wTVhGVlJGQXpaamR0TjFWTVYxbHNSblk1VTA4clVWaGxOV0ZJUTNwbFREWmxRM2MzV0ZFd1NFWkdWV05ZYkhkaVozVnJNMjB5VTFaelZESnNRMVp6ZVc1NVltbDBaMlZOTW1KUmJYaEtibkJHZEZoWFVFNTBSVTVKUW1kM1BUMD0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpibmwyYWpjS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLVTFkWVVXaHhka05vWWpkMmNtcFhkREY0VjI5eFRTOTNia0ZGWW5FeFQybDVUbXhPZDFGeWVXTmFMMVJKZFVZd1V5OTNWblpZYWxsU1dFSk5WRFo1V2poa0swbFdMMXB5UmxGQ1pGTmhTalJYWWtGSU5rNVpSalpZWm5ZMlpUQnFjelJ6TWxSNWVFWkZaemg1WmxSUE9YRm9SbUZ5TTFsclVrOVBURXhpTVdzemN6QlJOSEpXZEZKaEswZFFXSGN3VEVacllVMUtVRTEzUkhobVdYcFNiVE5DYjJKcWJDdG5iMlpPV21GSVNVSTFlWEF3VDI1YVJrVTVaMjFaZEhBNFpISmtZMjVzZDNsMFRYRjBRVzFoT1M5alFVMHZNU3RsUzNKRVJ6aHdTVVpWY1c1b2RIcG1SRTFZVlRodFRtOHZSVVpyU2pkRGFVeG5ObkJZYkVJMU4wd3hkVEJoU21ZelUwbHpkRTF4ZDBzNFRVOVFXRlZGWTFaT0wzVmxZMFZVSzNCRlYyOXBSM1IyT1ZWSk0yUmxPV0pyU0hoa2RVWklUR1o1ZWsxVU9GZDFaazFyUzFoYVZUUmtjaXRXZDAwMU5rRlBNVU5uUFQwPSI6MSwiVm1sdVkyVnVkQ0JHYjNWeWJtbGxjZ3AyYVc1alpVQnVkR1p2ZFhKdWFXVnlMbU52YlN4WFlXeHNZV0o1TG1weklIQmxjbk52Ym1Gc0lHeHBZMlZ1YzJVZ0tFWnlaV1ZrYjIwcENqRTNMekEzTHpJd01UZ0tiSEpMT1ZSak4xTXlXV05XWjA5RGNEUldXVWx4VUZsWGIzZGxMekUxTkdacVpsZFFTVE5rT0ZocFlUTnlhM1ZXV1V4SWFraEpXRGhJTm5BMGQwY3ZNV0ZFTVdoMFJIbDBNSFpHUWtGd1p6UkxSWFEzWWs5elIyRm9jRzVIYTB0dU9IWnNlalI1VFVwNFNETkpTMVJ5YkVsU2VHc3hiRmhYT0RCR1ptMHpVMDV1ZG5WSWIzUlJZME00YURSMlVGRTJaRnBFT0ZSNlVIUnNPRW94VURsMlNsVkZVMEpzUm05TWRuUlFNMVZPYUM5NVYyZFJRVU40ZEhrdlFXNWhlbEZOV0hGRlRFWllTRVZPZFZOck1HZERUbGRGT0c5SmRVVjRPVzQ1TDNJNVIydElNbFJ0YzFkQ2NsSkdjRFpwV2taUE4wbHNNRFJhZDBOTmNsZEpZME14TldseU5WUmtWV3htTXpWSkwyRndXVWh6YW1wNVZqTnlNSFZzVlVocE5WUlRUbGxPU2pSa1EwUjRiVkZMTm5wUGQxVmxSMjF1TDJrdmVHZzVaME5GZFdobWREQnJOMWx5YkhVMGNERnlZM2swV2tsd1p6Um5QVDA9IjoxLFJXeHNhWE1nUzJWdWVXOEtaV3hyWlc1QWJYbHJiMnhoWWk1amIyMHNWMkZzYkdGaWVTNXFjeUJ3WlhKemIyNWhiQ0JzYVdObGJuTmxJQ2hHY21WbFpHOXRLUW94Tmk4d05TOHlNREU1Q21GaFdXNHJiVk5WYUM5WFZ6RkxNVnBHTDBwVldIWTFaalZCZWpNeU1uWnVSVTlKVG1NMUsyZ3dTVFpqYkVSRlExVlpkamhzV1dKcGVWTjRlWGtyVUVONk1XY3pObWt3UkRWUmJFMWhNV1pSVmpOalJqbHBSVU1yVTNWTFYzVkdjMVJCVlRoelNVbFpUbUZsTUVSUEswUjJSWEpsY1VGWmJYZFVXVVpDZG01UGMyaEthalYyU25oYVpWRktRVTQyUVZaR2JtMUZlVmhuYmpVcmExVlNUMndyUkd4cE1tODViR1Z4VDNVclVtUkZiM1IzZEhWWFNtVlZhVmxRYms4eVJreGpMMk5VV1UwME5IQXZXazV5VldOS0sybFJia3RXSzFwRmNFcDNNWGt5VUdObVJXNVNXV0pVVDJkTWEzWXZaR0ZwVldOMlNIaGtXREZhTjJKcWNYcHFlWGwwZVdoVGVVeDBlVFpJTkVGTU9YSlBlblU1V0cxdFVtOUtjeXR2U2xadFkxUmtSV0k1ZDA0eU0yMHZlbkJrVG5OMVJISnRhRUZXWjJoS1VFNXVZbUY2UTNaeGIwWTRXQzh2UjNWQ1NIZFFPVEJFWnowOToxfTtfLmVhY2goVCxmdW5jdGlvbihlLHQpe3RyeXtUW18ucnRyaW0oZC5wYXJzZUtleSh0KS5saWNlbnNlU2lnbmF0dXJlLCI9IildPTF9Y2F0Y2gobil7fX0pO3ZhciBiPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzLGk9bjtuLl9kaWZmTWF0Y2hQYXRjaD1lLmRpZmZNYXRjaFBhdGNoO3ZhciByPWUuUHJvamVjdDtuLl9wcm9qZWN0PW5ldyByKGUpLG4uX3Byb2plY3Qub24oIm1lc3NhZ2UiLGZ1bmN0aW9uKGUpe3ZhciB0PWlbInByb2plY3Q6IitlLnR5cGVdO3QmJnQuY2FsbChpLGUpfSksbi5fZnM9bmV3IGMobi5fcHJvamVjdC5fbG9jYWxSb290LGUpLG4uX21vZGVsPW5ldyB1KHtmaWxlSWRCeVBhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkuX2ZzLmlkQnlQYXRoKGUpfSxwcm9qZWN0Om4uX3Byb2plY3QsYWx3YXlzU2VuZEFsbExpbmVzOiJWU0NvZGUiPT09ZS5jbGllbnR9KSxuLl9tb2RlbC5vbigibWVzc2FnZSIsZnVuY3Rpb24oZSl7dmFyIHQ9aVsibW9kZWw6IitlLnR5cGVdO3QmJnQuY2FsbChpLGUpfSksbi5fcHJvamVjdC5fbW9kZWw9bi5fbW9kZWwsbi5fcmVhZEZpbGVTeW5jPWUucmVhZEZpbGVTeW5jLG4uX3dyaXRlRmlsZVN5bmM9ZS53cml0ZUZpbGVTeW5jO3ZhciBzPW8sYT1vLmNyZWF0ZVZlcmlmeSxsPW8uY3JlYXRlSGFzaDtyZXR1cm4gbz17Y3JlYXRlVmVyaWZ5OmZ1bmN0aW9uKCl7dmFyIGU9YS5hcHBseShzLGFyZ3VtZW50cyksdD1lLnZlcmlmeTtyZXR1cm4gZS52ZXJpZnk9ZnVuY3Rpb24obil7dHJ5e3ZhciByPXMuY3JlYXRlSGFzaCgibWQ1IikudXBkYXRlKG4pLmRpZ2VzdCgiaGV4Iik7Ijc5NDc5ZmU5NGZjZDJiZDlmMTQxYWQxNzE3YzM1MjgyIiE9PXImJiI2NjU3MTA5ZmI0NDI2MzNmNDEyZjEyODc4ODg3MTk2MCIhPT1yJiYiY2M0OGZkYzkxZDg4MjVjYTk3YjMxYzU1Y2EwMzRkNDYiIT09ciYmIjQ3YWJmZGZhN2JjZDQxNmUwZjljNjk5OTFlYzFmODk2IiE9PXImJiIwN2VkMWZjNmEzYTMyZDY2MDk5ZmUxODcwYzgzYTBjZSIhPT1yJiZpLl90cmlhbE1vZGUoKX1jYXRjaChvKXt9cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfSxlfSxjcmVhdGVIYXNoOmZ1bmN0aW9uKCl7cmV0dXJuIGwuYXBwbHkocyxhcmd1bWVudHMpfX0sbi5fdmVyaWZ5TGljZW5zZShlLmNsaWVudCxlLmxrcCksbn1yZXR1cm4gaShuLHQpLG4ucHJvdG90eXBlLmNvbmZpZ3VyZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGUuX3J1bklmVmVyaWZpZWQoZnVuY3Rpb24oKXtyZXR1cm4gZS5fcHJvamVjdC5jb25maWd1cmUoKX0pfSxuLnByb3RvdHlwZS5maWxlQ2hhbmdlZEluRWRpdG9yPWZ1bmN0aW9uKGUpe3RoaXMuX2ZzLmZpbGVDaGFuZ2VkSW5FZGl0b3IoZS5wYXRoLGUuY29udGVudCxlLmNoYW5nZUZyYW1lLGUudHJhbnNpZW50Q2hhbmdlKX0sbi5wcm90b3R5cGUuZmlsZU9wZW5lZEluRWRpdG9yPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX21vZGVsLmZpbGVCeVBhdGgoZS5wYXRoKTt0JiYodC5vcGVuZWRJbkVkaXRvcigpLHRoaXMuX2VtaXREb2N1bWVudExpbmVzKHQpKX0sbi5wcm90b3R5cGUuZmlsZUNsb3NlZEluQWxsRWRpdG9ycz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tb2RlbC5maWxlQnlQYXRoKGUucGF0aCk7dCYmdC5jbG9zZWRJbkFsbEVkaXRvcnMoKX0sbi5wcm90b3R5cGUucnVuVGVzdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbW9kZWwudGVzdHNCeVJlcXVlc3QoZS5yZXF1ZXN0KTt0aGlzLl9wcm9qZWN0LnJ1blRlc3RzKHt0ZXN0czp0Lmxlbmd0aCYmdHx8dm9pZCAwfSl9LG4ucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnMuc3RvcCgpLHRoaXMuX3Byb2plY3Quc3RvcCgpfSxuLnByb3RvdHlwZS51bmNvdmVyZWRSZWdpb25zPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXt0eXBlOiJ1bmNvdmVyZWRSZWdpb25zIixkYXRhOnt9LGlkOmUuaWR9LGk9dGhpcy5fbW9kZWwudW5jb3ZlcmVkUmVnaW9uc0J5UmVxdWVzdCh0KTtyZXR1cm4gaT8obi5kYXRhLnJhbmdlcz1pLHZvaWQgdGhpcy5fZW1pdChuKSk6dm9pZCB0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJpbmZvIiwiQWN0aW9uIGlzIG5vdCBhdmFpbGFibGUgZm9yIGZpbGVzIG91dHNpZGUgd2FsbGFieS5qcyBzY29wZSIpfSxuLnByb3RvdHlwZS5saW5lUmVwb3J0PWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXt0eXBlOiJsaW5lUmVwb3J0IixkYXRhOnt9LGlkOmUuaWR9LGk9dGhpcy5fbW9kZWwubGluZVJlcG9ydEJ5UmVxdWVzdCh0KTtyZXR1cm4gaT8obi5kYXRhLnJlcG9ydD1pLHZvaWQgdGhpcy5fZW1pdChuKSk6dm9pZCB0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJpbmZvIiwiQWN0aW9uIGlzIG5vdCBhdmFpbGFibGUgZm9yIGZpbGVzIG91dHNpZGUgd2FsbGFieS5qcyBzY29wZSIpfSxuLnByb3RvdHlwZS5sb2NhdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj17dHlwZToibG9jYXRpb24iLGRhdGE6e30saWQ6ZS5pZH0saT10aGlzLl9tb2RlbC5sb2NhdGlvbkJ5UmVxdWVzdCh0KTtpP2kuZmlsZT8obi5kYXRhLmZpbGU9aS5maWxlLG4uZGF0YS5sb2M9aS5sb2MsdGhpcy5fZW1pdChuKSk6dGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiaW5mbyIsIkNhbiBub3QgbG9jYXRlIGEgZmFpbGluZyB0ZXN0Iik6dGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiaW5mbyIsIkNhbiBub3QgZmluZCBhbnkgZmFpbGluZyB0ZXN0cyIpfSxuLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj17dHlwZToiZXJyb3IiLGRhdGE6e30saWQ6ZS5pZH0saT10aGlzLl9tb2RlbC5lcnJvckJ5UmVxdWVzdCh0KTtpP24uZGF0YS5lcnJvcj1pOiJmYWlsaW5nVGVzdCI9PT10LnR5cGUmJnRoaXMuX2VtaXROb3RpZmljYXRpb24oImluZm8iLCJDYW4gbm90IGZpbmQgYW55IHRlc3QgZXJyb3JzIiksdGhpcy5fZW1pdChuKX0sbi5wcm90b3R5cGUuY29udGludWVUcmlhbD1mdW5jdGlvbigpe3RoaXMuX2NvbnRpbnVlVHJpYWxTZXNzaW9uJiZ0aGlzLl9jb250aW51ZVRyaWFsU2Vzc2lvbigpfSxuLnByb3RvdHlwZVsicHJvamVjdDpwcm9qZWN0Q29uZmlndXJlZCJdPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7cz1lKCJkZWJ1ZyIpKCJ3YWxsYWJ5OmV4dGVuZGVkLWNvcmUiKSx0aGlzLl9lbWl0UHJvamVjdENvbmZpZ3VyZWQodm9pZCAwLHQpLHRoaXMuX2ZzLnNldHVwKHQuZmlsZXMsdGhpcy5fcHJvamVjdCYmdGhpcy5fcHJvamVjdC5zZXR0aW5ncygpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuLl9zdGFydCh7ZmlsZXM6bi5fZmlsZXNGb3JQcm9qZWN0KGUpfSl9KVsiY2F0Y2giXShmdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gc2V0IHVwIHByb2plY3QgZmlsZSBzeXN0ZW06ICIrbi5fZXJyb3JNZXNzYWdlKGUpKSxuLl9lbWl0VGVzdFJ1bkVycm9yKG4uX3Rlc3RSdW5FcnJvck1lc3NhZ2UoZSkpfSksdGhpcy5fZnMub24oImFkZGVkIixfLmJpbmQodGhpcy5fdXBkYXRlUHJvamVjdEZpbGUsdGhpcywhMSkpLHRoaXMuX2ZzLm9uKCJsb2FkZWQiLF8uYmluZCh0aGlzLl91cGRhdGVQcm9qZWN0RmlsZSx0aGlzLCExKSksdGhpcy5fZnMub24oImNoYW5nZWQiLF8uYmluZCh0aGlzLl91cGRhdGVQcm9qZWN0RmlsZSx0aGlzLCExKSksdGhpcy5fZnMub24oImRlbGV0ZWQiLF8uYmluZCh0aGlzLl91cGRhdGVQcm9qZWN0RmlsZSx0aGlzLCEwKSksdGhpcy5fZnMub24oImVycm9yIixmdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKCJGaWxlIHN5c3RlbSBlcnJvcjogIituLl9lcnJvck1lc3NhZ2UoZSkpLG4uX2VtaXRUZXN0UnVuRXJyb3Iobi5fdGVzdFJ1bkVycm9yTWVzc2FnZShlKSl9KSx0aGlzLl9mcy5vbigibm90Q2hhbmdlZCIsZnVuY3Rpb24oZSx0LGkpe3RyeXtpZihpLnN0YXJ0PT09aS5lbmQpcmV0dXJuO3MoIkZpbGUgd2FzIG5vdCBjaGFuZ2VkLCBidXQgZmlsZSBtYXJrZXJzIG1heSBuZWVkIHRvIGJlIHN5bmNlZCIpO3ZhciByPW4uX21vZGVsLmZpbGVCeUlkKGUuaWQpO2lmKCFyKXJldHVybjtuLl9lbWl0RG9jdW1lbnRMaW5lcyhyKX1maW5hbGx5e24uX2VtaXRTdGF0c1VwZGF0ZSgpfX0pfSxuLnByb3RvdHlwZS5fZW1pdERvY3VtZW50TGluZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmNyZWF0ZShudWxsKTt0W2UucGF0aCgpXT1lLmFsbExpbmVzKCksdGhpcy5fZW1pdERvY3VtZW50VXBkYXRlcyh0KX0sbi5wcm90b3R5cGVbInByb2plY3Q6dGVzdFJ1bkVycm9yIl09ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdFN0YXRzVXBkYXRlKGUubWVzc2FnZSl9LG4ucHJvdG90eXBlWyJwcm9qZWN0OnRlc3RSdW5SZVF1ZXVlZCJdPWZ1bmN0aW9uKGUpeyFlLnRlc3RFcnJvclJlcG9ydGVkJiZ0aGlzLl9lbWl0U3RhdHNVcGRhdGUodGhpcy5fbW9kZWwuZnVsbFRlc3RSZXN1bHRzUmVwb3J0KCkpfSxuLnByb3RvdHlwZVsicHJvamVjdDpidXN5Il09ZnVuY3Rpb24oKXt0aGlzLl9lbWl0KHt0eXBlOiJidXN5In0pfSxuLnByb3RvdHlwZVsicHJvamVjdDpsaXZlIl09ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdChlKX0sbi5wcm90b3R5cGVbInByb2plY3Q6bmF2aWdhdGlvblJlcXVlc3RlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoe3R5cGU6ZS50eXBlLGZpbGU6ZS5wYXRoLGxvYzplLmxpbmUrKGUuY29sdW1uPyI6IitlLmNvbHVtbjoiIil9KX0sbi5wcm90b3R5cGVbInByb2plY3Q6ZmlsZXNSZXF1aXJlZCJdPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fZnMubG9hZEZpbGVzKGUuZmlsZXMpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9lbWl0VGVzdFJ1bkVycm9yKHQuX2Vycm9yTWVzc2FnZShlKSl9KX0sbi5wcm90b3R5cGVbInByb2plY3Q6bGljZW5zZUNvbGxpc2lvbiJdPWZ1bmN0aW9uKGUpe3ZhciB0PSJXYWxsYWJ5LmpzIGlzIHN0b3BwZWQgYmVjYXVzZSB5b3VyIGxpY2Vuc2UgaXMgYmVpbmcgdXNlZCBlbHNld2hlcmUgb24gdGhlIG5ldHdvcmsgYnkgPGI+IisoZS5hZGRyZXNzfHwidW5rbm93biBhZGRyZXNzIikrJzwvYj4uIE9ubHkgb25lIGFjdGl2ZSBjb21wdXRlciBhdCB0aGUgc2FtZSB0aW1lIG1heSB1c2UgdGhlIGxpY2Vuc2UuPGJyLz48YnIvPklmIHlvdSB3b3VsZCBsaWtlIHRvIHB1cmNoYXNlIGFuIGFkZGl0aW9uYWwgbGljZW5zZSwgcGxlYXNlIHZpc2l0IDxhIGhyZWY9Imh0dHA6Ly93YWxsYWJ5anMuY29tL3B1cmNoYXNlIj5vdXIgd2Vic2l0ZTwvYT4uIElmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBsaWNlbnNlLCBwbGVhc2UgPGEgaHJlZj0iIyIgY2xhc3M9IicreSsnIj5hY3RpdmF0ZSBpdDwvYT4uJzt0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJlcnJvciIsdCksdGhpcy5fZW1pdFN0b3BwZWQoKX0sbi5wcm90b3R5cGVbIm1vZGVsOnN0YXRzTWF5YmVDaGFuZ2VkIl09ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdFN0YXRzVXBkYXRlKGUudGVzdFJlc3VsdHNDaGFuZ2VkP3RoaXMuX21vZGVsLmZ1bGxUZXN0UmVzdWx0c1JlcG9ydCgpOnZvaWQgMCl9LG4ucHJvdG90eXBlWyJtb2RlbDpkb2N1bWVudHNVcGRhdGVkIl09ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdERvY3VtZW50VXBkYXRlcyhlLmRvY3VtZW50cyl9LG4ucHJvdG90eXBlWyJtb2RlbDpmaWxlQWRkZWQiXT1mdW5jdGlvbihlKXt0aGlzLl9lbWl0RmlsZXNUb1RyYWNrKFtlLmZpbGUucGF0aF0pfSxuLnByb3RvdHlwZS5fdXBkYXRlUHJvamVjdEZpbGU9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI9dGhpcy5fbW9kZWwuZmlsZUJ5SWQodC5pZCk7aWYoIWUmJnImJnIuaXNPcGVuZWRJbkVkaXRvcigpJiZyLmhhc1ZhbGlkRG9jdW1lbnQoKSl7dmFyIG89ITA7aWYoXy5pc1BhdGNoKHQuY29udGVudCkmJl8uaXNTdHJpbmcobikmJmkpe3ZhciBhPXRoaXMuX2RpZmZNYXRjaFBhdGNoLnBhdGNoX2Zyb21UZXh0KHQuY29udGVudCk7aWYoMT09PWEubGVuZ3RoKXt2YXIgbD1hWzBdO2lmKGwmJmwuZGlmZnMmJmwuZGlmZnMubGVuZ3RoJiZsLnN0YXJ0MT09PWwuc3RhcnQyKXtvPSExO3ZhciBjPWwuc3RhcnQxLHU9bC5kaWZmc1swXTswPT09dVswXSYmKGMrPXVbMV0ubGVuZ3RoKTt2YXIgZD0wO2lmKF8uZWFjaChsLmRpZmZzLGZ1bmN0aW9uKGUpezAhPT1lWzBdJiYoZCs9ZVswXSooXy50ZXh0TGluZXMoZVsxXSkubGVuZ3RoLTEpKX0pLGQpe3ZhciBoPV8udGV4dExpbmVzKG4sYykubGVuZ3RoLHA9Xy50ZXh0TGluZXMobixsLnN0YXJ0MSkubGVuZ3RoLGY9TWF0aC5hYnMoZCkseT1NYXRoLm1heChNYXRoLm1pbihpLnN0YXJ0LHApLWYsMSksZz1NYXRoLm1heChpLmVuZCxwKTtyLnNoaWZ0RG9jdW1lbnRMaW5lcyhoLGQse3N0YXJ0OnksZW5kOmd9KX1lbHNlIGkuc3RhcnQhPT1pLmVuZCYmci5pbnZhbGlkYXRlRG9jdW1lbnRMaW5lcygwLDAsaSl9fX1vJiYocygiTmV3IGRvY3VtZW50IG9yIGNvbXBsZXggZG9jdW1lbnQgY2hhbmdlIiksci5pbnZhbGlkYXRlRG9jdW1lbnQoKSl9dGhpcy5fcHJvamVjdC5maWxlKHtmaWxlOnRoaXMuX2ZpbGVGb3JQcm9qZWN0KHQpLCJkZWxldGUiOmV9KX0sbi5wcm90b3R5cGUuX2ZpbGVzRm9yUHJvamVjdD1mdW5jdGlvbihlKXtyZXR1cm4gXy5tYXAoZSx0aGlzLl9maWxlRm9yUHJvamVjdCl9LG4ucHJvdG90eXBlLl9maWxlRm9yUHJvamVjdD1mdW5jdGlvbihlKXtyZXR1cm57cGF0aDplLnBhdGgsaWQ6ZS5pZCx0czplLnRzLG9yZGVyOmUub3JkZXIsaW5jbHVkZTplLmxvYWQsdHJpZ2dlcnNUZXN0czplLnRyaWdnZXIsY292ZXJhYmxlOmUuaW5zdHJ1bWVudCx0ZXN0OmUudGVzdCx0eXBlOmUudHlwZSxiaW5hcnk6ZS5iaW5hcnksY29udGVudDplLmNvbnRlbnR9fSxuLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2VtaXRGaWxlc1RvVHJhY2soXy5tYXAoZS5maWxlcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXRofSkpLGUubGljZW5zZXx8KGUubGljZW5zZT10aGlzLl92ZXJpZmljYXRpb25SZXN1bHQmJnRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC5oYXNofHx0aGlzLl9wcm9qZWN0Ll93YWxsYWJ5RW1haWwpLGUuZXhwaXJ5RGF0ZXx8KGUuZXhwaXJ5RGF0ZT10aGlzLl92ZXJpZmljYXRpb25SZXN1bHQmJnRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC5leHBpcmF0aW9uRGF0ZSYmdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmV4cGlyYXRpb25EYXRlLnNwbGl0KCIvIikuam9pbigiLSIpfHx2b2lkIDApLHRoaXMuX3Byb2plY3Quc3RhcnQoZSl9LG4ucHJvdG90eXBlLl92ZXJpZnlMaWNlbnNlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0PXRoaXMuX2xpY2Vuc2VWZXJpZmljYXRpb25SZXN1bHQoZSx0KX0sbi5wcm90b3R5cGUuX3J1bklmVmVyaWZpZWQ9ZnVuY3Rpb24oZSl7dGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0PXRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdHx8e3ZhbGlkOiExfTt2YXIgdDtpZih0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQudmFsaWQpcmV0dXJuIHRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC5leHBpcmVkPyh0PSdZb3VyIGN1cnJlbnQgd2FsbGFieS5qcyBsaWNlbnNlIDxiPmZyZWUgdXBncmFkZXMgcGVyaW9kIGhhcyBleHBpcmVkPC9iPi4gSWYgeW91IHdvdWxkIGxpa2UgdG8gd29yayB3aXRoIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiB3YWxsYWJ5LmpzIGFuZCBmdXR1cmUgdmVyc2lvbnMgcmVsZWFzZWQgd2l0aGluIHRoZSBuZXh0IDEyIG1vbnRocywgcGxlYXNlIHZpc2l0IDxhIGhyZWY9Imh0dHA6Ly93YWxsYWJ5anMuY29tL3B1cmNoYXNlIj5vdXIgd2Vic2l0ZTwvYT4gdG8gdXBncmFkZSB5b3VyIGxpY2Vuc2UuPGJyLz48YnIvPklmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBuZXcgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK3krJyI+YWN0aXZhdGUgaXQ8L2E+LicsdGhpcy5fZW1pdEV4cGlyZWRMaWNlbnNlKCkpOnRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC5leHBpcmluZ1Nvb24mJih0PSJZb3VyIGN1cnJlbnQgd2FsbGFieS5qcyBsaWNlbnNlIDxiPmZyZWUgdXBncmFkZXMgcGVyaW9kIHdpbGwgZXhwaXJlIHNvb24gb24gIit0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuZXhwaXJhdGlvbkRhdGUrJzwvYj4uIElmIHlvdSB3b3VsZCBsaWtlIHRvIHdvcmsgd2l0aCB0aGUgbGF0ZXN0IHZlcnNpb24gb2Ygd2FsbGFieS5qcyBhbmQgZnV0dXJlIHZlcnNpb25zIHJlbGVhc2VkIHdpdGhpbiB0aGUgbmV4dCAxMiBtb250aHMsIHBsZWFzZSB2aXNpdCA8YSBocmVmPSJodHRwOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSI+b3VyIHdlYnNpdGU8L2E+IHRvIHVwZ3JhZGUgeW91ciBsaWNlbnNlLjxici8+PGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbmV3IGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyt5KyciPmFjdGl2YXRlIGl0PC9hPi4nKSx0JiZ0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJ3YXJuaW5nIix0KSxlKCk7aWYodGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmV4cGlyZWRUcmlhbCl0PSdZb3VyIHdhbGxhYnkuanMgdHJpYWwgcGVyaW9kIGlzIG92ZXIsIHRoYW5rcyBmb3IgdHJ5aW5nIGl0IG91dC4gUGxlYXNlIHZpc2l0IDxhIGhyZWY9Imh0dHA6Ly93YWxsYWJ5anMuY29tL3B1cmNoYXNlIj5vdXIgd2Vic2l0ZTwvYT4gdG8gcHVyY2hhc2UgYSBsaWNlbnNlIG9yIHRvIGFycmFuZ2UgYSBsb25nZXIgdHJpYWwgcGVyaW9kIGZvciB5b3Vyc2VsZiBvciB5b3VyIHRlYW0uPGJyLz48YnIvPklmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBsaWNlbnNlLCBwbGVhc2UgPGEgaHJlZj0iIyIgY2xhc3M9IicreSsnIj5hY3RpdmF0ZSBpdDwvYT4uJyx0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJlcnJvciIsdCksdGhpcy5fZW1pdFN0b3BwZWQoKTtlbHNle2lmKCF0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuaW52YWxpZFZlcnNpb24pcmV0dXJuIHQ9J05vIHZhbGlkIHdhbGxhYnkuanMgbGljZW5zZSBmb3VuZCwgaXQgc3RhcnRlZCBpbiB0cmlhbCBtb2RlLjxici8+PGJyLz5JZiB5b3Ugd291bGQgbGlrZSB0byBwdXJjaGFzZSBhIGxpY2Vuc2UsIHBsZWFzZSB2aXNpdCA8YSBocmVmPSJodHRwOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSI+b3VyIHdlYnNpdGU8L2E+Ljxici8+PGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK3krJyI+YWN0aXZhdGUgaXQ8L2E+LicsdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigid2FybmluZyIsdCksdGhpcy5fdHJpYWxNb2RlKCksZSgpO3Q9J0N1cnJlbnRseSBpbnN0YWxsZWQgdmVyc2lvbiBvZiB3YWxsYWJ5LmpzIGlzIDxiPm5vdCBjb3ZlcmVkIGJ5IHlvdXIgbGljZW5zZTwvYj4uIFBsZWFzZSB2aXNpdCA8YSBocmVmPSJodHRwOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSI+b3VyIHdlYnNpdGU8L2E+IHRvIHVwZ3JhZGUgeW91ciBsaWNlbnNlLjxici8+PGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK3krJyI+YWN0aXZhdGUgaXQ8L2E+LicsdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiZXJyb3IiLHQpLHRoaXMuX2VtaXRTdG9wcGVkKCl9fSxuLnByb3RvdHlwZS5fdHJpYWxNb2RlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZT1lfHwwLGEoZnVuY3Rpb24oKXtlPj1mPyh0Ll9lbWl0Tm90aWZpY2F0aW9uKCJ3YXJuaW5nIiwnV2FsbGFieS5qcyA8Yj50cmlhbCBzZXNzaW9uIGlzIG92ZXI8L2I+LiBUbyBrZWVwIHVzaW5nIHdhbGxhYnkuanMsIHBsZWFzZSA8Yj5yZXN0YXJ0IHlvdXIgZWRpdG9yPC9iPiBvciB2aXNpdCA8YSBocmVmPSJodHRwOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSI+b3VyIHdlYnNpdGU8L2E+IHRvIHB1cmNoYXNlIGEgbGljZW5zZS48YnIvPjxici8+SWYgeW91IGhhdmUgYWxyZWFkeSBwdXJjaGFzZWQgdGhlIGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyt5KyciPmFjdGl2YXRlIGl0PC9hPi4nKSx0LnN0b3AoKSx0Ll9lbWl0U3RvcHBlZCghMCkpOih0Ll9jb250aW51ZVRyaWFsU2Vzc2lvbj1mdW5jdGlvbigpe2wodC5fc3RvcHBlclRpbWVvdXQpLHQuX3RyaWFsTW9kZShlKzEpfSx0Ll9zdG9wcGVyVGltZW91dD1hKGZ1bmN0aW9uKCl7dC5zdG9wKCksdC5fZW1pdFN0b3BwZWQoKX0scCksdC5fZW1pdE5vdGlmaWNhdGlvbigid2FybmluZyIsJ1dhbGxhYnkuanMgd2lsbCBzdG9wIGluIGEgZmV3IHNlY29uZHMuIFRvIDxiPmNvbnRpbnVlIHdhbGxhYnkuanMgdHJpYWwgc2Vzc2lvbjwvYj4sIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJytnKyciPmNsaWNrIGhlcmU8L2E+Ljxici8+PGJyLz5WaXNpdCA8YSBocmVmPSJodHRwOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSI+b3VyIHdlYnNpdGU8L2E+IHRvIHB1cmNoYXNlIGEgbGljZW5zZS48YnIvPjxici8+SWYgeW91IGhhdmUgYWxyZWFkeSBwdXJjaGFzZWQgdGhlIGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyt5KyciPmFjdGl2YXRlIGl0PC9hPi4nKSl9LGgpfSxuLnByb3RvdHlwZS5fbGljZW5zZVZlcmlmaWNhdGlvblJlc3VsdD1mdW5jdGlvbihlLHQpe3ZhciBuLGk9dGhpcyxzPXt2YWxpZDohMSxleHBpcmVkVHJpYWw6ITB9O3RyeXtuPWkuX3JlYWRGaWxlU3luYyh0KX1jYXRjaChhKXt0cnl7aS5fd3JpdGVGaWxlU3luYyh0LCtuZXcgcil9Y2F0Y2gobCl7fX10cnl7aWYoXy5pc1N0cmluZyhuKSlpZihuLmxlbmd0aD4xMDApe3ZhciBjPWQucGFyc2VLZXkobiksdT1jLmxpY2Vuc2VTaWduYXR1cmU7aWYoVFtfLnJ0cmltKHUsIj0iKV0pcy5leHBpcmVkVHJpYWw9ITE7ZWxzZXtzLmV4cGlyZWRUcmlhbD0hMSxzLmtleT1uO3ZhciBoPWMubGljZW5zZWVOYW1lLHA9Yy5saWNlbnNlZUVtYWlsLGY9Yy5saWNlbnNlVGFncyx5PWMubGljZW5zZWRQcm9kdWN0LGc9Yy5leHBpcmF0aW9uRGF0ZVN0cmluZztzLm5hbWU9aCxzLmV4cGlyYXRpb25EYXRlPWc7dmFyIGI9by5jcmVhdGVWZXJpZnkoIlJTQS1TSEE1MTIiKTtpZihiLnVwZGF0ZShuZXcgQnVmZmVyKGgrZitnKSkscy52YWxpZD1iLnZlcmlmeShtW355LmluZGV4T2Yodik/djplXSxuZXcgQnVmZmVyKHUsImJhc2U2NCIpKSxzLnZhbGlkKXt2YXIgUj1nLnNwbGl0KCIvIiksVj1uZXcgcihSWzFdKyIvIitSWzBdKyIvIitSWzJdKSxGPW5ldyByKDE1MzYwMzMzMjIyMzcpO2lmKEYuc2V0SG91cnMoMCwwLDAsMCksRj5WKXMuaW52YWxpZFZlcnNpb249ITAscy52YWxpZD0hMTtlbHNle3ZhciBOPXA9PT1pLl9wcm9qZWN0Ll93YWxsYWJ5RW1haWw7dHJ5e3ZhciBaPXZvaWQgMDtzLmhhc2g9Tj9pLl9wcm9qZWN0Ll93YWxsYWJ5RW1haWw6KFo9by5jcmVhdGVIYXNoKCJzaGE1MTIiKSxaLnVwZGF0ZShuZXcgQnVmZmVyKG4sImJhc2U2NCIpKSxaLmRpZ2VzdCgiYmFzZTY0IikpfWNhdGNoKFUpe3MuaGFzaD1pLl9wcm9qZWN0Ll93YWxsYWJ5RW1haWx9dmFyIE09bmV3IHI7aWYoTS5zZXRIb3VycygwLDAsMCwwKSxNPlYpcy5leHBpcmVkPSEwLHMudmFsaWQ9IU4scy5leHBpcmVkVHJpYWw9TjtlbHNle3ZhciB4PW5ldyByO3guc2V0RGF0ZSh4LmdldERhdGUoKSsxNCkscy5leHBpcmluZ1Nvb249eD5WfX19fX1lbHNle3ZhciBrPXBhcnNlSW50KG4sMTApO3MuZXhwaXJlZFRyaWFsPV8uaXNOYU4oayl8fGsrMjYyOGU2PCtuZXcgcn1lbHNlIHMuZXhwaXJlZFRyaWFsPSExfWNhdGNoKFUpe3MudmFsaWQ9ITF9cmV0dXJuIHN9LG4ucHJvdG90eXBlLl9lbWl0RmlsZXNUb1RyYWNrPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoe3R5cGU6ImZpbGVzVG9UcmFjayIsZmlsZXM6ZX0pfSxuLnByb3RvdHlwZS5fZW1pdFRlc3RSdW5FcnJvcj1mdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOiJzdGF0cyIsZGF0YTplfSl9LG4ucHJvdG90eXBlLl9lbWl0RG9jdW1lbnRVcGRhdGVzPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoe3R5cGU6ImRvY3VtZW50VXBkYXRlcyIsdXBkYXRlczplfSl9LG4ucHJvdG90eXBlLl9lbWl0U3RhdHNVcGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdCh7dHlwZToic3RhdHMiLGRhdGE6ZX0pfSxuLnByb3RvdHlwZS5fZW1pdFByb2plY3RDb25maWd1cmVkPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZW1pdChfLmV4dGVuZCh7fSx0LHtmaWxlczplfSkpfSxuLnByb3RvdHlwZS5fZW1pdE5vdGlmaWNhdGlvbj1mdW5jdGlvbihlLHQpe3RoaXMuX2VtaXQoe3R5cGU6Im5vdGlmaWNhdGlvbiIsbm90aWZpY2F0aW9uOnt0ZXh0OnQsdHlwZTplfX0pfSxuLnByb3RvdHlwZS5fZW1pdFN0b3BwZWQ9ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdCh7dHlwZToic3RvcHBlZCIsZGVhY3RpdmF0ZTplfSl9LG4ucHJvdG90eXBlLl9lbWl0RXhwaXJlZExpY2Vuc2U9ZnVuY3Rpb24oKXt0aGlzLl9lbWl0KHt0eXBlOiJleHBpcmVkTGljZW5zZSJ9KX0sbi5wcm90b3R5cGUuX2VtaXQ9ZnVuY3Rpb24oZSl7dGhpcy5lbWl0KCJtZXNzYWdlIixlKX0sbi5wcm90b3R5cGUuX2Vycm9yTWVzc2FnZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcHJvamVjdCYmdGhpcy5fcHJvamVjdC5fY2xlYW5TdGFjayhlKSxlJiYoZS5zdGFja3x8ZS5tZXNzYWdlKX0sbi5wcm90b3R5cGUuX3Rlc3RSdW5FcnJvck1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubWVzc2FnZX0sbn0oRXZlbnRFbWl0dGVyKTt0LmV4cG9ydHM9Yn0seyIuL3NlcnZlci9maWxlU3lzdGVtIjo5LCIuL3NlcnZlci9tb2RlbCI6MTAsIi4vc2hhcmVkL3V0aWxzIjoxNSxjcnlwdG86dm9pZCAwLGRlYnVnOnZvaWQgMCx0aW1lcnM6dm9pZCAwfV0sMzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fdGVzdElkPWUuc3BlYyx0aGlzLl9maWxlSWQ9ZS5maWxlLHRoaXMuX3JhbmdlPWUucmFuZ2UsdGhpcy5fdGV4dD1lLnRleHQsdGhpcy5fdHlwZT1lLnR5cGUsdGhpcy5fY29udGV4dD1lLmNvbnRleHR9cmV0dXJuIGUucHJvdG90eXBlLnRlc3RJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXN0SWR9LGUucHJvdG90eXBlLmZpbGVJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlSWR9LGUucHJvdG90eXBlLnJhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhbmdlfSxlLnByb3RvdHlwZS5zZXRSYW5nZT1mdW5jdGlvbihlKXt0aGlzLl9yYW5nZT1lfSxlLnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR9LGUucHJvdG90eXBlLnR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX0sZS5wcm90b3R5cGUuc2V0RmlsZT1mdW5jdGlvbihlKXt0aGlzLl9maWxlPWV9LGUucHJvdG90eXBlLmZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZX0sZS5wcm90b3R5cGUubGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZT9fLmlzQXJyYXkodGhpcy5fcmFuZ2UpP3RoaXMuX3JhbmdlWzBdOnRoaXMuX3JhbmdlLnN0YXJ0TGluZSgpOnZvaWQgMH0sZS5wcm90b3R5cGUuY29udGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb250ZXh0fSxlfSgpO3QuZXhwb3J0cz1pfSx7fV0sNDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5faXRlbXM9ZS5pdGVtcyx0aGlzLl9oaXRzPWUuaGl0c31yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LG4pe3ZhciBpPXRoaXM7dGhpcy5fa2V5PWUucmFuZ2VLZXkodGhpcy5faXRlbXMpLHRoaXMuX2ZpbGU9dCx0aGlzLl9zdGFydExpbmU9dGhpcy5faXRlbXNbMF0sdGhpcy5fc3RhcnRDb2x1bW49dGhpcy5faXRlbXNbMV0sdGhpcy5fZW5kTGluZT10aGlzLl9pdGVtc1syXSx0aGlzLl9lbmRDb2x1bW49dGhpcy5faXRlbXNbM10sdGhpcy5fbnVtT2ZDb3ZlcmluZ1Rlc3RzPTAsdGhpcy5faXNDb3ZlcmVkPSExLHRoaXMuX2hpdHMmJih0aGlzLl9jb3ZlcmluZ1Rlc3RNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSxfLmVhY2godGhpcy5faGl0cyxmdW5jdGlvbihlKXtpZihlKXt2YXIgdD1uW2VdO2lmKCF0KXJldHVybjt2YXIgcj10LmtleSgpO2kuX2NvdmVyaW5nVGVzdE1hcFtyXT10LGkuX2FkZEZhaWxlZE9uTWVUZXN0SWZGYWlsaW5nKHQpfWVsc2UgaS5faXNDb3ZlcmVkQnlOb3RUZXN0cz0hMH0pLGkuX251bU9mQ292ZXJpbmdUZXN0cz1fLnNpemUoaS5fY292ZXJpbmdUZXN0TWFwKSxpLl9zZXRJc0NvdmVyZWQoKSksZGVsZXRlIHRoaXMuX2l0ZW1zLGRlbGV0ZSB0aGlzLl9oaXRzfSxlLnByb3RvdHlwZS5saW5lU2hpZnQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnRMaW5lKz10LHRoaXMuX2VuZExpbmUrPXQsdGhpcy5fa2V5PWUucmFuZ2VLZXkoW3RoaXMuX3N0YXJ0TGluZSx0aGlzLl9zdGFydENvbHVtbix0aGlzLl9lbmRMaW5lLHRoaXMuX2VuZENvbHVtbl0pfSxlLnByb3RvdHlwZS5zdGFydExpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRMaW5lfSxlLnByb3RvdHlwZS5zdGFydENvbHVtbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFydENvbHVtbn0sZS5wcm90b3R5cGUuZW5kTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmRMaW5lfSxlLnByb3RvdHlwZS5lbmRDb2x1bW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5kQ29sdW1ufSxlLnByb3RvdHlwZS5mYWlscz1mdW5jdGlvbihlKXt0aGlzLl9nbG9iYWxFcnJvcnN8fCh0aGlzLl9nbG9iYWxFcnJvcnM9W10pLH50aGlzLl9nbG9iYWxFcnJvcnMuaW5kZXhPZihlKXx8dGhpcy5fZ2xvYmFsRXJyb3JzLnB1c2goZSl9LGUucHJvdG90eXBlLnNldENvbnNvbGVMb2c9ZnVuY3Rpb24oZSl7dGhpcy5fY29uc29sZUxvZz1lfSxlLnByb3RvdHlwZS5jb25zb2xlTG9nPWZ1bmN0aW9uKCl7CnJldHVybiB0aGlzLl9jb25zb2xlTG9nfSxlLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5fSxlLnByb3RvdHlwZS5pc0Rpc3Bvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9LGUucHJvdG90eXBlLmlzRXJyb3JTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFpbGVkQnlNZVRlc3RzJiYhXy5pc0VtcHR5KHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cyl8fHRoaXMuX2dsb2JhbEVycm9ycyYmIV8uaXNFbXB0eSh0aGlzLl9nbG9iYWxFcnJvcnMpfSxlLnByb3RvdHlwZS5pc09uRXJyb3JQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZhaWxlZE9uTWVUZXN0cyYmIV8uaXNFbXB0eSh0aGlzLl9mYWlsZWRPbk1lVGVzdHMpfSxlLnByb3RvdHlwZS5lcnJvcnM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5pc0Vycm9yU291cmNlKCk/KHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cyYmKGU9ZS5jb25jYXQoXy5mbGF0dGVuKF8udmFsdWVzKHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cykpKSksdGhpcy5fZ2xvYmFsRXJyb3JzJiYoZT1lLmNvbmNhdCh0aGlzLl9nbG9iYWxFcnJvcnMpKSxlKTplfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX2ZpbGUsZGVsZXRlIHRoaXMuX2NvdmVyaW5nVGVzdE1hcCxkZWxldGUgdGhpcy5fZmFpbGVkT25NZVRlc3RzLGRlbGV0ZSB0aGlzLl9mYWlsZWRCeU1lVGVzdHMsZGVsZXRlIHRoaXMuX2dsb2JhbEVycm9ycyx0aGlzLl9pc0Rpc3Bvc2VkPSEwLGRlbGV0ZSB0aGlzLl9udW1PZkNvdmVyaW5nVGVzdHN9LGUucHJvdG90eXBlLnNvdXJjZUZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZX0sZS5wcm90b3R5cGUuZmFpbHNUZXN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fZmFpbGVkQnlNZVRlc3RzfHwodGhpcy5fZmFpbGVkQnlNZVRlc3RzPU9iamVjdC5jcmVhdGUobnVsbCkpLHRoaXMuX2ZhaWxlZEJ5TWVUZXN0c1tlLmtleSgpXT10fSxlLnByb3RvdHlwZS5ub3RDb3ZlcmVkQnk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5rZXkoKSxuPXRoaXMuaXNDb3ZlcmVkKCk7dGhpcy5fY292ZXJpbmdUZXN0TWFwJiZ0aGlzLl9jb3ZlcmluZ1Rlc3RNYXBbdF0mJihkZWxldGUgdGhpcy5fY292ZXJpbmdUZXN0TWFwW3RdLHRoaXMuX251bU9mQ292ZXJpbmdUZXN0cy0tLHRoaXMuX3NldElzQ292ZXJlZCgpKSx0aGlzLl9mYWlsZWRCeU1lVGVzdHMmJmRlbGV0ZSB0aGlzLl9mYWlsZWRCeU1lVGVzdHNbdF0sdGhpcy5fZmFpbGVkT25NZVRlc3RzJiZkZWxldGUgdGhpcy5fZmFpbGVkT25NZVRlc3RzW3RdLG51bGwhPXRoaXMuX2ZpbGUmJnRoaXMuX2ZpbGUucmFuZ2VDb3ZlcmFnZUNoYW5nZWQodGhpcyxuKX0sZS5wcm90b3R5cGUuY292ZXJpbmdUZXN0cz1mdW5jdGlvbigpe3JldHVybiBfLnZhbHVlcyh0aGlzLl9jb3ZlcmluZ1Rlc3RNYXApfSxlLnByb3RvdHlwZS5pc0NvdmVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNDb3ZlcmVkfSxlLnByb3RvdHlwZS5fc2V0SXNDb3ZlcmVkPWZ1bmN0aW9uKCl7dGhpcy5faXNDb3ZlcmVkPXRoaXMuX251bU9mQ292ZXJpbmdUZXN0cz4wfHx0aGlzLl9pc0NvdmVyZWRCeU5vdFRlc3RzfSxlLnByb3RvdHlwZS5hdHRhY2hlZFRvU291cmNlRmlsZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fY292ZXJpbmdUZXN0TWFwJiZfLmVhY2godGhpcy5fY292ZXJpbmdUZXN0TWFwLGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvdmVycyhlKX0pfSxlLnByb3RvdHlwZS51cGRhdGVGcm9tPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzO3JldHVybiB0JiZuJiZfLmlzRW1wdHkoZS5fY292ZXJpbmdUZXN0TWFwKT92b2lkKGUuX2NvbnNvbGVMb2cmJih0aGlzLl9jb25zb2xlTG9nPWUuX2NvbnNvbGVMb2cpKToodGhpcy5faXNDb3ZlcmVkQnlOb3RUZXN0cz1lLl9pc0NvdmVyZWRCeU5vdFRlc3RzLHRoaXMuX2NvbnNvbGVMb2c9ZS5fY29uc29sZUxvZyx0aGlzLl9mYWlsZWRCeU1lVGVzdHMmJih0aGlzLl9mYWlsZWRCeU1lVGVzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSksdGhpcy5fZ2xvYmFsRXJyb3JzJiYodGhpcy5fZ2xvYmFsRXJyb3JzPVtdKSxlLl9jb3ZlcmluZ1Rlc3RNYXA/KHQmJiFuPyh0aGlzLl9jb3ZlcmluZ1Rlc3RNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9mYWlsZWRPbk1lVGVzdHMmJih0aGlzLl9mYWlsZWRPbk1lVGVzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSksXy5lYWNoKGUuX2NvdmVyaW5nVGVzdE1hcCxmdW5jdGlvbihlKXt2YXIgdD1lLmtleSgpO2kuX2NvdmVyaW5nVGVzdE1hcFt0XT1lLGUuY292ZXJzKGkpLGkuX2FkZEZhaWxlZE9uTWVUZXN0SWZGYWlsaW5nKGUpfSkpOmkuX2ZhaWxlZE9uTWVUZXN0cz9fLmVhY2goZS5fY292ZXJpbmdUZXN0TWFwLGZ1bmN0aW9uKGUpe3JldHVybiBpLl91cGRhdGVUZXN0V2l0aFBvc3NpYmxlRmFpbGVkT25UaGVSYW5nZShlLGUua2V5KCkpfSk6Xy5lYWNoKGUuX2NvdmVyaW5nVGVzdE1hcCxmdW5jdGlvbihlKXtyZXR1cm4gaS5fdXBkYXRlVGVzdChlLGUua2V5KCkpfSksaS5fbnVtT2ZDb3ZlcmluZ1Rlc3RzPV8uc2l6ZShpLl9jb3ZlcmluZ1Rlc3RNYXApKToodGhpcy5fY292ZXJpbmdUZXN0TWFwPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fbnVtT2ZDb3ZlcmluZ1Rlc3RzPTAsdGhpcy5fZmFpbGVkT25NZVRlc3RzJiYodGhpcy5fZmFpbGVkT25NZVRlc3RzPU9iamVjdC5jcmVhdGUobnVsbCkpKSx2b2lkIHRoaXMuX3NldElzQ292ZXJlZCgpKX0sZS5wcm90b3R5cGUuX3VwZGF0ZVRlc3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jb3ZlcmluZ1Rlc3RNYXBbdF09ZSxlLmNvdmVycyh0aGlzKSx0aGlzLl9hZGRGYWlsZWRPbk1lVGVzdElmRmFpbGluZyhlKX0sZS5wcm90b3R5cGUuX3VwZGF0ZVRlc3RXaXRoUG9zc2libGVGYWlsZWRPblRoZVJhbmdlPWZ1bmN0aW9uKGUsdCl7ZGVsZXRlIHRoaXMuX2ZhaWxlZE9uTWVUZXN0c1t0XSx0aGlzLl91cGRhdGVUZXN0KGUsdCl9LGUucHJvdG90eXBlLl9pc0luc2lkZU9mPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zdGFydExpbmU+PWUuX3N0YXJ0TGluZSYmZS5fZW5kTGluZT49dGhpcy5fZW5kTGluZSYmKHRoaXMuX3N0YXJ0TGluZT5lLl9zdGFydExpbmV8fHRoaXMuX3N0YXJ0Q29sdW1uPj1lLl9zdGFydENvbHVtbikmJihlLl9lbmRMaW5lPnRoaXMuX2VuZExpbmV8fGUuX2VuZENvbHVtbj49dGhpcy5fZW5kQ29sdW1uKX0sZS5wcm90b3R5cGUuY2xvc2VyVG9UaGVMaW5lVGhhbj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9zdGFydExpbmU9PT1lJiZ0Ll9zdGFydExpbmU9PT1lJiZ0aGlzLl9zdGFydENvbHVtbiE9PXQuX3N0YXJ0Q29sdW1uP3RoaXMuX3N0YXJ0Q29sdW1uPHQuX3N0YXJ0Q29sdW1uOnRoaXMuX3N0YXJ0TGluZT09PWUmJnQuX2VuZExpbmU9PT1lJiZ0aGlzLl9zdGFydENvbHVtbj50Ll9lbmRDb2x1bW4/ITA6dGhpcy5faXNJbnNpZGVPZih0KX0sZS5wcm90b3R5cGUuX2FkZEZhaWxlZE9uTWVUZXN0SWZGYWlsaW5nPWZ1bmN0aW9uKGUpe2UuaXNGYWlsaW5nKCkmJih0aGlzLl9mYWlsZWRPbk1lVGVzdHN8fCh0aGlzLl9mYWlsZWRPbk1lVGVzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSksdGhpcy5fZmFpbGVkT25NZVRlc3RzW2Uua2V5KCldPWUpfSxlLnJhbmdlS2V5PWZ1bmN0aW9uKGUpe3JldHVybiBlLmpvaW4oIi4iKX0sZX0oKTt0LmV4cG9ydHM9aX0se31dLDU6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZSgiLi9kb2N1bWVudExpbmUiKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2xpbmVzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fcmVjeWNsZWRMaW5lcz1bXSx0aGlzLl9saW5lU2hpZnRPckludmFsaWRhdGlvblNpbmNlTGFzdFVwZGF0ZT0hMX1yZXR1cm4gZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLHM9dGhpcy5fbGluZVNoaWZ0T3JJbnZhbGlkYXRpb25TaW5jZUxhc3RVcGRhdGU7ZGVsZXRlIHRoaXMuX2xpbmVTaGlmdE9ySW52YWxpZGF0aW9uU2luY2VMYXN0VXBkYXRlLG4/KHRoaXMuX2xpbmVzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fcmVjeWNsZWRMaW5lcz1bXSk6dCYmXy5lYWNoKHRoaXMuX2xpbmVzLGZ1bmN0aW9uKGUpe2UucmVtb3ZlUmFuZ2VzKCl9KTt2YXIgbz1bXSxhPVtdO18uZWFjaChlLGZ1bmN0aW9uKGUpe2lmKCFlLmlzRGlzcG9zZWQoKSl7dmFyIG49ZS5zdGFydExpbmUoKSxzPXIuX2xpbmVzW25dO3N8fChzPW5ldyBpKG4pLHIuX2xpbmVzW25dPXMsYS5wdXNoKHMpKSxzLmFkZFJhbmdlKGUsdCksby5wdXNoKHMpfX0pO3ZhciBsPU9iamVjdC5jcmVhdGUobnVsbCk7bz10JiYhbj9fLnZhbHVlcyh0aGlzLl9saW5lcykuY29uY2F0KGEpOm8sXy5lYWNoKG8sZnVuY3Rpb24oZSl7ZS5oYXNSYW5nZXMoKT9lLnVwZGF0ZUxpbmVEYXRhKCkmJihsW2Uua2V5KCldPWUpOihlLmRpc3Bvc2UoKSxkZWxldGUgci5fbGluZXNbZS5udW1iZXIoKV0sci5fcmVjeWNsZWRMaW5lcy5wdXNoKGUpKX0pO3ZhciBjPXRoaXMuX3JlY3ljbGVkTGluZXMuc2xpY2UoKTtyZXR1cm4gdGhpcy5fcmVjeWNsZWRMaW5lcz1bXSx7bGluZXM6bj9fLm1hcCh0aGlzLl9saW5lcyxmdW5jdGlvbihlKXtyZXR1cm4gci5fY29tcGFjdExpbmUoZSl9KTpfLm1hcChzP3RoaXMuX2xpbmVzOmwsZnVuY3Rpb24oZSl7dmFyIHQ9ci5fY29tcGFjdExpbmUoZSk7cmV0dXJuIHQuY2hhbmdlZD1zPyEhbFtlLmtleSgpXXx8dm9pZCAwOjEsdH0pLmNvbmNhdChfLm1hcChjLGZ1bmN0aW9uKGUpe3JldHVybntpZDplLmtleSgpLGRlbDoxfX0pKSxhbGxMaW5lczpufHxzfX0sZS5wcm90b3R5cGUubGluZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbGluZXNbZV19LGUucHJvdG90eXBlLmFsbExpbmVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm57bGluZXM6Xy5tYXAodGhpcy5fbGluZXMsZnVuY3Rpb24odCl7cmV0dXJuIGUuX2NvbXBhY3RMaW5lKHQpfSksYWxsTGluZXM6ITB9fSxlLnByb3RvdHlwZS5fY29tcGFjdExpbmU9ZnVuY3Rpb24oZSl7cmV0dXJue2lkOmUua2V5KCksbnVtOmUubnVtYmVyKCksc3RhdGU6ZS5zdGF0ZSgpLGxvZzplLmNvbnNvbGVMb2dUZXh0KCksbG9uZ0xvZzplLmxvbmdDb25zb2xlTG9nVGV4dCgpLGVycjplLmVycm9yU291cmNlVGV4dCgpfX0sZS5wcm90b3R5cGUuaW52YWxpZGF0ZUxpbmVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fbGluZVNoaWZ0T3JJbnZhbGlkYXRpb25TaW5jZUxhc3RVcGRhdGU9ITAsXy5lYWNoKF8ucmFuZ2UoZS5zdGFydCxlLmVuZCksZnVuY3Rpb24obil7dmFyIGk9dC5fbGluZXNbbl07aSYmdC5fcmVjeWNsZUxpbmVJZkluQ2hhbmdlRnJhbWUoaSxlKX0pfSxlLnByb3RvdHlwZS5zaGlmdExpbmVzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzO3RoaXMuX2xpbmVTaGlmdE9ySW52YWxpZGF0aW9uU2luY2VMYXN0VXBkYXRlPSEwO3ZhciByPV8udmFsdWVzKHRoaXMuX2xpbmVzKTt0aGlzLl9saW5lcz1PYmplY3QuY3JlYXRlKG51bGwpLF8uZWFjaChyLGZ1bmN0aW9uKHIpe3ZhciBzPXIubnVtYmVyKCk7aWYoIWkuX3JlY3ljbGVMaW5lSWZJbkNoYW5nZUZyYW1lKHIsbikpe3M+ZSYmKHMrPXQsci5udW1iZXIocykpO3ZhciBvPWkuX2xpbmVzW3NdO28/KG8uZGlzcG9zZSgpLHIuZGlzcG9zZSgpLGkuX3JlY3ljbGVkTGluZXMucHVzaChvKSxpLl9yZWN5Y2xlZExpbmVzLnB1c2gociksZGVsZXRlIGkuX2xpbmVzW3NdKTppLl9saW5lc1tzXT1yfX0pfSxlLnByb3RvdHlwZS5fcmVjeWNsZUxpbmVJZkluQ2hhbmdlRnJhbWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLm51bWJlcigpO3JldHVybiBuPj10LnN0YXJ0JiZuPD10LmVuZD8oZS5kaXNwb3NlKCksdGhpcy5fcmVjeWNsZWRMaW5lcy5wdXNoKGUpLCEwKTp2b2lkIDB9LGV9KCk7dC5leHBvcnRzPXJ9LHsiLi9kb2N1bWVudExpbmUiOjZ9XSw2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoIi4uL3NoYXJlZC9lbnVtcyIpLmxpbmVTdGF0ZSxyPTEyOCxzPTEwMjQqKHByb2Nlc3MuZW52LnF1b2trYT8yNTY6MTApLG89MTI4LGE9MCxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9saW5lTnVtYmVyPWUsdGhpcy5fcmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5faWQ9KythfXJldHVybiBlLnByb3RvdHlwZS5oYXNSYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4hXy5pc0VtcHR5KHRoaXMuX3Jhbmdlcyl9LGUucHJvdG90eXBlLnJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZXN9LGUucHJvdG90eXBlLnVwZGF0ZUxpbmVEYXRhPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSEwLG49ITAsYT0hMSxsPSExLGM9dGhpcy5fbGluZVN0YXRlLHU9dGhpcy5fY29uc29sZUxvZ1RleHQsZD10aGlzLl9lcnJvclNvdXJjZVRleHQ7cmV0dXJuIGRlbGV0ZSB0aGlzLl9jb25zb2xlTG9nVGV4dCxkZWxldGUgdGhpcy5fbG9uZ0NvbnNvbGVMb2dUZXh0LGRlbGV0ZSB0aGlzLl9lcnJvclNvdXJjZVRleHQsXy5lYWNoKHRoaXMuX3JhbmdlcyxmdW5jdGlvbihpKXt2YXIgYz1pLmNvbnNvbGVMb2coKTtpZihjJiZjLmxlbmd0aCl7Xy5pc1N0cmluZyhlLl9jb25zb2xlTG9nVGV4dCl8fChlLl9jb25zb2xlTG9nVGV4dD0iIik7dmFyIHU9Yy5sZW5ndGg+cixkPV8ubWFwKHU/Yy5zbGljZShjLmxlbmd0aC1yKTpjLGZ1bmN0aW9uKGUpe3JldHVybiIiPT09ZT8iW2VtcHR5IHN0cmluZ10iOmV9KS5qb2luKCIsICIpO2lmKGQubGVuZ3RoPnImJihkPSgwPT09ZC5pbmRleE9mKCJ0aGVuICIpPyJ0aGVuICI6IiIpKyIuLi4gIitkLnN1YnN0cihkLmxlbmd0aC1yKzQpKSxlLl9jb25zb2xlTG9nVGV4dCs9KGUuX2NvbnNvbGVMb2dUZXh0PyIgfCAiOiIiKStkLCFlLl9sb25nQ29uc29sZUxvZ1RleHR8fF8uaXNTdHJpbmcoZS5fbG9uZ0NvbnNvbGVMb2dUZXh0KSYmZS5fbG9uZ0NvbnNvbGVMb2dUZXh0Lmxlbmd0aDxzKXtfLmlzU3RyaW5nKGUuX2xvbmdDb25zb2xlTG9nVGV4dCl8fChlLl9sb25nQ29uc29sZUxvZ1RleHQ9IiIpO3ZhciBoPWMubGVuZ3RoPjFlMyxwPShoPyIgIC4uLlxuIjoiIikrIiAiKyhoP2Muc2xpY2UoYy5sZW5ndGgtMWUzKTpjKS5qb2luKCIgXG4gIik7ZS5fbG9uZ0NvbnNvbGVMb2dUZXh0Kz0oZS5fbG9uZ0NvbnNvbGVMb2dUZXh0PyJcbi0tLVxuIjoiIikrcH19aWYoaS5pc0Vycm9yU291cmNlKCkpe2E9ITA7dmFyIGY9aS5lcnJvcnMoKTtpZihmLmxlbmd0aCl7dmFyIHk9ZlswXS5tZXNzYWdlKCk7ZS5fZXJyb3JTb3VyY2VUZXh0PWUuX3RydW5jYXRlTWVzc2FnZSh5fHwiIixvKX19aS5pc09uRXJyb3JQYXRoKCkmJihsPSEwKSxpLmlzQ292ZXJlZCgpP249ITE6dD0hMX0pLGUuX2NvbnNvbGVMb2dUZXh0JiYoXy5pc1N0cmluZyhlLl9sb25nQ29uc29sZUxvZ1RleHQpJiYoZS5fbG9uZ0NvbnNvbGVMb2dUZXh0PWUuX3RydW5jYXRlTWVzc2FnZShlLl9sb25nQ29uc29sZUxvZ1RleHQscywhMCkpLGUuX2NvbnNvbGVMb2dUZXh0PWUuX3RydW5jYXRlTWVzc2FnZShlLl9jb25zb2xlTG9nVGV4dCxyKSksdGhpcy5fbGluZVN0YXRlPWE/aS5lcnJvclNvdXJjZTpsP2kuZXJyb3JQYXRoOm4/aS5ub3RDb3ZlcmVkOnQ/aS5mdWxseUNvdmVyZWQ6aS5wYXJ0aWFsbHlDb3ZlcmVkLHRoaXMuX2xpbmVTdGF0ZSE9PWN8fHRoaXMuX2NvbnNvbGVMb2dUZXh0IT09dXx8dGhpcy5fZXJyb3JTb3VyY2VUZXh0IT09ZH0sZS5wcm90b3R5cGUuY29uc29sZUxvZ1RleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uc29sZUxvZ1RleHR9LGUucHJvdG90eXBlLmxvbmdDb25zb2xlTG9nVGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb25nQ29uc29sZUxvZ1RleHR9LGUucHJvdG90eXBlLmVycm9yU291cmNlVGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lcnJvclNvdXJjZVRleHR9LGUucHJvdG90eXBlLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpbmVTdGF0ZX0sZS5wcm90b3R5cGUuYWRkUmFuZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmtleSgpO3R8fGRlbGV0ZSB0aGlzLl9yYW5nZXNbbl0sdGhpcy5fcmFuZ2VzW25dPWV9LGUucHJvdG90eXBlLnJlbW92ZVJhbmdlcz1mdW5jdGlvbigpe3RoaXMuX3Jhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpfSxlLnByb3RvdHlwZS5udW1iZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXRoaXMuX2xpbmVOdW1iZXI7aWYoXy5pc1VuZGVmaW5lZChlKSlyZXR1cm4gbjtpZihlIT09bil7dGhpcy5fbGluZU51bWJlcj1lO3ZhciBpPWUtbixyPV8udmFsdWVzKHRoaXMuX3Jhbmdlcyk7dGhpcy5yZW1vdmVSYW5nZXMoKSxfLmVhY2gocixmdW5jdGlvbihlKXtlLmxpbmVTaGlmdChpKSx0Ll9yYW5nZXNbZS5rZXkoKV09ZX0pfX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMucmVtb3ZlUmFuZ2VzKCksZGVsZXRlIHRoaXMuX2NvbnNvbGVMb2dUZXh0LGRlbGV0ZSB0aGlzLl9lcnJvclNvdXJjZVRleHQsZGVsZXRlIHRoaXMuX2xpbmVTdGF0ZSx0aGlzLl9pc0Rpc3Bvc2VkPSEwfSxlLnByb3RvdHlwZS5pc0Rpc3Bvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9LGUucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH0sZS5wcm90b3R5cGUuX3RydW5jYXRlTWVzc2FnZT1mdW5jdGlvbihlLHQsbil7dmFyIGk9ZS5sZW5ndGg+dD8iLi4uIjoiIjtyZXR1cm4gZT1lLnN1YnN0cigwLHQpLChuP2U6dGhpcy5fY2xlYW5TdHJpbmcoZSkpK2l9LGUucHJvdG90eXBlLl9jbGVhblN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5yZXBsYWNlKC9cclxuXHMqL2csIiAiKS5yZXBsYWNlKC9cblxzKi9nLCIgIil9LGV9KCk7dC5leHBvcnRzPWx9LHsiLi4vc2hhcmVkL2VudW1zIjoxNH1dLDc6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZSgiLi9zdGFja0VudHJ5Iikscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fYWN0dWFsPWUuYWN0dWFsLHRoaXMuX2V4cGVjdGVkPWUuZXhwZWN0ZWQsdGhpcy5fbWVzc2FnZT1lLm1lc3NhZ2UsdGhpcy5fc3RhY2s9ZS5zdGFjayx0aGlzLl9zbmFwc2hvdD1lLnNuYXBzaG90LHRoaXMuX2NvbnRleHQ9ZS5jb250ZXh0fHx7fX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLl9zdGFjazt0aGlzLl9zdGFjaz1bXSxfLmVhY2godCxmdW5jdGlvbih0LG4pe3JldHVybiBlLl9zdGFjay5wdXNoKG5ldyBpKHRbMF0sdFsxXSxlLl9jb250ZXh0W25dKSl9KSxkZWxldGUgdGhpcy5fY29udGV4dH0sZS5wcm90b3R5cGUuc3RhY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhY2t9LGUucHJvdG90eXBlLm1lc3NhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVzc2FnZX0sZS5wcm90b3R5cGUuYWN0dWFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdHVhbH0sZS5wcm90b3R5cGUuZXhwZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXhwZWN0ZWR9LGUucHJvdG90eXBlLnNuYXBzaG90PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NuYXBzaG90fSxlLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5fbWVzc2FnZXx8IiIpK18ucmVkdWNlKHRoaXMuX3N0YWNrLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrPXQua2V5KCl9LCIiKX0sZX0oKTt0LmV4cG9ydHM9cn0seyIuL3N0YWNrRW50cnkiOjEyfV0sODpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1lKCIuL2Vycm9yRW50cnkiKSxyPShlKCIuL3N0YWNrRW50cnkiKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5faWQ9ZS5pZCx0aGlzLl9maWxlSWQ9ZS5maWxlSWQsdGhpcy5fbG9nPWUubG9nLHRoaXMuX25hbWU9ZS5uYW1lLHRoaXMuX3Rlc3RzPWUudGVzdHMsdGhpcy5fc3RhcnQ9ZS5zdGFydCx0aGlzLl90aW1lPWUudGltZSx0aGlzLl9zbG93PWUuc2xvd31yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LG4scixzKXt2YXIgbz10aGlzO2lmKHRoaXMuX3BhcmVudD10LHRoaXMuX2lkJiYodGhpcy5fYnVpbGRGdWxsTmFtZUFuZFBhdGgoKSx0aGlzLl9zZXRLZXkoKSxyKHRoaXMpLHRoaXMuX2NvdmVyZWRSYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9jb3ZlcmVkRmlsZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl90cz1uLHRoaXMuX2xvZyYmdGhpcy5fbG9nLmxlbmd0aCkpe3RoaXMuX2lzRmFpbGluZz0hMDt2YXIgYT10aGlzLl9sb2c7dGhpcy5fbG9nPVtdLHRoaXMuX2Vycm9yU3RhY2tNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSxfLmVhY2goYSxmdW5jdGlvbihlKXt2YXIgdD1uZXcgaShlKTt0LmluaXQoKSxfLmVhY2godC5zdGFjaygpLGZ1bmN0aW9uKGUpe3ZhciBuPWUua2V5KCksaT1vLl9lcnJvclN0YWNrTWFwW25dO2k/fl8uaW5kZXhPZihpLHQpfHxpLnB1c2godCk6KGk9W10saS5wdXNoKHQpLG8uX2Vycm9yU3RhY2tNYXBbbl09aSksaS5zdGFja0VudHJ5PWUscyhlKX0pLG8uX2xvZy5wdXNoKHQpfSl9dGhpcy5fdGVzdHMmJihfLmVhY2godGhpcy5fdGVzdHMsZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpLmluaXQobyxuLHIscyl9KSxkZWxldGUgdGhpcy5fdGVzdHMpfSxlLnByb3RvdHlwZS5pZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH0sZS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleXx8KHRoaXMuX3NldEtleSgpLHRoaXMuX2tleSl9LGUucHJvdG90eXBlLl9zZXRLZXk9ZnVuY3Rpb24oKXt0aGlzLl9rZXk9dGhpcy5fZmlsZUlkKyJfIit0aGlzLl9mdWxsTmFtZX0sZS5wcm90b3R5cGUuZmlsZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVJZH0sZS5wcm90b3R5cGUuZmlsZVBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVzdEZpbGUmJnRoaXMuX3Rlc3RGaWxlLnBhdGgoKX0sZS5wcm90b3R5cGUudGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90aW1lfSxlLnByb3RvdHlwZS5lcnJvcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9nfSxlLnByb3RvdHlwZS5hZGRDb25zb2xlTWVzc2FnZT1mdW5jdGlvbihlKXt0aGlzLl9jb25zb2xlTWVzc2FnZXN8fCh0aGlzLl9jb25zb2xlTWVzc2FnZXM9W10pLHRoaXMuX2NvbnNvbGVNZXNzYWdlcy5wdXNoKGUpfSxlLnByb3RvdHlwZS5jb25zb2xlTWVzc2FnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uc29sZU1lc3NhZ2VzfSxlLnByb3RvdHlwZS5pc0ZhaWxpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNGYWlsaW5nfSxlLnByb3RvdHlwZS5zbG93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Nsb3d9LGUucHJvdG90eXBlLnNldFRlc3RGaWxlPWZ1bmN0aW9uKGUpe3RoaXMuX3Rlc3RGaWxlPWV9LGUucHJvdG90eXBlLm9ic29sZXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9zdGFydFJhbmdlLGRlbGV0ZSB0aGlzLl90ZXN0RmlsZSx0aGlzLl9jb3ZlcmVkUmFuZ2VzJiYoXy5lYWNoKHRoaXMuX2NvdmVyZWRSYW5nZXMsZnVuY3Rpb24obil7aWYobi5ub3RDb3ZlcmVkQnkoZSksIW4uaXNEaXNwb3NlZCgpKXt2YXIgaT1uLnNvdXJjZUZpbGUoKTt0W2kua2V5KCldPWl9fSksZGVsZXRlIHRoaXMuX2NvdmVyZWRSYW5nZXMpLGRlbGV0ZSB0aGlzLl9lcnJvclN0YWNrTWFwLGRlbGV0ZSB0aGlzLl9jb25zb2xlTWVzc2FnZXMsZGVsZXRlIHRoaXMuX2NvdmVyZWRGaWxlcyx0fSxlLnByb3RvdHlwZS5jb3ZlcnM9ZnVuY3Rpb24oZSl7dGhpcy5fY292ZXJlZFJhbmdlc1tlLmtleSgpXT1lO3ZhciB0PWUuc291cmNlRmlsZSgpO3QmJiF0LmlzVGVzdEZpbGUoKSYmKHRoaXMuX2NvdmVyZWRGaWxlc1t0LmtleSgpXT10KX0sZS5wcm90b3R5cGUuY292ZXJlZEZpbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIF8ubWFwKHRoaXMuX2NvdmVyZWRGaWxlcyxmdW5jdGlvbihlKXtyZXR1cm4gZX0pfSxlLnByb3RvdHlwZS5zdGFydFJhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXJ0UmFuZ2V9LGUucHJvdG90eXBlLmNvbXBsZXRlSW5pdGlhbGl6YXRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9lcnJvclN0YWNrTWFwJiZfLmVhY2godGhpcy5fZXJyb3JTdGFja01hcCxmdW5jdGlvbihuKXt2YXIgaT1uLnN0YWNrRW50cnk7aWYoaSl7dmFyIHI9ZVtpLmZpbGVJZCgpXTtpZihyKXt2YXIgcz1yLmNsb3Nlc3RSYW5nZShpLmxpbmUoKSk7cyYmKGkuc2V0UmFuZ2Uocykscy5mYWlsc1Rlc3QodCxuKSl9fX0pLHRoaXMuX2NvbnNvbGVNZXNzYWdlcyYmXy5lYWNoKHRoaXMuX2NvbnNvbGVNZXNzYWdlcyxmdW5jdGlvbihlKXt2YXIgdD1lLmZpbGUoKTt0JiZlLnNldFJhbmdlKHQuY2xvc2VzdFJhbmdlKGUubGluZSgpKSl9KSx0aGlzLl9jb3ZlcmVkUmFuZ2VzJiYoXy5pc1VuZGVmaW5lZCh0aGlzLl9zdGFydCl8fCh0aGlzLl9zdGFydFJhbmdlPXRoaXMuX3Rlc3RGaWxlLmNsb3Nlc3RSYW5nZSh0aGlzLl9zdGFydCksZGVsZXRlIHRoaXMuX3N0YXJ0KSx0aGlzLl9zdGFydFJhbmdlfHxfLmVhY2godGhpcy5fY292ZXJlZFJhbmdlcyxmdW5jdGlvbihlKXt2YXIgbj1lLnNvdXJjZUZpbGUoKTtuPT10Ll90ZXN0RmlsZSYmKHQuX3N0YXJ0UmFuZ2U/ZS5lbmRMaW5lKCk8dC5fc3RhcnRSYW5nZS5lbmRMaW5lKCkmJih0Ll9zdGFydFJhbmdlPWUpOnQuX3N0YXJ0UmFuZ2U9ZSl9KSl9LGUucHJvdG90eXBlLnBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF0aH0sZS5wcm90b3R5cGUudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHN9LGUucHJvdG90eXBlLl9idWlsZEZ1bGxOYW1lQW5kUGF0aD1mdW5jdGlvbigpe3ZhciBlPVtdO2UucHVzaCh0aGlzLl9uYW1lKTtmb3IodmFyIHQ9dGhpcy5fcGFyZW50O251bGwhPXQ7KXt2YXIgbj10Ll9uYW1lO2UucHVzaChuKSx0PXQuX3BhcmVudH1lLnJldmVyc2UoKSx0aGlzLl9mdWxsTmFtZT1lLmpvaW4oIuKYhiIpLHRoaXMuX3BhdGg9ZX0sZX0oKSk7dC5leHBvcnRzPXJ9LHsiLi9lcnJvckVudHJ5Ijo3LCIuL3N0YWNrRW50cnkiOjEyfV0sOTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfTtyZXR1cm4gZnVuY3Rpb24odCxuKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWUodCxuKSx0LnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihpLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgaSl9fSgpLHM9ZSgicGF0aCIpLG89ZSgiY2hva2lkYXIiKS5GU1dhdGNoZXIsYT1lKCJtaW5pbWF0Y2giKSxsPWUoIi4uL3NoYXJlZC91dGlscyIpLGM9MWUzLHU9NTAwLGQ9NTAsaD17YXBrOjEsYm1wOjEsY2dtOjEsZzM6MSxnaWY6MSxpZWY6MSxpcng6MSxqcGVnOjEsanBnOjEsanBlOjEsa3R4OjEscG5nOjEsYnRpZjoxLHNnaToxLHN2ZzoxLHN2Z3o6MSx0aWZmOjEsdGlmOjEscHNkOjEsdXZpOjEsdXZ2aToxLHV2ZzoxLHV2dmc6MSxkanZ1OjEsZGp2OjEsc3ViOjEsZHdnOjEsZHhmOjEsZmJzOjEsZnB4OjEsZnN0OjEsbW1yOjEscmxjOjEsbWRpOjEsd2RwOjEsbnB4OjEsd2JtcDoxLHhpZjoxLHdlYnA6MSwiM2RzIjoxLHJhczoxLGNteDoxLGZoOjEsZmhjOjEsZmg0OjEsZmg1OjEsZmg3OjEsaWNvOjEsc2lkOjEscGN4OjEscGljOjEscGN0OjEscG5tOjEscGJtOjEscGdtOjEscHBtOjEscmdiOjEsdGdhOjEseGJtOjEseHBtOjEseHdkOjEsYmluOjEseGxzOjEseGxzeDoxLHppcDoxLG1wNDoxLG1vOjEsbm9kZToxLGR1bXA6MSxkbGw6MSxtYXA6MSxsaWI6MSxleHA6MSxvYmo6MSxwZGI6MSxnemlwOjEsZ3o6MSxkYjoxLGRvY3g6MX0scD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKG4saSl7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLl9kaWZmTWF0Y2hQYXRjaD1pLmRpZmZNYXRjaFBhdGNoLHIuX2Jhc2VEaXI9bixyLl9pc1JlYWR5PSExLHIuX2lzU3RvcHBlZD0hMSxyLl9maWxlc0J5UGF0aD1PYmplY3QuY3JlYXRlKG51bGwpLHIuX2ZpbGVzQnlJZD1PYmplY3QuY3JlYXRlKG51bGwpLHIuX2ZpbGVJZD0wLHIuX2xydUNhY2hlPWUoImxydS1jYWNoZSIpKHttYXg6MTA0ODU3NipkLGxlbmd0aDpmdW5jdGlvbihlKXtyZXR1cm4gZS5sZW5ndGh9fSksci5fcmVhZEZpbGVQcm9taXNlPWkucmVhZEZpbGVQcm9taXNlLHIuX3JlYWxwYXRoU3luYz1pLnJlYWxwYXRoU3luYyxyfXJldHVybiByKG4sdCksbi5wcm90b3R5cGUuc2V0dXA9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLGE9dGhpcztpPWUoImRlYnVnIikoIndhbGxhYnk6ZnMiKTt2YXIgbD1bXSxkPVtdLGg9e30scD17fSxmPTA7Xy5lYWNoKHQsZnVuY3Rpb24oZSl7ZS5pZ25vcmU/ZC5wdXNoKGUpOihsLnB1c2goZSksZS5vcmRlcj0rK2YpfSk7dmFyIHk9biYmbi5nbG9iO24mJm4uZmlsZVNjYW5UaW1lb3V0JiYoYz11PW4uZmlsZVNjYW5UaW1lb3V0KTt2YXIgZz10aGlzLl9pc0luY2x1ZGVkKGEuX2Jhc2VEaXIsbCxkLGgseSksdj17aWdub3JlSW5pdGlhbDohMSxpZ25vcmVQZXJtaXNzaW9uRXJyb3JzOiEwLHVzZVBvbGxpbmc6ImRhcndpbiI9PT1wcm9jZXNzLnBsYXRmb3JtfHwibGludXgiPT09cHJvY2Vzcy5wbGF0Zm9ybSxpZ25vcmVkOmZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuITE7aWYodC5pc1N5bWJvbGljTGluaygpKXRyeXtwW2VdPXtwYXRoOmUscmVhbFBhdGg6YS5fcmVhbHBhdGhTeW5jKGUpfX1jYXRjaChuKXt9dmFyIGk9dC5pc0ZpbGUoKTtpZighaSl7dmFyIG89ci5faXNFbnRpdHlFeGNsdWRlZChzLmpvaW4ocy5yZWxhdGl2ZShhLl9iYXNlRGlyLGUpLCIvIiksZCx5KTtyZXR1cm4gby5maWxlJiZvLnRlc3R9dmFyIGw9IWcoZSx0KTtpZihsKXt2YXIgYz1fLmZpbmQocCxmdW5jdGlvbih0KXtyZXR1cm4gXy5zdGFydHNXaXRoKGUsdC5yZWFsUGF0aCl9KTtjJiYobD0hZyhlLnJlcGxhY2UoYy5yZWFsUGF0aCxjLnBhdGgpLHQpKX1yZXR1cm4gbH0sY3dkOmEuX2Jhc2VEaXJ9O2lmKGEuX2lzR2xvYihhLl9iYXNlRGlyKSl0aHJvdyBuZXcgRXJyb3IoIllvdXIgcHJvamVjdCBmaWxlIHBhdGggbG9va3MgbGlrZSBhIHZhbGlkIGdsb2IgcGF0dGVybiBhbmQgY29udGFpbnMgZ2xvYiBjaGFyYWN0ZXJzLCBsaWtlIGB7YCwgYH1gLCBgW2AsIGBdYCwgYChgLCBgKWAsIGAqYCwgYHxgOyBpdCBtYXkgY2F1c2UgdGhlIHByb2plY3QgZmlsZSBzY2FubmluZyB0byBmYWlsLCBwbGVhc2UgcmVtb3ZlIGdsb2IgY2hhcmFjdGVycyBmcm9tIHRoZSBwcm9qZWN0IHBhdGguIik7dGhpcy5fd2F0Y2hlcj1uZXcgbyh2KTt2YXIgbT1fLnJlZHVjZShsLGZ1bmN0aW9uKGUsdCl7dmFyIG49YS5fZ2V0QmFzZURpcih0LnBhdHRlcm4pO3JldHVybiBlW25dPW4sZX0se30pO18uZWFjaChtLGZ1bmN0aW9uKGUpe2lmKCFfLmZpbmQobSxmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWUmJmUuc3Vic3RyKDAsdC5sZW5ndGgrMSk9PT10KyIvIn0pKXt2YXIgdD12b2lkIDAsbj1zLm5vcm1hbGl6ZShzLmpvaW4oYS5fYmFzZURpcixlKSk7dHJ5e3Q9cy5ub3JtYWxpemUoYS5fcmVhbHBhdGhTeW5jKG4pKX1jYXRjaChyKXt9dCYmdCE9PW4/KGkoIlBvc3NpYmxlIHN5bWxpbms6ICVzIC0+ICVzIix0LG4pLGhbdF09e3JlYWxQYXRoOnQsbGlua2VkUGF0aDpufSxhLl93YXRjaGVyLmFkZCh0KSk6YS5fd2F0Y2hlci5hZGQoZSl9fSk7dmFyIFQ7cmV0dXJuIFEucHJvbWlzZShmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe2EuX2lzUmVhZHl8fChhLl9pc1JlYWR5PSEwLHQmJmkoIkZpbGUgc3lzdGVtIHNjYW4gaGFzIGZpbmlzaGVkIGJ5IHRpbWVvdXQiKSxlKGEuX2ZpbGVzQnlQYXRoKSl9O3RyeXthLl93YXRjaGVyLm9uKCJhbGwiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KFQpLFQ9c2V0VGltZW91dChfLmJpbmQobixudWxsLCEwKSxjKX0pLm9uKCJhZGQiLF8uYmluZChhLl93aXRoTm9ybWFsaXplZFBhdGgsYSxhLl9maWxlQWRkZWQpKS5vbigiY2hhbmdlIixfLmJpbmQoYS5fd2l0aE5vcm1hbGl6ZWRQYXRoLGEsYS5fZmlsZUNoYW5nZWQpKS5vbigidW5saW5rIixfLmJpbmQoYS5fd2l0aE5vcm1hbGl6ZWRQYXRoLGEsYS5fZmlsZURlbGV0ZWQpKS5vbigicmVhZHkiLF8uZGVib3VuY2Uobix1KSkub24oImVycm9yIixfLmJpbmQoYS5lbWl0LGEsImVycm9yIikpfWNhdGNoKHIpe3Qocil9fSl9LG4ucHJvdG90eXBlLl9oYXNHbG9iQ2hhcnM9ZnVuY3Rpb24oZSl7cmV0dXJufmUuaW5kZXhPZigiKCIpfHx+ZS5pbmRleE9mKCIpIil8fH5lLmluZGV4T2YoInwiKXx8fmUuaW5kZXhPZigieyIpfHx+ZS5pbmRleE9mKCJ9Iil8fH5lLmluZGV4T2YoIioiKXx8fmUuaW5kZXhPZigiWyIpfHx+ZS5pbmRleE9mKCJdIil9LG4ucHJvdG90eXBlLl9pc0dsb2I9ZnVuY3Rpb24oZSl7dmFyIHQ9eyJ7IjoifSIsIigiOiIpIiwiWyI6Il0ifTtpZigic3RyaW5nIiE9dHlwZW9mIGV8fCIiPT09ZSlyZXR1cm4hMTtpZigvW0A/ISsqXVwoLy50ZXN0KGUpKXJldHVybiEwO2Zvcih2YXIgbixpPS9cXCguKXwoXiF8XCp8W1xdLispXVw/fFxbW15cXFxdXStcXXxce1teXFx9XStcfXxcKFw/WzohPV1bXlxcKV0rXCl8XChbXnxdK1x8W15cXCldK1wpKS87bj1pLmV4ZWMoZSk7KXtpZihuWzJdKXJldHVybiEwO3ZhciByPW4uaW5kZXgrblswXS5sZW5ndGgscz1uWzFdLG89cz90W3NdOm51bGw7aWYocyYmbyl7dmFyIGE9ZS5pbmRleE9mKG8scik7LTEhPT1hJiYocj1hKzEpfWU9ZS5zbGljZShyKX1yZXR1cm4hMX0sbi5wcm90b3R5cGUubG9hZEZpbGVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIFEuYWxsKF8ubWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2xvYWRGaWxlKGUpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuZW1pdCgibG9hZGVkIixlKX0pfSkpfSxuLnByb3RvdHlwZS5maWxlQ2hhbmdlZEluRWRpdG9yPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBzPXRoaXMuX2ZpbGVzQnlQYXRoW2VdO2lmKHMmJiFzLmJpbmFyeSl7aSgiRmlsZSBjaGFuZ2VkIGluIGVkaXRvcjogJXMiLHMucGF0aCk7dmFyIG89dGhpcy5fbHJ1Q2FjaGUuZ2V0KHMucGF0aCk7dGhpcy5fbHJ1Q2FjaGUuc2V0KHMucGF0aCxyJiZfLmlzU3RyaW5nKG8pP286dCkscy5jaGFuZ2VUcysrLHRoaXMuX2VtaXRGaWxlQ2hhbmdlKF8uZXh0ZW5kKHt9LHMse2NvbnRlbnQ6dH0pLG8sbixyKSxzLmhhZFRyYW5zaWVudENoYW5nZT1yfX0sbi5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2lzU3RvcHBlZD0hMCx0aGlzLl93YXRjaGVyJiYodGhpcy5fd2F0Y2hlci5jbG9zZSgpLGRlbGV0ZSB0aGlzLl9scnVDYWNoZSl9LG4ucHJvdG90eXBlLmlkQnlQYXRoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2ZpbGVzQnlQYXRoW2VdO2lmKHQpcmV0dXJuIHQuaWR9LG4ucHJvdG90eXBlLl9sb2FkRmlsZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9maWxlc0J5SWRbZV07aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJObyBmaWxlIHdpdGggaWQgIitlKyIgZm91bmQiKTtyZXR1cm4gdGhpcy5fbG9hZEZpbGVXaXRoQ2FjaGUodCl9LG4ucHJvdG90eXBlLl9sb2FkRmlsZVdpdGhDYWNoZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZS5jaGFuZ2VUcyxpPXRoaXMuX2xydUNhY2hlLmdldChlLnBhdGgpO3JldHVybihfLmlzVW5kZWZpbmVkKGkpP3RoaXMuX3JlYWRGaWxlUHJvbWlzZShzLmpvaW4odC5fYmFzZURpcixlLnBhdGgpKTpRLndoZW4oaSkpLnRoZW4oZnVuY3Rpb24oaSl7cmV0dXJuIGk9aT9lLmJpbmFyeT9pLnRvU3RyaW5nKCJiYXNlNjQiKTppLnRvU3RyaW5nKCk6IiIsdC5faXNTdG9wcGVkfHxuIT09ZS5jaGFuZ2VUc3x8dC5fbHJ1Q2FjaGUuc2V0KGUucGF0aCxpKSxRLndoZW4oXy5leHRlbmQoe30sZSx7Y29udGVudDppfSkpfSlbImNhdGNoIl0oZnVuY3Rpb24oZSl7cmV0dXJuIHQuZW1pdCgiZXJyb3IiLGUpfSl9LG4ucHJvdG90eXBlLl9maWxlQWRkZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2lmKGkoIkZpbGUgYWRkZWQ6ICVzIixlKSx0JiZ0Lm1ldGFkYXRhKXt2YXIgcj10Lm1ldGFkYXRhLG89cy5leHRuYW1lKGUpLnN1YnN0cigxKTtyLmNoYW5nZVRzPTEsci5pZD0rK3RoaXMuX2ZpbGVJZCxyLnRzPXQubXRpbWUuZ2V0VGltZSgpLHIudHlwZT1vJiZvLnRvTG93ZXJDYXNlKCksci5iaW5hcnk9ci5iaW5hcnl8fGhbci50eXBlXSxyLnBhdGg9ZSx0aGlzLl9maWxlc0J5UGF0aFtlXT1yLHRoaXMuX2ZpbGVzQnlJZFtyLmlkXT1yLHRoaXMuX2lzUmVhZHkmJih0aGlzLl9scnVDYWNoZS5kZWwoZSksdGhpcy5fbG9hZEZpbGVXaXRoQ2FjaGUocikudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbi5lbWl0KCJhZGRlZCIsZSl9KSl9ZWxzZSBpKCJObyBtZXRhZGF0YSBmb3IgYWRkZWQgZmlsZSBmb3VuZDogJXMiLGUpfSxuLnByb3RvdHlwZS5fZmlsZUNoYW5nZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpKCJGaWxlIGNoYW5nZWQ6ICVzIixlKTt2YXIgbj10aGlzLl9maWxlc0J5UGF0aFtlXTtpZihuKXtpZih0aGlzLl9pc1JlYWR5KXt2YXIgcj10aGlzLl9scnVDYWNoZS5nZXQoZSk7dGhpcy5fbHJ1Q2FjaGUuZGVsKGUpO3ZhciBzPSsrbi5jaGFuZ2VUczt0aGlzLl9sb2FkRmlsZVdpdGhDYWNoZShuKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYW5nZVRzPT09cyYmdC5fZW1pdEZpbGVDaGFuZ2UoZSxyKX0pfX1lbHNlIGkoIk5vIG1ldGFkYXRhIGZvciBjaGFuZ2VkIGZpbGUgZm91bmQ6ICVzIixlKX0sbi5wcm90b3R5cGUuX2VtaXRGaWxlQ2hhbmdlPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBzPWUuY29udGVudDtpZihfLmlzU3RyaW5nKHQpKXt2YXIgbz10aGlzLl9kaWZmTWF0Y2hQYXRjaC5wYXRjaF9tYWtlKHQscyk7aWYoIW8ubGVuZ3RoKXJldHVybiBpKCJObyBjaGFuZ2VzIGRldGVjdGVkIGZvciAlcyIsZS5wYXRoKSx2b2lkIHRoaXMuZW1pdCgibm90Q2hhbmdlZCIsZSxzLG4pO2UuaGFkVHJhbnNpZW50Q2hhbmdlfHxyfHwoZS5jb250ZW50PXRoaXMuX2RpZmZNYXRjaFBhdGNoLnBhdGNoX3RvVGV4dChvKSl9dGhpcy5lbWl0KCJjaGFuZ2VkIixlLHMsbil9LG4ucHJvdG90eXBlLl9maWxlRGVsZXRlZD1mdW5jdGlvbihlKXtpKCJGaWxlIGRlbGV0ZWQ6ICVzIixlKSx0aGlzLl9scnVDYWNoZS5kZWwoZSk7dmFyIHQ9dGhpcy5fZmlsZXNCeVBhdGhbZV07dD8oZGVsZXRlIHRoaXMuX2ZpbGVzQnlQYXRoW2VdLGRlbGV0ZSB0aGlzLl9maWxlc0J5SWRbdC5pZF0sdGhpcy5faXNSZWFkeSYmdGhpcy5lbWl0KCJkZWxldGVkIix0KSk6aSgiTm8gbWV0YWRhdGEgZm9yIGRlbGV0ZWQgZmlsZSBmb3VuZDogJXMiLGUpfSxuLnByb3RvdHlwZS5fd2l0aE5vcm1hbGl6ZWRQYXRoPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbiYmbi5saW5rZWRQYXRoJiYodD1uLmxpbmtlZFBhdGgpLGUuY2FsbCh0aGlzLGwubm9ybWFsaXplUGF0aCh0KSxuKX0sbi5wcm90b3R5cGUuX2lzSW5jbHVkZWQ9ZnVuY3Rpb24oZSx0LG4saSxyKXt2YXIgbz10aGlzO3JldHVybiBmdW5jdGlvbihsLGMpe3ZhciB1PWlbbF07aWYodSlsPXMucmVsYXRpdmUoZSx1LmxpbmtlZFBhdGgpLGMmJihjLmxpbmtlZFBhdGg9bCk7ZWxzZSBpZigwPT09bC5pbmRleE9mKGUpKWw9cy5yZWxhdGl2ZShlLGwpO2Vsc2V7dmFyIGQ9Xy5maW5kKGksZnVuY3Rpb24oZSx0KXtyZXR1cm4gMD09PWwuaW5kZXhPZih0KX0pO2lmKCFkKXJldHVybiExO2w9cy5yZWxhdGl2ZShlLGwucmVwbGFjZShkLnJlYWxQYXRoLGQubGlua2VkUGF0aCkpLGMmJihjLmxpbmtlZFBhdGg9bCl9dmFyIGg9by5faXNFbnRpdHlFeGNsdWRlZChsLG4scik7aWYoaC5maWxlJiZoLnRlc3QpcmV0dXJuITE7dmFyIHA9cj8iLi8iK2w6bCxmPV8uY2xvbmUoXy5maW5kKHQsZnVuY3Rpb24oZSl7cmV0dXJuKCFoLmZpbGUmJiFlLnRlc3R8fCFoLnRlc3QmJmUudGVzdCkmJmEocCwocj8iLi8iOiIiKStlLnBhdHRlcm4pfSkpO3JldHVybiBjJiYoYy5tZXRhZGF0YT1mKSwhIWZ9fSxuLnByb3RvdHlwZS5faXNFbnRpdHlFeGNsdWRlZD1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpLHIscz1uPyIuLyIrZTplLG89MCxsPXQubGVuZ3RoO2w+bztvKyspe3ZhciBjPXRbb10sdT1jLnRlc3Q7aWYoKCFpfHx1KSYmYShzLChuPyIuLyI6IiIpK2MucGF0dGVybikpe2lmKHUpe3I9YzticmVha31pPWN9fXJldHVybntmaWxlOmksdGVzdDpyfX0sbi5wcm90b3R5cGUuX2dldEJhc2VEaXI9ZnVuY3Rpb24oZSl7dmFyIHQ9bC5ub3JtYWxpemVQYXRoKGUucmVwbGFjZSgvW1wvXFxdW15cL1xcXSpcKi4qJC8sIiIpLnJlcGxhY2UoL1tcL1xcXVteXC9cXF0qW1whXCtdXCguKiQvLCIiKS5yZXBsYWNlKC9bXC9cXF1bXlwvXFxdKlwpXD8uKiQvLCIiKXx8cy5zZXApO3JldHVybiB0aGlzLl9oYXNHbG9iQ2hhcnModCkmJih0PSIuLyIpLHR9LG59KEV2ZW50RW1pdHRlcik7dC5leHBvcnRzPXB9LHsiLi4vc2hhcmVkL3V0aWxzIjoxNSxjaG9raWRhcjp2b2lkIDAsZGVidWc6dm9pZCAwLCJscnUtY2FjaGUiOnZvaWQgMCxtaW5pbWF0Y2g6dm9pZCAwLHBhdGg6dm9pZCAwfV0sMTA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LG4pLHQucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCkscj0oZSgicGF0aCIpLGUoIm1pbmltYXRjaCIpKSxzPWUoIi4uL3NoYXJlZC91dGlscyIpLG89ZSgiLi90cmFja2VkU291cmNlRmlsZSIpLGE9ZSgiLi9jb3ZlcmFibGVSYW5nZSIpLGw9ZSgiLi9leGVjdXRlZFRlc3QiKSxjPWUoIi4vY29uc29sZU1lc3NhZ2UiKSx1PWUoIi4vZXJyb3JFbnRyeSIpLGQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXt2YXIgbj1lLmNhbGwodGhpcyl8fHRoaXMsaT1uO24uX2ZpbGVJZEJ5UGF0aD10LmZpbGVJZEJ5UGF0aCxuLl9hbHdheXNTZW5kQWxsTGluZXM9dC5hbHdheXNTZW5kQWxsTGluZXMsbi5fZmlsZXM9T2JqZWN0LmNyZWF0ZShudWxsKSxuLl9udW1iZXJPZkFsbFJhbmdlcz0wLG4uX251bWJlck9mQ292ZXJlZFJhbmdlcz0wLG4uX2NvdmVyYWdlPXt2YWx1ZTowLGxvdzohMH0sbi5fdGVzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSxuLl9mYWlsaW5nVGVzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSxuLl9nbG9iYWxFcnJvcnM9T2JqZWN0LmNyZWF0ZShudWxsKSxuLl9jaGFuZ2VkPSEwLG4uX3Byb2plY3Q9dC5wcm9qZWN0O3ZhciByPWZ1bmN0aW9uKGUpe3ZhciB0PWlbInByb2plY3Q6IitlLnR5cGVdO3QmJnQuY2FsbChpLGUpfTtyZXR1cm4gbi5fcHJvamVjdC5fbW9kZWw/bi5fcHJvamVjdC5vbigibWVzc2FnZSIscik6bi5fcHJvamVjdC5vbigibWVzc2FnZSIsZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gcihlKX0sMzApfSksbn1yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLmNvbmZpZ0ZpbGVQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHMubm9ybWFsaXplUGF0aCh0aGlzLl9wcm9qZWN0LmNvbmZpZ0ZpbGVQYXRoKCkpfSx0LnByb3RvdHlwZS5wcm9qZWN0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9qZWN0LnByb2plY3ROYW1lKCl9LHQucHJvdG90eXBlLnByb2plY3RDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvamVjdC5zZXR0aW5ncygpfSx0LnByb3RvdHlwZS5sb3dDb3ZlcmFnZVRocmVzaG9sZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9qZWN0LnNldHRpbmdzKCkubG93Q292ZXJhZ2VUaHJlc2hvbGR9LHQucHJvdG90eXBlLmNvcmVWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2plY3QuY29yZVZlcnNpb24oKX0sdC5wcm90b3R5cGUuZmlsZUJ5UGF0aD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9maWxlSWRCeVBhdGgoZSk7aWYodClyZXR1cm4gdGhpcy5fZmlsZXNbdF19LHQucHJvdG90eXBlLmZpbGVCeUlkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9maWxlc1tlXX0sdC5wcm90b3R5cGUuZmlsZUNvbnRlbnRCeVBhdGg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5maWxlQnlQYXRoKGUpO3JldHVybiB0JiZ0aGlzLl9wcm9qZWN0LnJlYWRTb3VyY2VGaWxlKHQua2V5KCkpfSx0LnByb3RvdHlwZS50ZXN0c0J5UmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD1bXTtpZihlLmZpbGUpe3ZhciBuPXRoaXMuZmlsZUJ5UGF0aChlLmZpbGUpO24mJihlLmxpbmV8fCFuLmlzVGVzdEZpbGUoKT9fLmVhY2goZS5saW5lP24ubGluZVRlc3RzKGUubGluZSk6bi5jb3ZlcmluZ1Rlc3RzKCksZnVuY3Rpb24oZSl7dC5wdXNoKFtlLmZpbGVJZCgpXS5jb25jYXQoZS5wYXRoKCkpKX0pOnQucHVzaChbbi5rZXkoKV0pKX1yZXR1cm4gdH0sdC5wcm90b3R5cGUudW5jb3ZlcmVkUmVnaW9uc0J5UmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmZpbGVCeVBhdGgoZS5maWxlKTtpZih0KXJldHVybiBfLmNoYWluKGUubGluZT90LmxpbmVSYW5nZXMoZS5saW5lKTp0LnJhbmdlcygpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUuaXNDb3ZlcmVkKCl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuW2Uuc3RhcnRMaW5lKCksZS5zdGFydENvbHVtbigpLGUuZW5kTGluZSgpLGUuZW5kQ29sdW1uKCldfSkudmFsdWUoKX0sdC5wcm90b3R5cGUubGluZVJlcG9ydEJ5UmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmZpbGVCeVBhdGgoZS5maWxlKTtpZih0KXJldHVybiB0aGlzLl9saW5lUmVwb3J0KHQsZS5saW5lKX0sdC5wcm90b3R5cGUubG9jYXRpb25CeVJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbGF0ZXN0RmFpbGluZ1Rlc3RCeUZpbGVBbmRMaW5lKGUpO2lmKHQpe2lmKCJmYWlsaW5nVGVzdCI9PT1lLnR5cGUpe3ZhciBuPXQuc3RhcnRSYW5nZSgpO3JldHVybiBuP3tmaWxlOnQuZmlsZVBhdGgoKSxsb2M6W24uc3RhcnRMaW5lKCksbi5zdGFydENvbHVtbigpXX06e319aWYoImVycm9yU291cmNlIj09PWUudHlwZSl7dmFyIGk9Xy5maW5kKHQuZXJyb3JzKCksZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuc3RhY2smJmUuc3RhY2soKS5sZW5ndGh9KTtpZighaSl7dmFyIG49dC5zdGFydFJhbmdlKCk7cmV0dXJuIG4/e2ZpbGU6dC5maWxlUGF0aCgpLGxvYzpbbi5zdGFydExpbmUoKSxuLnN0YXJ0Q29sdW1uKCldfTp7fX12YXIgcj1pLnN0YWNrKClbMF0scz1yLnJhbmdlKCksbz17fTtyZXR1cm4gby5maWxlPXIuZmlsZVBhdGgoKSxzJiYoby5sb2M9W3Muc3RhcnRMaW5lKCkscy5zdGFydENvbHVtbigpXSksb319fSx0LnByb3RvdHlwZS5fbGF0ZXN0RmFpbGluZ1Rlc3RCeUZpbGVBbmRMaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZmlsZSYmdGhpcy5maWxlQnlQYXRoKGUuZmlsZSksbj10JiZlLmxpbmUmJnQubGluZUNvdmVyaW5nVGVzdHNPcmRlcmVkQnlGYWlsaW5nVGhlbkRhdGUoZS5saW5lLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRXJyb3JTb3VyY2UoKXx8ZS5pc09uRXJyb3JQYXRoKCl9KVswXTtyZXR1cm4gbiYmbi5pc0ZhaWxpbmcoKXx8KG49dGhpcy5sYXRlc3RGYWlsaW5nVGVzdCgpKSxufSx0LnByb3RvdHlwZS5lcnJvckJ5UmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9sYXRlc3RGYWlsaW5nVGVzdEJ5RmlsZUFuZExpbmUoZSk7aWYodCl7dmFyIG49dC5lcnJvcnMoKTtpZighbi5sZW5ndGgpcmV0dXJuO3ZhciBpPXQuZmlsZUlkKCk7aWYoImVycm9yU291cmNlIj09PWUudHlwZSlyZXR1cm4gdGhpcy5fbWFwRXJyb3JzKF8uZmlsdGVyKG4sZnVuY3Rpb24odCl7cmV0dXJuIF8uZmluZCh0LnN0YWNrKCksZnVuY3Rpb24odCl7cmV0dXJuIHQuZmlsZUlkKCk9PT1pJiZ0LmxpbmUoKT09PWUubGluZX0pfSkpWzBdO2lmKCJmYWlsaW5nVGVzdCI9PT1lLnR5cGUpcmV0dXJuIHRoaXMuX21hcEVycm9ycyhuKVswXX19LHQucHJvdG90eXBlLmxhdGVzdEZhaWxpbmdUZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIF8ubGFzdChfLnZhbHVlcyh0aGlzLl9mYWlsaW5nVGVzdHMpKX0sdC5wcm90b3R5cGUuZnVsbFRlc3RSZXN1bHRzUmVwb3J0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bkVycm9yfHx7dG90YWxOdW1iZXI6Xy5zaXplKHRoaXMuX3Rlc3RzKSxmYWlsaW5nTnVtYmVyOl8uc2l6ZSh0aGlzLl9mYWlsaW5nVGVzdHMpLGVycm9yczp0aGlzLl9tYXBFcnJvcnModGhpcy5fZ2xvYmFsRXJyb3JzKSx0ZXN0czp0aGlzLl9tYXBUZXN0cyh0aGlzLl9mYWlsaW5nVGVzdHMpLnJldmVyc2UoKS52YWx1ZSgpLGFkZGl0aW9uYWxIZWFkZXJNZXNzYWdlOnRoaXMuX2FkZGl0aW9uYWxIZWFkZXJNZXNzYWdlfX0sdC5wcm90b3R5cGUuYWxsVGVzdEZpbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIF8uZmlsdGVyKHRoaXMuX2ZpbGVzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzVGVzdEZpbGUoKX0pfSx0LnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7dmFyIGU9Xy5zaXplKHRoaXMuX3Rlc3RzKSx0PV8uc2l6ZSh0aGlzLl9mYWlsaW5nVGVzdHMpO3JldHVybnt0b3RhbDplLHBhc3NlZDplLXQsZmFpbGVkOnQsY292ZXJhZ2U6dGhpcy5fY292ZXJhZ2V9fSx0LnByb3RvdHlwZS5hbGxGaWxlcz1mdW5jdGlvbigpe3JldHVybiBfLm1hcCh0aGlzLl9maWxlcyxmdW5jdGlvbihlKXtyZXR1cm57cGF0aDplLnBhdGgoKSxpZDplLmtleSgpfX0pfSx0LnByb3RvdHlwZS5nbG9iYWxFcnJvcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsRXJyb3JzfSx0LnByb3RvdHlwZVsicHJvamVjdDpzdGFydGluZyJdPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Xy5lYWNoKGUuZmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2FkZEZpbGUobmV3IG8oZSkpfSksdGhpcy5fZW1pdCgiYWxsRmlsZXMiLHtmaWxlczplLmZpbGVzfSl9LHQucHJvdG90eXBlWyJwcm9qZWN0OmZpbGUiXT1mdW5jdGlvbihlKXt2YXIgdD1lLmZpbGUsbj1lWyJkZWxldGUiXSxpPXRoaXMuZmlsZUJ5SWQodC5pZCk7aWYoaSYmIW4mJnRoaXMuX2VtaXQoImZpbGVDaGFuZ2VkIix7ZmlsZTp0fSksaXx8bnx8KGk9bmV3IG8odCksdGhpcy5fYWRkRmlsZShpKSx0aGlzLl9lbWl0KCJmaWxlQWRkZWQiLHtmaWxlOnR9KSksaSYmbil7dGhpcy5fZGVsZXRlRmlsZSh0LmlkKTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpLHM9aS5vd25UZXN0cygpO3RoaXMuX3Rlc3RzUmVtb3ZlZChzKSxfLmVhY2gocyxmdW5jdGlvbihlKXtyZXR1cm4gXy5leHRlbmQocixlLm9ic29sZXRlKCkpfSksZGVsZXRlIHJbdC5pZF0saS5pc1Rlc3RGaWxlKCkmJnRoaXMuX2VtaXQoInRlc3RGaWxlRGVsZXRlZCIse2ZpbGU6dH0pLHRoaXMuX2VtaXQoImZpbGVEZWxldGVkIix7ZmlsZTp0fSksdGhpcy5fdXBkYXRlQWZmZWN0ZWRGaWxlcyhyKSx0aGlzLl9hZ2dyZWdhdGVGaWxlQ292ZXJhZ2UoaSwhMCksdGhpcy5fdXBkYXRlVG90YWxDb3ZlcmFnZSgpLGkuZGlzcG9zZSgpfX0sdC5wcm90b3R5cGVbInByb2plY3Q6dGVzdFJ1bkVycm9yIl09ZnVuY3Rpb24oZSl7dGhpcy5fcmVwb3J0RmFpbGVkUnVuKGUubWVzc2FnZSl9LHQucHJvdG90eXBlWyJwcm9qZWN0OnRlc3RSZXN1bHRzIl09ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLGk9T2JqZWN0LmNyZWF0ZShudWxsKSxyPU9iamVjdC5jcmVhdGUobnVsbCk7bi5fYWRkaXRpb25hbEhlYWRlck1lc3NhZ2U9ZS5hZGRpdGlvbmFsSGVhZGVyTWVzc2FnZSx0aGlzLl9yZXBvcnROb3JtYWxSdW4oKSxfLmVhY2goZS50ZXN0cyxmdW5jdGlvbihyKXt2YXIgcz1uZXcgbChyKTtzLmluaXQobnVsbCxlLnRzLGZ1bmN0aW9uKGUpe2lbZS5pZCgpXT1lLHQhPT0hMSYmKHQ/dC5pc0ZhaWxpbmcoKXx8KHQ9ZS5pc0ZhaWxpbmcoKT9lOiExKTp0PWUpfSxmdW5jdGlvbihlKXtyZXR1cm4gZS5zZXRGaWxlKG4uZmlsZUJ5SWQoZS5maWxlSWQoKSkpfSl9KSxfLmVhY2goZS5sb2csZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGMoZSkscj10LnRlc3RJZCgpO2lmKDAhPT1yKXt2YXIgcz1pW3JdO3MmJnMuYWRkQ29uc29sZU1lc3NhZ2UodCl9dmFyIG89dC5maWxlSWQoKTtpZihvKXt2YXIgYT1uLmZpbGVCeUlkKG8pLGw9dC5yYW5nZSgpO2EmJmwmJihhLnNldFJhbmdlQ29uc29sZUxvZyh0LnRleHQoKSxsKSx0LnNldEZpbGUoYSkpfX0pO3ZhciBzPU9iamVjdC5jcmVhdGUobnVsbCksbz1PYmplY3QuY3JlYXRlKG51bGwpLGE9Xy5tYXAoZS5maWxlcyxmdW5jdGlvbihlKXtyZXR1cm57Y292ZXJhZ2U6ZSxmaWxlOm4uZmlsZUJ5SWQoZS5pZCl9fSksZD1fLmZpbHRlcihhLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZmlsZS5pc1Rlc3RGaWxlKCksbj1lLmNvdmVyYWdlLmNoYW5nZWQmJiFlLmNvdmVyYWdlLnNpbmdsZVRlc3RDaGFuZ2VkLGk9dCYmbjtyZXR1cm4gaT9zW2UuZmlsZS5rZXkoKV09ZS5maWxlOnQmJihvW2UuZmlsZS5rZXkoKV09ZS5maWxlKSxpfSk7Xy5lYWNoKGQsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maWxlO24uX3Rlc3RzUmVtb3ZlZCh0Lm93blRlc3RzKCkpLF8uZWFjaCh0LnJlbW92ZUFsbFRlc3RzKCksZnVuY3Rpb24oZSl7cltlLmtleSgpXT1lfSl9KSxfLmVhY2goaSxmdW5jdGlvbihlKXt2YXIgdD1uLmZpbGVCeUlkKGUuZmlsZUlkKCkpO18uZWFjaCh0LmFkZFRlc3QoZSksZnVuY3Rpb24oZSl7cltlLmtleSgpXT1lfSksbi5fdGVzdEFkZGVkKGUpfSksXy5lYWNoKGEsZnVuY3Rpb24oZSl7bi5fdXBkYXRlRmlsZVJhbmdlcyhlLGkpLHJbZS5maWxlLmtleSgpXT1lLmZpbGV9KSxfLmVhY2goaSxmdW5jdGlvbihlKXtyZXR1cm4gZS5jb21wbGV0ZUluaXRpYWxpemF0aW9uKG4uX2ZpbGVzQnlJZCgpKX0pO3ZhciBoPVtdO18uZWFjaChlLmdsb2JhbEVycm9ycyxmdW5jdGlvbihlKXt2YXIgdD1uZXcgdShlKTt0LmluaXQoKSxfLmVhY2godC5zdGFjaygpLGZ1bmN0aW9uKGUpe3ZhciBpPW4uZmlsZUJ5SWQoZS5maWxlSWQoKSk7aWYoaSl7ZS5zZXRGaWxlKGkpO3ZhciByPWkuY2xvc2VzdFJhbmdlKGUubGluZSgpKTtudWxsIT1yJiYoZS5zZXRSYW5nZShyKSxyLmZhaWxzKHQpKX19KSxoLnB1c2godCl9KSx0aGlzLl9yZXBvcnRHbG9iYWxFcnJvcnMoaCksdGhpcy5fdXBkYXRlQWZmZWN0ZWRGaWxlcyhyKSx0aGlzLl9lbWl0KCJ0ZXN0c0V4ZWN1dGVkIix7Zmlyc3RGYWlsaW5nT3JTaW5nbGVFeGVjdXRlZFRlc3Q6dHx8dm9pZCAwLGFsbEFmZmVjdGVkRmlsZXM6cixjaGFuZ2VkOnMsZXhlY3V0ZWQ6byxmdWxsUnVuOmUuZnVsbFJ1bn0pfSx0LnByb3RvdHlwZS5fYWRkRmlsZT1mdW5jdGlvbihlKXt0aGlzLl9maWxlc1tlLmtleSgpXT1lLGUuaGFzUmVwb3J0YWJsZUNvdmVyYWdlKCkmJihlLl9ub0NvdmVyYWdlQ2FsY3VsYXRpb249ISFfLmZpbmQodGhpcy5fcHJvamVjdC5zZXR0aW5ncygpLmZpbGVzV2l0aE5vQ292ZXJhZ2VDYWxjdWxhdGVkLGZ1bmN0aW9uKHQpe3JldHVybiByKGUucGF0aCgpLHQpfSkpfSx0LnByb3RvdHlwZS5fZGVsZXRlRmlsZT1mdW5jdGlvbihlKXtkZWxldGUgdGhpcy5fZmlsZXNbZV19LHQucHJvdG90eXBlLl9saW5lUmVwb3J0PWZ1bmN0aW9uKGUsdCl7cmV0dXJue3Rlc3RzOnRoaXMuX21hcFRlc3RzKGUubGluZUNvdmVyaW5nVGVzdHNPcmRlcmVkQnlGYWlsaW5nVGhlbkRhdGUodCkpfX0sdC5wcm90b3R5cGUuX3JlcG9ydEZhaWxlZFJ1bj1mdW5jdGlvbihlKXt0aGlzLl9jaGFuZ2VkPSEwLHRoaXMuX3J1bkVycm9yPWV9LHQucHJvdG90eXBlLl9yZXBvcnROb3JtYWxSdW49ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fcnVuRXJyb3J9LHQucHJvdG90eXBlLl9yZXBvcnRHbG9iYWxFcnJvcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPU9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5fY2hhbmdlZD10aGlzLl9jaGFuZ2VkfHxfLnNpemUodGhpcy5fZ2xvYmFsRXJyb3JzKSE9PWUubGVuZ3RoLF8uZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciBpPWUua2V5KCk7ZGVsZXRlIHQuX2dsb2JhbEVycm9yc1tpXSxuW2ldPWV9KSx0aGlzLl9jaGFuZ2VkPXRoaXMuX2NoYW5nZWR8fCFfLmlzRW1wdHkodGhpcy5fZ2xvYmFsRXJyb3JzKSx0aGlzLl9nbG9iYWxFcnJvcnM9bn0sdC5wcm90b3R5cGUuX3Rlc3RzUmVtb3ZlZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO18uZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciBuPWUua2V5KCksaT0hIXQuX2ZhaWxpbmdUZXN0c1tuXTtkZWxldGUgdC5fdGVzdHNbbl0sZGVsZXRlIHQuX2ZhaWxpbmdUZXN0c1tuXSx0Ll9jaGFuZ2VkPWl8fHQuX2NoYW5nZWR9KX0sdC5wcm90b3R5cGUuX3Rlc3RBZGRlZD1mdW5jdGlvbihlKXt2YXIgdD1lLmtleSgpLG49dGhpcy5fdGVzdHNbdF07dGhpcy5fdGVzdHNbdF09ZSxkZWxldGUgdGhpcy5fZmFpbGluZ1Rlc3RzW3RdLGUuaXNGYWlsaW5nKCkmJih0aGlzLl9mYWlsaW5nVGVzdHNbdF09ZSksdGhpcy5fY2hhbmdlZD0hbnx8biYmbi5pc0ZhaWxpbmcoKXx8ZS5pc0ZhaWxpbmcoKXx8dGhpcy5fY2hhbmdlZH0sdC5wcm90b3R5cGUuX2ZpbGVzQnlJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlc30sdC5wcm90b3R5cGUuX3VwZGF0ZUFmZmVjdGVkRmlsZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPU9iamVjdC5jcmVhdGUobnVsbCksaT1bXTtfLmVhY2goZSxmdW5jdGlvbihlKXt0Ll9hZ2dyZWdhdGVGaWxlQ292ZXJhZ2UoZSkmJmkucHVzaChlKTt2YXIgcj1lLnVwZGF0ZURvY3VtZW50KCk7ciYmKG5bZS5wYXRoKCldPXQuX2Fsd2F5c1NlbmRBbGxMaW5lcz9lLmFsbExpbmVzKCk6cil9KSxfLmlzRW1wdHkobil8fHRoaXMuX2VtaXQoImRvY3VtZW50c1VwZGF0ZWQiLHtkb2N1bWVudHM6bn0pO3ZhciByPXRoaXMuX2NoYW5nZWQ7ciYmZGVsZXRlIHRoaXMuX2NoYW5nZWQsaS5sZW5ndGgmJnRoaXMuX3VwZGF0ZVRvdGFsQ292ZXJhZ2UoKSx0aGlzLl9lbWl0KCJzdGF0c01heWJlQ2hhbmdlZCIse3Rlc3RSZXN1bHRzQ2hhbmdlZDpyLGZpbGVzV2l0aENoYW5nZWRDb3ZlcmFnZTppfSl9LHQucHJvdG90eXBlLl9hZ2dyZWdhdGVGaWxlQ292ZXJhZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2lmKGUuaGFzUmVwb3J0YWJsZUNvdmVyYWdlKCkpe3ZhciBpPXQ/MDplLm51bWJlck9mQWxsUmFuZ2VzKCkscj10PzA6ZS5udW1iZXJPZkNvdmVyZWRSYW5nZXMoKSxzPTAsbz0wO2lmKGUuX3ZhbHVlc0luY2x1ZGVkSW5Db3ZlcmFnZUFnZ3JlZ2F0ZT8ocz1pLWUuX3ZhbHVlc0luY2x1ZGVkSW5Db3ZlcmFnZUFnZ3JlZ2F0ZS5udW1iZXJPZkFsbFJhbmdlcyxvPXItZS5fdmFsdWVzSW5jbHVkZWRJbkNvdmVyYWdlQWdncmVnYXRlLm51bWJlck9mQ292ZXJlZFJhbmdlcyk6KHM9aSxvPXIpLGUuX3ZhbHVlc0luY2x1ZGVkSW5Db3ZlcmFnZUFnZ3JlZ2F0ZT17bnVtYmVyT2ZBbGxSYW5nZXM6aSxudW1iZXJPZkNvdmVyZWRSYW5nZXM6cn0sbi5fbnVtYmVyT2ZBbGxSYW5nZXMrPXMsbi5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKz1vLDAhPT1zfHwwIT09bylyZXR1cm4hMH19LHQucHJvdG90eXBlLl91cGRhdGVUb3RhbENvdmVyYWdlPWZ1bmN0aW9uKCl7dmFyIGU9TWF0aC5yb3VuZCgxZTQqdGhpcy5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzL3RoaXMuX251bWJlck9mQWxsUmFuZ2VzKS8xMDB8fDA7dGhpcy5fY292ZXJhZ2U9e3ZhbHVlOmUsbG93OmU8dGhpcy5sb3dDb3ZlcmFnZVRocmVzaG9sZCgpfX0sdC5wcm90b3R5cGUuX3VwZGF0ZUZpbGVSYW5nZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxpPWUuZmlsZSxyPWUuY292ZXJhZ2U7Xy5lYWNoKHIucmFuZ2VzLGZ1bmN0aW9uKGUpe3ZhciByPW5ldyBhKGUpO3IuaW5pdChpLHQpLHIuc2V0Q29uc29sZUxvZyhpLnJhbmdlQ29uc29sZUxvZyhyKSksbi5wdXNoKHIpfSksaS5zZXRSYW5nZXMobixyLmNoYW5nZWQsZS5jb3ZlcmFnZS5zaW5nbGVUZXN0Q2hhbmdlZCksaS5jbGVhclJhbmdlQ29uc29sZUxvZygpfSx0LnByb3RvdHlwZS5fbWFwVGVzdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gXyhlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue2ZhaWxpbmc6ZS5pc0ZhaWxpbmcoKSxsb2M6dC5fcmFuZ2VUb0xvYyhlLnN0YXJ0UmFuZ2UoKSksZmlsZTplLmZpbGVQYXRoKCksdGltZTplLnRpbWUoKSxlcnJvcnM6dC5fbWFwRXJyb3JzKGUuZXJyb3JzKCkpLHBhdGg6ZS5wYXRoKCksbWVzc2FnZXM6Xy5tYXAoZS5jb25zb2xlTWVzc2FnZXMoKSxmdW5jdGlvbihlKXtyZXR1cm57dHlwZTplLnR5cGUoKSx0ZXh0OmUudGV4dCgpLGZpbGU6ZS5maWxlKCkmJmUuZmlsZSgpLnBhdGgoKSxsb2M6dC5fcmFuZ2VUb0xvYyhlLnJhbmdlKCkpfHxlLmxpbmUoKSxjb250ZXh0OmUuY29udGV4dCgpfX0pfX0pfSx0LnByb3RvdHlwZS5fbWFwRXJyb3JzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIF8ubWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJue21lc3NhZ2U6ZS5tZXNzYWdlKCksc3RhY2s6Xy5tYXAoZS5zdGFjaygpLGZ1bmN0aW9uKGUpe3JldHVybntmaWxlOmUuZmlsZVBhdGgoKSxsb2M6dC5fcmFuZ2VUb0xvYyhlLnJhbmdlKCkpfHxlLmxpbmUoKSxjb250ZXh0OmUuY29udGV4dCgpfX0pLGV4cGVjdGVkOmUuZXhwZWN0ZWQoKSxhY3R1YWw6ZS5hY3R1YWwoKSxzbmFwc2hvdDplLnNuYXBzaG90KCl9fSl9LHQucHJvdG90eXBlLl9yYW5nZVRvTG9jPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnN0YXJ0TGluZSgpKyI6IitlLnN0YXJ0Q29sdW1uKCl8fHZvaWQgMH0sdC5wcm90b3R5cGUuX2VtaXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmVtaXQoIm1lc3NhZ2UiLF8uZXh0ZW5kKHt0eXBlOmV9LHQpKX0sdH0oRXZlbnRFbWl0dGVyKTt0LmV4cG9ydHM9ZH0seyIuLi9zaGFyZWQvdXRpbHMiOjE1LCIuL2NvbnNvbGVNZXNzYWdlIjozLCIuL2NvdmVyYWJsZVJhbmdlIjo0LCIuL2Vycm9yRW50cnkiOjcsIi4vZXhlY3V0ZWRUZXN0Ijo4LCIuL3RyYWNrZWRTb3VyY2VGaWxlIjoxMyxtaW5pbWF0Y2g6dm9pZCAwLHBhdGg6dm9pZCAwfV0sMTE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZSgiZGdyYW0iKSxyPWUoIm9zIikscz1lKCIuLy4uLy4uL3V0aWxzIiksbz1zLnJhbmRvbUlkKCksYT1uLm9wdGlvbnM9e3R0bDoxMjgsYWRkcmVzczoiMjMwLjAuMC4zIixwb3J0OjU2Mzk4fSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RyeXt2YXIgZT10aGlzO3RoaXMuX2xpc3RlbmVycz17fSx0aGlzLl9zZW5kZXI9aS5jcmVhdGVTb2NrZXQoInVkcDQiKSx0aGlzLl9zZW5kZXIuYmluZChmdW5jdGlvbigpe2UuX3NlbmRlci5zZXRCcm9hZGNhc3QoITApLGUuX3NlbmRlci5zZXRNdWx0aWNhc3RUVEwoYS50dGwpfSksdGhpcy5fc2VuZGVyLm9uKCJlcnJvciIsZnVuY3Rpb24oKXt0cnl7ZS5fc2VuZGVyLmNsb3NlKCl9Y2F0Y2godCl7fX0pLHRoaXMuX3JlY2VpdmVyPWkuY3JlYXRlU29ja2V0KCJ1ZHA0IiksdGhpcy5fcmVjZWl2ZXIub24oImxpc3RlbmluZyIsZnVuY3Rpb24oKXt0cnl7ZS5fcmVjZWl2ZXIuc2V0QnJvYWRjYXN0KCEwKSxlLl9yZWNlaXZlci5zZXRNdWx0aWNhc3RUVEwoYS50dGwpLGUuX3JlY2VpdmVyLmFkZE1lbWJlcnNoaXAoYS5hZGRyZXNzKX1jYXRjaCh0KXt9fSksdGhpcy5fcmVjZWl2ZXIub24oIm1lc3NhZ2UiLGZ1bmN0aW9uKHQpe3RyeXt0PUpTT04ucGFyc2UodC50b1N0cmluZygidXRmOCIpKSx0LmV2ZW50JiZ0LnNvdXJjZSYmdC5zb3VyY2VJZCYmdC5zb3VyY2UhPT1lLl9zb3VyY2UoKSYmdC5zb3VyY2VJZCE9PW8mJl8uZWFjaChlLl9saXN0ZW5lcnNbdC5ldmVudF0sZnVuY3Rpb24oZSl7CmUuYXBwbHkobnVsbCxbdC5kYXRhLHQuc291cmNlXSl9KX1jYXRjaChuKXt9fSksdGhpcy5fcmVjZWl2ZXIub24oImVycm9yIixmdW5jdGlvbigpe3RyeXtlLl9yZWNlaXZlci5jbG9zZSgpfWNhdGNoKHQpe319KSx0aGlzLl9yZWNlaXZlci5iaW5kKGEucG9ydCl9Y2F0Y2godCl7fX1yZXR1cm4gZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXt0aGlzLl9saXN0ZW5lcnMmJih0aGlzLl9saXN0ZW5lcnNbZV18fCh0aGlzLl9saXN0ZW5lcnNbZV09W10pLHRoaXMuX2xpc3RlbmVyc1tlXS5wdXNoKHQpKX0sZS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlLHQpe3RyeXt2YXIgbj1uZXcgQnVmZmVyKEpTT04uc3RyaW5naWZ5KHtldmVudDplLGRhdGE6dCxzb3VyY2U6dGhpcy5fc291cmNlKCksc291cmNlSWQ6b30pKTt0aGlzLl9zZW5kZXIuc2VuZChuLDAsbi5sZW5ndGgsYS5wb3J0LGEuYWRkcmVzcyl9Y2F0Y2goaSl7fX0sZS5wcm90b3R5cGUuX3NvdXJjZT1mdW5jdGlvbigpe3JldHVybiByLmhvc3RuYW1lKCkrIiAoIitlLl9nZXRJUHY0QWRkcmVzcygpKyIpIn0sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RyeXt0aGlzLl9zZW5kZXIuY2xvc2UoKX1jYXRjaChlKXt9dHJ5e3RoaXMuX3JlY2VpdmVyLmNsb3NlKCl9Y2F0Y2goZSl7fX0sZS5fZ2V0SVB2NEFkZHJlc3M9ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gXy5lYWNoKHIubmV0d29ya0ludGVyZmFjZXMoKSxmdW5jdGlvbih0KXtpZighZSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZigiSVB2NCI9PT1pLmZhbWlseSYmIjEyNy4wLjAuMSIhPT1pLmFkZHJlc3MmJiFpLmludGVybmFsKXJldHVybiB2b2lkKGU9aS5hZGRyZXNzKX19KSxlfHwiMC4wLjAuMCJ9LGV9KCk7dC5leHBvcnRzPW5ldyBsfSx7Ii4vLi4vLi4vdXRpbHMiOjE3LGRncmFtOnZvaWQgMCxvczp2b2lkIDB9XSwxMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihhcmd1bWVudHMubGVuZ3RoPjEpdGhpcy5fZmlsZUlkPWFyZ3VtZW50c1swXSx0aGlzLl9saW5lPWFyZ3VtZW50c1sxXSx0aGlzLl9jb250ZXh0PWFyZ3VtZW50c1syXTtlbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXS5zcGxpdCgiXyIpO3RoaXMuX2ZpbGVJZD1wYXJzZUludChlWzBdLDEwKSx0aGlzLl9saW5lPXBhcnNlSW50KGVbMV0sMTApfX1yZXR1cm4gZS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVJZCsiXyIrdGhpcy5fbGluZX0sZS5wcm90b3R5cGUuZmlsZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVJZH0sZS5wcm90b3R5cGUubGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lfSxlLnByb3RvdHlwZS5jb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHR9LGUucHJvdG90eXBlLnNldEZpbGU9ZnVuY3Rpb24oZSl7dGhpcy5fZmlsZT1lfSxlLnByb3RvdHlwZS5maWxlUGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlJiZ0aGlzLl9maWxlLnBhdGgoKX0sZS5wcm90b3R5cGUuc2V0UmFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5fcmFuZ2U9ZX0sZS5wcm90b3R5cGUucmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2V9LGV9KCk7dC5leHBvcnRzPWl9LHt9XSwxMzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1lKCIuL2NvdmVyYWJsZVJhbmdlIikscj1lKCIuL2RvY3VtZW50SW5FZGl0b3IiKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9kYXRhPWUsdGhpcy5fcmFuZ2VDb25zb2xlTG9nPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fcmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fbmV3UmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fYWZmZWN0ZWRSYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9vdXRkYXRlZFJhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2xpbmVUb1JhbmdlTWFwPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fdGVzdE1hcD1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX251bWJlck9mQ292ZXJlZFJhbmdlcz0wfXJldHVybiBlLnByb3RvdHlwZS5zZXRSYW5nZUNvbnNvbGVMb2c9ZnVuY3Rpb24oZSx0KXt2YXIgbj04MTkyLHI9aS5yYW5nZUtleSh0KSxzPXRoaXMuX3JhbmdlQ29uc29sZUxvZ1tyXTtzfHwocz10aGlzLl9yYW5nZUNvbnNvbGVMb2dbcl09W10pO3ZhciBvPWUubGVuZ3RoPm4/Ii4uLiI6IiI7ZT1lLnN1YnN0cigwLG4pLHMucHVzaChlK28pfSxlLnByb3RvdHlwZS5yYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2VzfSxlLnByb3RvdHlwZS5pbnN0cnVtZW50ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5jb3ZlcmFibGV9LGUucHJvdG90eXBlLnVwZGF0ZURvY3VtZW50PWZ1bmN0aW9uKCl7dmFyIGU9Xy5leHRlbmQoe30sdGhpcy5fbmV3UmFuZ2VzLHRoaXMuX2FmZmVjdGVkUmFuZ2VzLHRoaXMuX291dGRhdGVkUmFuZ2VzKSx0PXRoaXMuX2FsbFJhbmdlc1JlY2VpdmVkLG49dGhpcy5faW52YWxpZGF0ZURvY3VtZW50O2lmKGRlbGV0ZSB0aGlzLl9hbGxSYW5nZXNSZWNlaXZlZCxkZWxldGUgdGhpcy5faW52YWxpZGF0ZURvY3VtZW50LF8uZWFjaCh0aGlzLl9vdXRkYXRlZFJhbmdlcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5kaXNwb3NlKCl9KSx0aGlzLl9uZXdSYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9hZmZlY3RlZFJhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX291dGRhdGVkUmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZG9jdW1lbnRJbkVkaXRvcil7dmFyIGk9bj90aGlzLl9kb2N1bWVudEluRWRpdG9yLnVwZGF0ZShfLnZhbHVlcyh0aGlzLl9yYW5nZXMpLCEwLCEwKTp0aGlzLl9kb2N1bWVudEluRWRpdG9yLnVwZGF0ZShlLHQsITEpO3JldHVybiBpLmZ1bGxVcGRhdGU9bixpfX0sZS5wcm90b3R5cGUuYWxsTGluZXM9ZnVuY3Rpb24oKXtpZih0aGlzLl9kb2N1bWVudEluRWRpdG9yKXt2YXIgZT10aGlzLl9kb2N1bWVudEluRWRpdG9yLmFsbExpbmVzKCk7cmV0dXJuIGUmJihlLmNvdmVyYWdlPXt2YWx1ZTp0aGlzLmNvdmVyYWdlKCl9KSxlfX0sZS5wcm90b3R5cGUub3BlbmVkSW5FZGl0b3I9ZnVuY3Rpb24oKXt0aGlzLl9kb2N1bWVudEluRWRpdG9yfHwodGhpcy5fZG9jdW1lbnRJbkVkaXRvcj1uZXcgcix0aGlzLl9kb2N1bWVudEluRWRpdG9yLnVwZGF0ZShfLnZhbHVlcyh0aGlzLl9yYW5nZXMpLCExLCEwKSl9LGUucHJvdG90eXBlLmNsb3NlZEluQWxsRWRpdG9ycz1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9kb2N1bWVudEluRWRpdG9yfSxlLnByb3RvdHlwZS5pc09wZW5lZEluRWRpdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RvY3VtZW50SW5FZGl0b3J9LGUucHJvdG90eXBlLnNoaWZ0RG9jdW1lbnRMaW5lcz1mdW5jdGlvbihlLHQsbil7dGhpcy5fZG9jdW1lbnRJbkVkaXRvciYmdGhpcy5fZG9jdW1lbnRJbkVkaXRvci5zaGlmdExpbmVzKGUsdCxuKX0sZS5wcm90b3R5cGUuaW52YWxpZGF0ZURvY3VtZW50TGluZXM9ZnVuY3Rpb24oZSl7dGhpcy5fZG9jdW1lbnRJbkVkaXRvciYmdGhpcy5fZG9jdW1lbnRJbkVkaXRvci5pbnZhbGlkYXRlTGluZXMoZSl9LGUucHJvdG90eXBlLmludmFsaWRhdGVEb2N1bWVudD1mdW5jdGlvbigpe3RoaXMuX2RvY3VtZW50SW5FZGl0b3ImJih0aGlzLl9pbnZhbGlkYXRlRG9jdW1lbnQ9ITApfSxlLnByb3RvdHlwZS5oYXNWYWxpZERvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2ludmFsaWRhdGVEb2N1bWVudH0sZS5wcm90b3R5cGUubGluZVRlc3RzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jb3ZlcmluZ1Rlc3RzKGUpfSxlLnByb3RvdHlwZS5saW5lUmFuZ2VzPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2RvY3VtZW50SW5FZGl0b3Ipe3ZhciB0PXRoaXMuX2RvY3VtZW50SW5FZGl0b3IubGluZShlKTtpZih0KXJldHVybiB0LnJhbmdlcygpfX0sZS5wcm90b3R5cGUuY292ZXJpbmdUZXN0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb3ZlcmluZ1Rlc3RzKCl9LGUucHJvdG90eXBlLmxpbmVDb3ZlcmluZ1Rlc3RzT3JkZXJlZEJ5RmFpbGluZ1RoZW5EYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIF8uY2hhaW4odGhpcy5fY292ZXJpbmdUZXN0cyhlLHQpKS5zb3J0QnkoZnVuY3Rpb24oZSl7cmV0dXJuIWUuaXNGYWlsaW5nKCl9KS5zb3J0QnkoZnVuY3Rpb24oZSl7cmV0dXJuLWUudHMoKX0pLnZhbHVlKCl9LGUucHJvdG90eXBlLl9jb3ZlcmluZ1Rlc3RzPWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoZSl7aWYoIXRoaXMuX2RvY3VtZW50SW5FZGl0b3IpcmV0dXJuW107aWYobj10aGlzLl9kb2N1bWVudEluRWRpdG9yLmxpbmUoZSksIW4pcmV0dXJuW119dmFyIGk9bj9uLnJhbmdlcygpOnRoaXMuX3JhbmdlcztyZXR1cm4gdCYmKGk9Xy5maWx0ZXIoaSx0KSksXy5yZWR1Y2UoaSxmdW5jdGlvbihlLHQpe3JldHVybiBfLmVhY2godC5jb3ZlcmluZ1Rlc3RzKCksZnVuY3Rpb24odCl7ZVt0LmtleSgpXT10fSksZX0se30pfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX2RvY3VtZW50SW5FZGl0b3IsXy5lYWNoKHRoaXMuX3JhbmdlcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5kaXNwb3NlKCl9KSxkZWxldGUgdGhpcy5fcmFuZ2VzLGRlbGV0ZSB0aGlzLl90ZXN0TWFwfSxlLnByb3RvdHlwZS5yYW5nZUNvbnNvbGVMb2c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3JhbmdlQ29uc29sZUxvZ1tlLmtleSgpXX0sZS5wcm90b3R5cGUuY2xlYXJSYW5nZUNvbnNvbGVMb2c9ZnVuY3Rpb24oKXt0aGlzLl9yYW5nZUNvbnNvbGVMb2c9T2JqZWN0LmNyZWF0ZShudWxsKX0sZS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEuaWR9LGUucHJvdG90eXBlLnBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YS5wYXRofSxlLnByb3RvdHlwZS5hZGRUZXN0PWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC5jcmVhdGUobnVsbCksbj10aGlzLl90ZXN0TWFwW2Uua2V5KCldO3JldHVybiBuJiZfLmVhY2gobi5vYnNvbGV0ZSgpLGZ1bmN0aW9uKGUpe3RbZS5rZXkoKV09ZX0pLHRoaXMuX3Rlc3RNYXBbZS5rZXkoKV09ZSxlLnNldFRlc3RGaWxlKHRoaXMpLHR9LGUucHJvdG90eXBlLnJhbmdlQ292ZXJhZ2VDaGFuZ2VkPWZ1bmN0aW9uKGUsdCl7dGhpcy5fYWZmZWN0ZWRSYW5nZXNbZS5rZXkoKV09ZTt2YXIgbj1lLmlzQ292ZXJlZCgpO3QhPT1uJiYodGhpcy5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKz1uPzE6LTEpfSxlLnByb3RvdHlwZS5pc1Rlc3RGaWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEudGVzdH0sZS5wcm90b3R5cGUuY292ZXJhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNSZXBvcnRhYmxlQ292ZXJhZ2UoKT9NYXRoLnJvdW5kKDFlNCp0aGlzLl9udW1iZXJPZkNvdmVyZWRSYW5nZXMvXy5zaXplKHRoaXMuX3JhbmdlcykpLzEwMDp2b2lkIDB9LGUucHJvdG90eXBlLmhhc1JlcG9ydGFibGVDb3ZlcmFnZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmlzVGVzdEZpbGUoKSYmdGhpcy5pbnN0cnVtZW50ZWQoKSYmIXRoaXMuX25vQ292ZXJhZ2VDYWxjdWxhdGlvbn0sZS5wcm90b3R5cGUubnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX251bWJlck9mQ292ZXJlZFJhbmdlc30sZS5wcm90b3R5cGUubnVtYmVyT2ZBbGxSYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gXy5zaXplKHRoaXMuX3Jhbmdlcyl9LGUucHJvdG90eXBlLnNldFJhbmdlcz1mdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpczt0aGlzLl9hbGxSYW5nZXNSZWNlaXZlZD10LHQmJnRoaXMuX3JlYnVpbGRSYW5nZU1hcCgpO3ZhciByPU9iamVjdC5jcmVhdGUobnVsbCk7Xy5lYWNoKGUsZnVuY3Rpb24oZSl7dmFyIHM9ZS5rZXkoKSxvPWkuX3Jhbmdlc1tzXTtpZihvKXt2YXIgYT1vLmlzQ292ZXJlZCgpLGw9ZS5pc0NvdmVyZWQoKTt0fHxhPT09bHx8KGkuX251bWJlck9mQ292ZXJlZFJhbmdlcys9bD8xOi0xKSxvLnVwZGF0ZUZyb20oZSx0LG4pLHJbc109byxpLl9hZmZlY3RlZFJhbmdlc1tzXT1vfWVsc2UgaS5fcmFuZ2VzW3NdPWUsaS5fbmV3UmFuZ2VzW3NdPWUsZS5hdHRhY2hlZFRvU291cmNlRmlsZSgpLGUuaXNDb3ZlcmVkKCkmJiF0JiZpLl9udW1iZXJPZkNvdmVyZWRSYW5nZXMrK30pLHQmJihpLl9udW1iZXJPZkNvdmVyZWRSYW5nZXM9MCx0aGlzLl9saW5lVG9SYW5nZU1hcD1PYmplY3QuY3JlYXRlKG51bGwpLF8uZWFjaChfLnZhbHVlcyh0aGlzLl9yYW5nZXMpLGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5KCk7aWYoaS5fbmV3UmFuZ2VzW3RdfHxyW3RdKXtlLmlzQ292ZXJlZCgpJiZpLl9udW1iZXJPZkNvdmVyZWRSYW5nZXMrKztmb3IodmFyIG49ZS5zdGFydExpbmUoKTtuPD1lLmVuZExpbmUoKTtuKyspe3ZhciBzPWkuX2xpbmVUb1JhbmdlTWFwW25dOyghc3x8ZS5jbG9zZXJUb1RoZUxpbmVUaGFuKG4scykpJiYoaS5fbGluZVRvUmFuZ2VNYXBbbl09ZSl9fWVsc2UgaS5fb3V0ZGF0ZWRSYW5nZXNbdF09ZSxkZWxldGUgaS5fcmFuZ2VzW3RdfSkpfSxlLnByb3RvdHlwZS5vd25UZXN0cz1mdW5jdGlvbigpe3JldHVybiBfLnZhbHVlcyh0aGlzLl90ZXN0TWFwKX0sZS5wcm90b3R5cGUucmVtb3ZlQWxsVGVzdHM9ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBfLmVhY2godGhpcy5vd25UZXN0cygpLGZ1bmN0aW9uKHQpe18uZWFjaCh0Lm9ic29sZXRlKCksZnVuY3Rpb24odCl7ZVt0LmtleSgpXT10fSl9KSx0aGlzLl90ZXN0TWFwPU9iamVjdC5jcmVhdGUobnVsbCksZX0sZS5wcm90b3R5cGUuY2xvc2VzdFJhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9saW5lVG9SYW5nZU1hcFtlXX0sZS5wcm90b3R5cGUuX3JlYnVpbGRSYW5nZU1hcD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLl9yYW5nZXM7dGhpcy5fcmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksXy5lYWNoKHQsZnVuY3Rpb24odCl7dmFyIG49dC5rZXkoKSxpPWUuX3Jhbmdlc1tuXTtlLl9yYW5nZXNbbl09dCxpJiZpLmRpc3Bvc2UoKX0pfSxlfSgpO3QuZXhwb3J0cz1zfSx7Ii4vY292ZXJhYmxlUmFuZ2UiOjQsIi4vZG9jdW1lbnRJbkVkaXRvciI6NX1dLDE0OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXtsaW5lU3RhdGU6e25vdENvdmVyZWQ6MSxmdWxseUNvdmVyZWQ6MixwYXJ0aWFsbHlDb3ZlcmVkOjMsZXJyb3JTb3VyY2U6NCxlcnJvclBhdGg6NX19fSx7fV0sMTU6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5yZXBsYWNlKC9eXHMrfFxzKyQvZ20sIiIpfSxyPVsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXTt0LmV4cG9ydHM9e25vcm1hbGl6ZVBhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIndpbjMyIj09PXByb2Nlc3MucGxhdGZvcm0mJmU/ZS5yZXBsYWNlKC9cXC9nLCIvIik6ZX0scGFyc2VLZXk6ZnVuY3Rpb24oZSl7dmFyIHQ9e307aWYoZSl7dmFyIG49ZS5zcGxpdCgiOiIpOzI9PT1uLmxlbmd0aCYmKGU9aShuWzFdKSl9dmFyIHM9bmV3IEJ1ZmZlcihlLCJiYXNlNjQiKS50b1N0cmluZygpLnNwbGl0KCJcbiIpO3QubGljZW5zZWVOYW1lPXNbMF0sdC5saWNlbnNlVGFncz1zWzFdO3ZhciBvPXQubGljZW5zZVRhZ3Muc3BsaXQoIiwiKTtvLmxlbmd0aD49MSYmKHQubGljZW5zZWVFbWFpbD1vWzBdKSxvLmxlbmd0aD49MiYmKHQubGljZW5zZWRQcm9kdWN0PW9bMV0pLHQuZXhwaXJhdGlvbkRhdGVTdHJpbmc9c1syXSx0LmxpY2Vuc2VTaWduYXR1cmU9c1szXTt0cnl7dmFyIGE9dC5leHBpcmF0aW9uRGF0ZVN0cmluZy5zcGxpdCgiLyIpO3QuZXhwaXJhdGlvbkRhdGVTdHJpbmdGb3JtYXR0ZWQ9YVswXSsiICIrcltwYXJzZUludChhWzFdLDEwKS0xXSsiICIrYVsyXX1jYXRjaChsKXt0LmV4cGlyYXRpb25EYXRlU3RyaW5nRm9ybWF0dGVkPXQuZXhwaXJhdGlvbkRhdGVTdHJpbmd9cmV0dXJuIHR9fX0se31dLDE2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LG4pLHQucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCkscz1lKCJuZXQiKSxvPWUoImh0dHAiKSxhPWUoInVybCIpLGw9ZSgid3MiKS5TZXJ2ZXIsYz1lKCIuLi9zZXJ2ZXIvZG9jdW1lbnRJbkVkaXRvciIpLHU9WzUxMjM1LDUxMjM2LDUxMjM3LDUxMjM4LDUxMjM5LDUxMjQwLDUxMjQxLDUxMjQyLDUxMjQzLDUxMjQ0LDUyNzQyLDUyNzQzLDUyNzQ0LDUyNzQ1LDUyNzQ2LDUyNzQ3LDUyNzQ4LDUyNzQ5LDUyNzUwLDUyNzUxLDUzNTc4LDUzNTc5LDUzNTgwLDUzNTgxLDUzNTgyLDUzNTgzLDUzNTg0LDUzNTg1LDUzNTg2LDUzNTg3XSxkPTUxMjQ1LGg9JzwhRE9DVFlQRSBodG1sPlxuPGh0bWwgbGFuZz0iZW4iPlxuPGhlYWQ+XG4gICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPlxuICAgIDxsaW5rIGlkPSJmYXZpY29uIiByZWw9Imljb24iIGhyZWY9Imh0dHBzOi8vd2FsbGFieWpzLmNvbS9hcHAvZmF2aWNvbi5pY28iIHR5cGU9ImltYWdlL3gtaWNvbiIvPlxuICAgIDxsaW5rIGlkPSJzaG9ydGN1dCIgcmVsPSJzaG9ydGN1dCBpY29uIiBocmVmPSJodHRwczovL3dhbGxhYnlqcy5jb20vYXBwL2Zhdmljb24uaWNvIiB0eXBlPSJpbWFnZS94LWljb24iLz5cbiAgICA8c3R5bGU+XG4gICAgICAgIGh0bWwsXG4gICAgICAgIGJvZHkge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIH1cbiAgICA8L3N0eWxlPlxuPC9oZWFkPlxuPGJvZHkgc3R5bGU9Im1hcmdpbjowcHg7cGFkZGluZzowcHg7b3ZlcmZsb3c6aGlkZGVuOyI+XG48c2NyaXB0PlxuICB0cnkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwnbWVzc2FnZVwnLCBmdW5jdGlvbiAobSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKG0uZGF0YS50aXRsZSkge1xuICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gbS5kYXRhLnRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtLmRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgaWYgKG0uZGF0YS5zdGF0dXMucGFzc2luZykge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCdmYXZpY29uXCcpLnNldEF0dHJpYnV0ZShcJ2hyZWZcJywgXCdodHRwczovL3dhbGxhYnlqcy5jb20vYXBwL2Zhdmljb24uaWNvXCcpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCdzaG9ydGN1dFwnKS5zZXRBdHRyaWJ1dGUoXCdocmVmXCcsIFwnaHR0cHM6Ly93YWxsYWJ5anMuY29tL2FwcC9mYXZpY29uLmljb1wnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCdmYXZpY29uXCcpLnNldEF0dHJpYnV0ZShcJ2hyZWZcJywgXCdodHRwczovL3dhbGxhYnlqcy5jb20vYXBwL2Zhdmljb24tYWx0Lmljb1wnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwnc2hvcnRjdXRcJykuc2V0QXR0cmlidXRlKFwnaHJlZlwnLCBcJ2h0dHBzOi8vd2FsbGFieWpzLmNvbS9hcHAvZmF2aWNvbi1hbHQuaWNvXCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbjwvc2NyaXB0PlxuPGlmcmFtZSBzcmM9Imh0dHBzOi8vd2FsbGFieWpzLmNvbS9hcHAiIGZyYW1lYm9yZGVyPSIwIiBzdHlsZT0ib3ZlcmZsb3c6aGlkZGVuO2hlaWdodDoxMDAlO3dpZHRoOjEwMCUiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiPjwvaWZyYW1lPlxuPC9ib2R5PlxuPC9odG1sPlxuJyxwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4obil7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzLHM9cjtyZXR1cm4gci5fZmluZEZyZWVQb3J0KCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gcy5fc3RhcnQoZSxuKX0pWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gc3RhcnQgd2FsbGFieSBhcHAgc2VydmljZTogIisoZSYmZS5tZXNzYWdlKSl9KSxpPWUoImRlYnVnIikoIndhbGxhYnk6dWlTZXJ2aWNlIikscy5fY29ubmVjdGlvbnM9W10scy5fb3BlbmVkRmlsZXM9e30scn1yZXR1cm4gcihuLHQpLG4ucHJvdG90eXBlWyJ1aTpzdGFydCJdPWZ1bmN0aW9uKGUsdCl7dGhpcy5fc2VuZChfLmV4dGVuZCh7dHlwZToidWk6c3VtbWFyeSJ9LHRoaXMuX21vZGVsLnN1bW1hcnkoKSksdCk7dmFyIG49dGhpcy5fbW9kZWwuYWxsRmlsZXMoKTtfLmlzRW1wdHkobil8fHRoaXMuX3NlbmRBbGxGaWxlc1dpdGhDb3ZlcmFnZShuLHQpfSxuLnByb3RvdHlwZVsidWk6bmF2aWdhdGUiXT1mdW5jdGlvbihlKXtlLmxpbmU9cGFyc2VJbnQoZS5saW5lLDEwKSxlLmNvbHVtbj1wYXJzZUludChlLmNvbHVtbiwxMCksXy5pc05hTihlLmxpbmUpJiYoZS5saW5lPTEpLF8uaXNOYU4oZS5jb2x1bW4pJiZkZWxldGUgZS5jb2x1bW4sdGhpcy5lbWl0KCJtZXNzYWdlIixfLmV4dGVuZChlLHt0eXBlOiJuYXZpZ2F0aW9uUmVxdWVzdGVkIn0pKX0sbi5wcm90b3R5cGVbInVpOnJ1blRlc3RzIl09ZnVuY3Rpb24oZSl7dGhpcy5fbW9kZWwuX3Byb2plY3QucnVuVGVzdHMoe3Rlc3RzOmUudGVzdHN9KX0sbi5wcm90b3R5cGVbInVpOm9wZW5lZEluRWRpdG9yIl09ZnVuY3Rpb24oZSl7dGhpcy5fb3BlbmVkRmlsZXNbZS5wYXRoXT90aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdKys6dGhpcy5fb3BlbmVkRmlsZXNbZS5wYXRoXT0xfSxuLnByb3RvdHlwZVsidWk6Y2xvc2VkSW5FZGl0b3IiXT1mdW5jdGlvbihlKXt0aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdJiZ0aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdLS19LG4ucHJvdG90eXBlWyJ1aTpjb2RlUmVxdWVzdGVkIl09ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLGk9dGhpcy5fbW9kZWwuZmlsZUNvbnRlbnRCeVBhdGgoZS5wYXRoKTtpJiZpLnRoZW4oZnVuY3Rpb24oaSl7dmFyIHIscz1uZXcgYyxvPW4uX21vZGVsLmZpbGVCeVBhdGgoZS5wYXRoKSxhPVtdLGw9W107byYmby5pbnN0cnVtZW50ZWQoKSYmKHMudXBkYXRlKF8udmFsdWVzKG8ucmFuZ2VzKCkpLCExLCEwKSxsPXMuYWxsTGluZXMoKS5saW5lc3x8W10sYT1uLl9tb2RlbC51bmNvdmVyZWRSZWdpb25zQnlSZXF1ZXN0KHtmaWxlOmUucGF0aH0pfHxbXSxyPW4uX3JlcG9ydEZpbGVDb3ZlcmFnZShvKSksbi5fc2VuZCh7dHlwZToidWk6Y29kZSIsY29ycmVsYXRpb25JZDplLmNvcnJlbGF0aW9uSWQsY29kZTppLnRvU3RyaW5nKCksbGluZXM6bCx1bmNvdmVyZWRSZWdpb25zOmEsY292ZXJhZ2U6cn0sdCl9KX0sbi5wcm90b3R5cGVbInVpOnRlc3RzOnJlc3VsdHNSZXF1ZXN0ZWQiXT1mdW5jdGlvbihlLHQpe3QuX2FsbG93ZWRUb1NlbmRUZXN0UmVzdWx0cz0hMCx0aGlzLl9zZW5kVGVzdFJlc3VsdHModm9pZCAwLHQpfSxuLnByb3RvdHlwZVsidWk6dGVzdHM6cmVzdWx0c0FiYW5kb25lZCJdPWZ1bmN0aW9uKGUsdCl7dC5fYWxsb3dlZFRvU2VuZFRlc3RSZXN1bHRzPSExfSxuLnByb3RvdHlwZVsibW9kZWw6dGVzdEZpbGVEZWxldGVkIl09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztfLmVhY2godGhpcy5fY29ubmVjdGlvbnMsZnVuY3Rpb24obil7bi5fYWxsb3dlZFRvU2VuZFRlc3RSZXN1bHRzJiZ0Ll9zZW5kKHt0eXBlOiJ1aTp0ZXN0czpzb21lUmVzdWx0c1VwZGF0ZWQiLGZpbGVzOlt7cGF0aDplLmZpbGUucGF0aCxhY3Rpb246ImRlbGV0ZWQifV19LG4pfSl9LG4ucHJvdG90eXBlWyJtb2RlbDphbGxGaWxlcyJdPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Xy5lYWNoKHRoaXMuX2Nvbm5lY3Rpb25zLGZ1bmN0aW9uKG4pe24uX2FsbG93ZWRUb1NlbmRBbGxGaWxlcyYmdC5fc2VuZEFsbEZpbGVzV2l0aENvdmVyYWdlKF8ubWFwKGUuZmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJue3BhdGg6ZS5wYXRoLGlkOmUuaWR9fSksbil9KX0sbi5wcm90b3R5cGVbIm1vZGVsOmZpbGVBZGRlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX3NlbmQoe3R5cGU6InVpOmZpbGVzIixmaWxlczpbe2FjdGlvbjoiYWRkZWQiLHBhdGg6ZS5maWxlLnBhdGgsaWQ6ZS5maWxlLmlkLHRlc3Q6ZS5maWxlLnRlc3R8fHZvaWQgMH1dfSl9LG4ucHJvdG90eXBlWyJtb2RlbDpmaWxlQ2hhbmdlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX3NlbmQoe3R5cGU6InVpOmZpbGVzIixmaWxlczpbe2FjdGlvbjoiY2hhbmdlZCIscGF0aDplLmZpbGUucGF0aCxpZDplLmZpbGUuaWR9XX0pfSxuLnByb3RvdHlwZVsibW9kZWw6ZmlsZURlbGV0ZWQiXT1mdW5jdGlvbihlKXt0aGlzLl9zZW5kKHt0eXBlOiJ1aTpmaWxlcyIsZmlsZXM6W3thY3Rpb246ImRlbGV0ZWQiLHBhdGg6ZS5maWxlLnBhdGgsaWQ6ZS5maWxlLmlkfV19KX0sbi5wcm90b3R5cGVbIm1vZGVsOnRlc3RzRXhlY3V0ZWQiXT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuX3NlbmQoXy5leHRlbmQoe3R5cGU6InVpOnN1bW1hcnkifSx0aGlzLl9tb2RlbC5zdW1tYXJ5KCkpKSxfLmVhY2godGhpcy5fY29ubmVjdGlvbnMsZnVuY3Rpb24obil7bi5fYWxsb3dlZFRvU2VuZFRlc3RSZXN1bHRzJiZ0Ll9zZW5kVGVzdFJlc3VsdHMoZSxuKX0pLCFfLmlzRW1wdHkoZS5hbGxBZmZlY3RlZEZpbGVzKSl7dmFyIG49W10saT1fLnJlZHVjZShlLmFsbEFmZmVjdGVkRmlsZXMsZnVuY3Rpb24oZSxpKXt2YXIgcj10Ll9yZXBvcnRGaWxlQ292ZXJhZ2UoaSk7cmV0dXJuIHImJnIudmFsdWVDaGFuZ2VkJiYoZGVsZXRlIHIudmFsdWVDaGFuZ2VkLGVbaS5rZXkoKV09ciksdC5fb3BlbmVkRmlsZXNbaS5wYXRoKCldJiZuLnB1c2goe2FjdGlvbjoiYWZmZWN0ZWQiLHBhdGg6aS5wYXRoKCksaWQ6aS5rZXkoKSx0ZXN0OmkuaXNUZXN0RmlsZSgpfHx2b2lkIDB9KSxlfSx7fSk7Xy5pc0VtcHR5KGkpfHx0aGlzLl9zZW5kKHt0eXBlOiJ1aTpjb3ZlcmFnZUNoYW5nZWQiLGNoYW5nZXM6aX0pLF8uaXNFbXB0eShuKXx8dGhpcy5fc2VuZCh7dHlwZToidWk6ZmlsZXMiLGZpbGVzOm59KX19LG4ucHJvdG90eXBlLl9yZXBvcnRGaWxlQ292ZXJhZ2U9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQsbj1lLmNvdmVyYWdlKCk7cmV0dXJuIG4+PTAmJih0PXt2YWx1ZTpuLGxvdzpuPHRoaXMuX21vZGVsLmxvd0NvdmVyYWdlVGhyZXNob2xkKCkscmFuZ2VzOntjb3ZlcmVkOmUubnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKCksYWxsOmUubnVtYmVyT2ZBbGxSYW5nZXMoKX0sdmFsdWVDaGFuZ2VkOmUuX2xhdGVzdFJlcG9ydGVkQ292ZXJhZ2VWYWx1ZSE9PW58fHZvaWQgMH0sZS5fbGF0ZXN0UmVwb3J0ZWRDb3ZlcmFnZVZhbHVlPW4pLHR9fSxuLnByb3RvdHlwZS5fc2VuZEFsbEZpbGVzV2l0aENvdmVyYWdlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczt0Ll9hbGxvd2VkVG9TZW5kQWxsRmlsZXM9ITEsdGhpcy5fc2VuZCh7dHlwZToidWk6ZmlsZXMiLGZpbGVzOmUubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PW4uX21vZGVsLmZpbGVCeUlkKGUuaWQpO3JldHVybnthY3Rpb246ImFkZGVkIixwYXRoOmUucGF0aCxpZDplLmlkLHRlc3Q6dCYmdC5pc1Rlc3RGaWxlKCl8fHZvaWQgMCxjb3ZlcmFnZTpuLl9yZXBvcnRGaWxlQ292ZXJhZ2UodCl9fSl9LHQpfSxuLnByb3RvdHlwZS5fc2VuZFRlc3RSZXN1bHRzPWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLHM9InNvbWVSZXN1bHRzVXBkYXRlZCI7ZT8oZS5mdWxsUnVuJiYocz0iYWxsUmVzdWx0c1VwZGF0ZWQiKSxuPWUuY2hhbmdlZCxpPWUuZXhlY3V0ZWQscj1lLmZpcnN0RmFpbGluZ09yU2luZ2xlRXhlY3V0ZWRUZXN0KToocz0iYWxsUmVzdWx0c1VwZGF0ZWQiLG49dGhpcy5fbW9kZWwuYWxsVGVzdEZpbGVzKCkpLHRoaXMuX3NlbmQoe3R5cGU6InVpOnRlc3RzOiIrcyxmaWxlczp0aGlzLl9jcmVhdGVUZXN0UmVzdWx0cyhuLHIsImNoYW5nZWQiKS5jb25jYXQodGhpcy5fY3JlYXRlVGVzdFJlc3VsdHMoaSxyLCJleGVjdXRlZCIpKX0sdCl9LG4ucHJvdG90eXBlLl9jcmVhdGVUZXN0UmVzdWx0cz1mdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcyxyPV8ucmVkdWNlKHRoaXMuX21vZGVsLmdsb2JhbEVycm9ycygpLGZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoXy5lYWNoKHQuc3RhY2soKSxmdW5jdGlvbihlKXt2YXIgdD1lLmZpbGVJZCgpO2lmKHQpe3ZhciByPWkuX21vZGVsLmZpbGVCeUlkKHQpO2lmKHIuaXNUZXN0RmlsZSgpKXJldHVybiBuPXIsITF9fSksbil7dmFyIHI9ZVtuLmtleSgpXT1lW24ua2V5KCldfHxbXTtyLnB1c2goe21lc3NhZ2U6dC5tZXNzYWdlKCksc3RhY2s6Xy5tYXAodC5zdGFjaygpLGZ1bmN0aW9uKGUpe3JldHVybiBpLl9idWlsZExvY2F0aW9uKGUsZS5maWxlUGF0aCgpKX0pfSl9cmV0dXJuIGV9LHt9KXx8e307cmV0dXJuIF8ubWFwKGUsZnVuY3Rpb24oZSl7dmFyIHM9e307cmV0dXJuIF8uZWFjaChlLm93blRlc3RzKCksZnVuY3Rpb24oZSl7dmFyIG49ZS5wYXRoKCkscj0iOiIrXy5sYXN0KG4pLG89cztuLmxlbmd0aD4xJiZfLmVhY2goXy50YWtlKG4sbi5sZW5ndGgtMSksZnVuY3Rpb24oZSl7ZT0iOiIrZTt2YXIgdD1vW2VdO3R8fCh0PXt9LG9bZV09dCksbz10fSk7dmFyIGE9Xy5tYXAoZS5jb3ZlcmVkRmlsZXMoKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXkoKX0pO18uaXNFbXB0eShhKSYmKGE9dm9pZCAwKSxvW3JdPXtpc1Rlc3Q6ITAsZmlyc3RGYWlsaW5nT3JTaW5nbGVFeGVjdXRlZDplPT09dHx8dm9pZCAwLG5hbWU6ci5zdWJzdHIoMSksdGltZTplLnRpbWUoKSxzbG93OmUuc2xvdygpLGxpbmU6ZS5zdGFydFJhbmdlKCk/ZS5zdGFydFJhbmdlKCkuc3RhcnRMaW5lKCk6MSxsb2dzOl8ubWFwKGUuY29uc29sZU1lc3NhZ2VzKCksZnVuY3Rpb24oZSl7dmFyIHQ9e21lc3NhZ2U6ZS50ZXh0KCl9O3JldHVybiBlLmZpbGUoKSYmKHQubG9jYXRpb249aS5fYnVpbGRMb2NhdGlvbihlLGUuZmlsZSgpLnBhdGgoKSkpLHR9KSxlcnJvcnM6Xy5tYXAoZS5lcnJvcnMoKSxmdW5jdGlvbihlKXtyZXR1cm57bWVzc2FnZTplLm1lc3NhZ2UoKSxzdGFjazpfLm1hcChlLnN0YWNrKCksZnVuY3Rpb24oZSl7cmV0dXJuIGkuX2J1aWxkTG9jYXRpb24oZSxlLmZpbGVQYXRoKCkpfSksYWN0dWFsOmUuYWN0dWFsKCksZXhwZWN0ZWQ6ZS5leHBlY3RlZCgpfX0pLGNvdmVyZWRGaWxlczphfX0pLHtwYXRoOmUucGF0aCgpLGFjdGlvbjpuLHRlc3RzOmkuX2J1aWxkQXJyYXlUZXN0U3RydWN0dXJlKHMpLGVycm9yczpyW2Uua2V5KCldfX0pfSxuLnByb3RvdHlwZS5fYnVpbGRMb2NhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBuPXtwYXRoOnR9O3JldHVybiBlLnJhbmdlKCk/KG4ubGluZT1lLnJhbmdlKCkuc3RhcnRMaW5lKCksbi5jb2x1bW49ZS5yYW5nZSgpLnN0YXJ0Q29sdW1uKCkpOmUubGluZSgpJiYobi5saW5lPWUubGluZSgpKSxuLmNvbnRleHQ9ZS5jb250ZXh0KCksbn0sbi5wcm90b3R5cGUuX2J1aWxkQXJyYXlUZXN0U3RydWN0dXJlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIF8ubWFwKGUsZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5pc1Rlc3Q9PT0hMD8oZGVsZXRlIGUuaXNUZXN0LGUpOntuYW1lOm4uc3Vic3RyKDEpLHRlc3RzOnQuX2J1aWxkQXJyYXlUZXN0U3RydWN0dXJlKGUpfX0pfSxuLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXt2YXIgdD1uWyJtb2RlbDoiK2UudHlwZV07dCYmdC5jYWxsKG4sZSl9KX0scz1mdW5jdGlvbigpe24uX3dzcz1uZXcgbCh7cG9ydDplLHZlcmlmeUNsaWVudDpmdW5jdGlvbihlKXt2YXIgdD0hMTt0cnl7dmFyIG49YS5wYXJzZShlLm9yaWdpbik7dD0id2FsbGFieWpzLmNvbSI9PT1uLmhvc3RuYW1lfWNhdGNoKGkpe31yZXR1cm4gdH19KSxuLl93c3Mub24oImNvbm5lY3Rpb24iLGZ1bmN0aW9uKGUpe2koIlVJIGNsaWVudCBjb25uZWN0ZWQiKSxuLl9tb2RlbD10LGUuX2FsbG93ZWRUb1NlbmRUZXN0UmVzdWx0cz0hMSxlLl9hbGxvd2VkVG9TZW5kQWxsRmlsZXM9ITAsIW4uX2Nvbm5lY3Rpb25zLmxlbmd0aCYmbi5fbW9kZWwub24oIm1lc3NhZ2UiLHIpLG4uX2Nvbm5lY3Rpb25zLnB1c2goZSksZS5vbigibWVzc2FnZSIsZnVuY3Rpb24odCl7dmFyIHI7dHJ5e3I9SlNPTi5wYXJzZSh0KX1jYXRjaChzKXtyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gZGVzZXJpYWxpemUgbWVzc2FnZSBmcm9tIHdhbGxhYnkgVUk6ICIrdCsiLCAiKyhzJiZzLm1lc3NhZ2UpKX1pKCJJbmNvbWluZyBtZXNzYWdlICVzIixyLnR5cGUpO3ZhciBvPW5bci50eXBlXTtvJiZvLmNhbGwobixyLGUpfSksZS5vbigiY2xvc2UiLGZ1bmN0aW9uKCl7aSgiVUkgY2xpZW50IGRpc2Nvbm5lY3RlZCIpLG4uX2Nvbm5lY3Rpb25zPW4uX2Nvbm5lY3Rpb25zLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdCE9ZX0pLCFuLl9jb25uZWN0aW9ucy5sZW5ndGgmJm4uX21vZGVsLnJlbW92ZUxpc3RlbmVyKCJtZXNzYWdlIixyKX0pLG4uX3NlbmQoe3R5cGU6InVpOmhhbmRzaGFrZSIscHJvamVjdDp7bmFtZTpuLl9tb2RlbC5wcm9qZWN0TmFtZSgpLHBhdGg6bi5fbW9kZWwuY29uZmlnRmlsZVBhdGgoKSxjb25maWc6bi5fbW9kZWwucHJvamVjdENvbmZpZygpfSx2ZXJzaW9uOm4uX21vZGVsLmNvcmVWZXJzaW9uKCl9LGUpfSksaSgiTGlzdGVuaW5nIHBvcnQgJXMiLGUpfTtuLl9jaGVja1BvcnQoZCkudGhlbihmdW5jdGlvbihlKXtpZihlKXRyeXtuLl9odHRwU2VydmVyPW8uY3JlYXRlU2VydmVyKGZ1bmN0aW9uKGUsdCl7dC53cml0ZUhlYWQoMjAwLHsiQ29udGVudC1UeXBlIjoidGV4dC9odG1sIn0pLHQud3JpdGUoaCksdC5lbmQoKX0pLm9uY2UoImxpc3RlbmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gcygpfSkubGlzdGVuKGUpfWNhdGNoKHQpe3MoKX1lbHNlIHMoKX0pfSxuLnByb3RvdHlwZS5fc2VuZD1mdW5jdGlvbihlLHQpe3QmJigidWk6dGVzdHM6YWxsUmVzdWx0c1VwZGF0ZWQiPT09ZS50eXBlPyh0Ll9zb21lUmVzdWx0c1Jlc3BvbnNlU2VxTnVtPTAsZS5zZXE9dC5fc29tZVJlc3VsdHNSZXNwb25zZVNlcU51bSsrKToidWk6dGVzdHM6c29tZVJlc3VsdHNVcGRhdGVkIj09PWUudHlwZSYmKGUuc2VxPXQuX3NvbWVSZXN1bHRzUmVzcG9uc2VTZXFOdW0rKykpLGkoIk91dGdvaW5nIG1lc3NhZ2UgJXMiLGUudHlwZSk7dmFyIG49SlNPTi5zdHJpbmdpZnkoZSk7dD90LnNlbmQobik6Xy5lYWNoKHRoaXMuX2Nvbm5lY3Rpb25zLGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlbmQobil9KX0sbi5wcm90b3R5cGUuX2ZpbmRGcmVlUG9ydD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIFEuYWxsKF8ubWFwKHUsZnVuY3Rpb24odCl7cmV0dXJuIGUuX2NoZWNrUG9ydCh0KX0pKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBfLmZpbmQoZSxmdW5jdGlvbihlKXtyZXR1cm4hIWV9KX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGV8fFEucmVqZWN0KG5ldyBFcnJvcigiQ2FuIG5vdCBmaW5kIGEgZnJlZSBwb3J0IikpfSl9LG4ucHJvdG90eXBlLl9jaGVja1BvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPXMuY3JlYXRlU2VydmVyKCkub25jZSgiZXJyb3IiLGZ1bmN0aW9uKHQpe3JldHVybiBuKHQmJiJFQUREUk5PVEFWQUlMIj09PXQuY29kZT9lOjApfSkub25jZSgibGlzdGVuaW5nIixmdW5jdGlvbigpe3JldHVybiBpLm9uY2UoImNsb3NlIixmdW5jdGlvbigpe3JldHVybiBuKGUpfSkuY2xvc2UoKX0pLmxpc3RlbihlLHQpfX07cmV0dXJuIFEucHJvbWlzZSh0KCIwLjAuMC4wIikpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGU/US5wcm9taXNlKHQoIjEyNy4wLjAuMSIpKTowfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZT9RLnByb21pc2UodCgiOjoxIikpOjB9KX0sbi5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fd3NzJiZlLl93c3MuY2xvc2UoKSxlLl9odHRwU2VydmVyJiZlLl9odHRwU2VydmVyLmNsb3NlKCl9LG59KEV2ZW50RW1pdHRlcik7dC5leHBvcnRzPXB9LHsiLi4vc2VydmVyL2RvY3VtZW50SW5FZGl0b3IiOjUsZGVidWc6dm9pZCAwLGh0dHA6dm9pZCAwLG5ldDp2b2lkIDAsdXJsOnZvaWQgMCx3czp2b2lkIDB9XSwxNzpbZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWUoInBhdGgiKSxyPS9eXHMqKFwvXCpcKj8oLnxccj9cbikqP1wqXC8pLyxzPS9eXHMqLyxvPS9bXHUwMDFiXHUwMDliXVtbKCkjOz9dKig/OlswLTldezEsNH0oPzo7WzAtOV17MCw0fSkqKT9bMC05QS1QUlpjZi1ucXJ5PT48XS9nO3QuZXhwb3J0cz17cmFuZG9tSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsNSl9LG5vb3BUcnVlOmZ1bmN0aW9uKCl7cmV0dXJuITB9LG5vb3BUcnVlUHJvbWlzZTpmdW5jdGlvbigpe3JldHVybiBRLmZjYWxsKHRoaXMubm9vcFRydWUpfSxpc1BhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmxlbmd0aD4yJiYiQCI9PT1lWzBdJiYiQCI9PT1lWzFdfSxkb2NCbG9ja0NvbW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXRjaChyKTtyZXR1cm4gdD90WzBdLnJlcGxhY2UocywiIil8fCIiOiIifSx0ZXh0SW5kZXhQb3NpdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMudGV4dExpbmVzKGUsdCk7cmV0dXJue2xpbmU6bi5sZW5ndGgsY29sdW1uOm5bbi5sZW5ndGgtMV0ubGVuZ3RofX0sdGV4dExpbmVzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9Xy5pc1VuZGVmaW5lZCh0KT9lOmUuc3Vic3RyKDAsdCksZS5zcGxpdCgvXHJcbnxccnxcbi8pfSx2ZXJpZnlMb2NhbE9yaWdpbjpmdW5jdGlvbih0LG4pe2lmKCF0KXJldHVybiEwO3ZhciBpPSExO3RyeXt2YXIgcj1lKCJ1cmwiKS5wYXJzZSh0KS5ob3N0bmFtZTtpPSJsb2NhbGhvc3QiPT09cnx8IjAuMC4wLjAiPT09cnx8IjEyNy4wLjAuMSI9PT1yfHwiOjoxIj09PXJ9Y2F0Y2gocyl7fXJldHVybiBpfHxufHxjb25zb2xlLmVycm9yKCJ3YWxsYWJ5LmpzIHJlZnVzZWQgdG8gYWNjZXB0IGNvbm5lY3Rpb24gZnJvbSAiK3QpLGl9LHBhdGNoTW9kdWxlOmZ1bmN0aW9uKHQsbil7dmFyIGk9ZSgibW9kdWxlIikuTW9kdWxlLnByb3RvdHlwZSxyPWkucmVxdWlyZTtpLnJlcXVpcmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10P24oci5iaW5kKHRoaXMpKTpyLmNhbGwodGhpcyxlKX19LHJlcXVpcmVNb2R1bGVGcm9tOmZ1bmN0aW9uKHQsbil7dHJ5e3JldHVybiBlKGkuam9pbih0LCJub2RlX21vZHVsZXMiLG4pKX1jYXRjaChyKXt2YXIgcz1lKCJtb2R1bGUiKSxvPW5ldyBzKCIuIixudWxsKTtyZXR1cm4gby5maWxlbmFtZT1pLmpvaW4odCwid2FsbGFieS5qcyIpLG8ucGF0aHM9cy5fbm9kZU1vZHVsZVBhdGhzKHQpLHMuX2xvYWQobixvLCExKX19LHJlc29sdmVNb2R1bGVQYXRoRnJvbTpmdW5jdGlvbih0LG4pe3ZhciByPWUoIm1vZHVsZSIpLHM9bmV3IHIoIi4iLG51bGwpO3JldHVybiBzLmZpbGVuYW1lPWkuam9pbih0LCJ3YWxsYWJ5LmpzIikscy5wYXRocz1yLl9ub2RlTW9kdWxlUGF0aHModCksci5fcmVzb2x2ZUZpbGVuYW1lKG4scywhMSl9LGhhc0Fuc2k6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChvKX0scmVtb3ZlQW5zaTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmInN0cmluZyI9PXR5cGVvZiBlP2UucmVwbGFjZShvLCIiKTplfX19LHttb2R1bGU6dm9pZCAwLHBhdGg6dm9pZCAwLHVybDp2b2lkIDB9XX0se30sWzFdKTs=